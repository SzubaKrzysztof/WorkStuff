!function(e,t){for(var i in t)e[i]=t[i]}(window,function(i){function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n={};return r.m=i,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){var i,n;if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;if(r.r(i=Object.create(null)),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=69)}([function(e,t,i){e.exports=i(88)},function(e,t,i){e.exports=i(90)},function(e,t,i){e.exports=i(79)},function(e,t,i){e.exports=i(115)},function(e,t,i){e.exports=i(120)},function(e,t,i){e.exports=i(70)},function(e,t){e=e.exports={version:"2.6.10"};"number"==typeof __e&&(__e=e)},function(e,t){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(e,t,i){e.exports=i(118)},function(e,t,i){var p=i(7),m=i(6),v=i(23),g=i(16),A=i(18),w="prototype",y=function(e,t,i){var n,r,o,s=e&y.F,a=e&y.G,l=e&y.S,h=e&y.P,c=e&y.B,u=e&y.W,_=a?m:m[t]||(m[t]={}),d=_[w],f=a?p:l?p[t]:(p[t]||{})[w];for(n in a&&(i=t),i)(r=!s&&f&&void 0!==f[n])&&A(_,n)||(o=(r?f:i)[n],_[n]=a&&"function"!=typeof f[n]?i[n]:c&&r?v(o,p):u&&f[n]==o?function(n){function e(e,t,i){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,i)}return n.apply(this,arguments)}return e[w]=n[w],e}(o):h&&"function"==typeof o?v(Function.call,o):o,h&&((_.virtual||(_.virtual={}))[n]=o,e&y.R&&d&&!d[n]&&g(d,n,o)))};y.F=1,y.G=2,y.S=4,y.P=8,y.B=16,y.W=32,y.U=64,y.R=128,e.exports=y},function(e,t,i){var n=i(40)("wks"),r=i(30),o=i(7).Symbol,s="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=s&&o[e]||(s?o:r)("Symbol."+e))}).store=n},function(e,t,i){var n=i(15);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,i){e.exports=i(98)},function(e,t,i){e.exports=!i(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,i){var n=i(11),r=i(51),o=i(37),s=Object.defineProperty;t.f=i(13)?Object.defineProperty:function(e,t,i){if(n(e),t=o(t,!0),n(i),r)try{return s(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){var n=i(14),r=i(28);e.exports=i(13)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){var n=i(54),r=i(26);e.exports=function(e){return n(r(e))}},function(e,t,i){e.exports=i(112)},function(e,t,i){"use strict";var n,r,o,s,a,l;Object.defineProperty(t,"__esModule",{value:!0}),n={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},r=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],o=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],s=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"],a="undefined"!=typeof window&&void 0!==window.document?window.document:{},l="fullscreenEnabled"in a&&Object.keys(n)||r[0]in a&&r||o[0]in a&&o||s[0]in a&&s||[],t.default={requestFullscreen:function(e){return e[l[n.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[l[n.requestFullscreen]]},get exitFullscreen(){return a[l[n.exitFullscreen]].bind(a)},addEventListener:function(e,t,i){return a.addEventListener(l[n[e]],t,i)},removeEventListener:function(e,t,i){return a.removeEventListener(l[n[e]],t,i)},get fullscreenEnabled(){return!!a[l[n.fullscreenEnabled]]},set fullscreenEnabled(e){},get fullscreenElement(){return a[l[n.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return a[("on"+l[n.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return a[("on"+l[n.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return a[("on"+l[n.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return a[("on"+l[n.fullscreenerror]).toLowerCase()]=e}}},function(e,t){e.exports=!0},function(e,t,i){var o=i(27);e.exports=function(n,r,e){if(o(n),void 0===r)return n;switch(e){case 1:return function(e){return n.call(r,e)};case 2:return function(e,t){return n.call(r,e,t)};case 3:return function(e,t,i){return n.call(r,e,t,i)}}return function(){return n.apply(r,arguments)}}},function(e,t){e.exports={}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){var n=i(53),r=i(41);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t,i){var n=i(14).f,r=i(18),o=i(10)("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,i){var n=i(26);e.exports=function(e){return Object(n(e))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,i){"use strict";var n=i(71)(!0);i(50)(String,"String",function(e){this._t=e+"",this._i=0},function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(t=n(e,t),this._i+=t.length,{value:t,done:!1})})},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:i)(e)}},function(e,t,i){var n=i(15),r=i(7).document,o=n(r)&&n(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,i){var r=i(15);e.exports=function(e,t){if(!r(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!r(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,i){function n(){}var r=i(11),o=i(73),s=i(41),a=i(39)("IE_PROTO"),l="prototype",h=function(){var e=i(36)("iframe"),t=s.length;for(e.style.display="none",i(56).appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),h=e.F;t--;)delete h[l][s[t]];return h()};e.exports=Object.create||function(e,t){var i;return null!==e?(n[l]=r(e),i=new n,n[l]=null,i[a]=e):i=h(),void 0===t?i:o(i,t)}},function(e,t,i){var n=i(40)("keys"),r=i(30);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,i){var n=i(6),r=i(7),o="__core-js_shared__",s=r[o]||(r[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i(22)?"pure":"global",copyright:"ÂŠ 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){var n,r,o,s,a,l,h,c;for(i(76),n=i(7),r=i(16),o=i(24),s=i(10)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++)(c=(c=n[h=a[l]])&&c.prototype)&&!c[s]&&r(c,s,h),o[h]=o.Array},function(e,t,i){t.f=i(10)},function(e,t,i){var n=i(7),r=i(6),o=i(22),s=i(43),a=i(14).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=!o&&n.Symbol||{});"_"==e[0]||e in t||a(t,e,{value:s.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports="\t\n\v\f\r  áá ââââââââââââŻâă\u2028\u2029\ufeff"},function(e,t,i){"use strict";function n(e){var i,n;this.promise=new e(function(e,t){if(void 0!==i||void 0!==n)throw TypeError("Bad Promise constructor");i=e,n=t}),this.resolve=r(i),this.reject=r(n)}var r=i(27);e.exports.f=function(e){return new n(e)}},function(e,t,i){e.exports=i(93)},function(e,t,i){e.exports=i(95)},function(e,t,i){"use strict";function g(){return this}var A=i(22),w=i(9),y=i(52),b=i(16),E=i(24),x=i(72),k=i(31),B=i(57),T=i(10)("iterator"),M=!([].keys&&"next"in[].keys()),O="values";e.exports=function(e,t,i,n,r,o,s){var a,l,h,c,u,_,d,f,p,m,v;if(x(i,t,n),l=t+" Iterator",h=r==O,c=!(a=function(e){if(!M&&e in u)return u[e];switch(e){case"keys":case O:return function(){return new i(this,e)}}return function(){return new i(this,e)}}),u=e.prototype,d=(_=u[T]||u["@@iterator"]||r&&u[r])||a(r),f=r?h?a("entries"):d:void 0,(n="Array"==t&&u.entries||_)&&(v=B(n.call(new e)))!==Object.prototype&&v.next&&(k(v,l,!0),A||"function"==typeof v[T]||b(v,T,g)),h&&_&&_.name!==O&&(c=!0,d=function(){return _.call(this)}),A&&!s||!M&&!c&&u[T]||b(u,T,d),E[t]=d,E[l]=g,r)if(p={values:h?d:a(O),keys:o?d:a("keys"),entries:f},s)for(m in p)m in u||y(u,m,p[m]);else w(w.P+w.F*(M||c),t,p);return p}},function(e,t,i){e.exports=!i(13)&&!i(17)(function(){return 7!=Object.defineProperty(i(36)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){e.exports=i(16)},function(e,t,i){var s=i(18),a=i(19),l=i(74)(!1),h=i(39)("IE_PROTO");e.exports=function(e,t){var i,n=a(e),r=0,o=[];for(i in n)i!=h&&s(n,i)&&o.push(i);for(;t.length>r;)s(n,i=t[r++])&&(~l(o,i)||o.push(i));return o}},function(e,t,i){var n=i(25);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,i){var n=i(35),r=Math.min;e.exports=function(e){return 0<e?r(n(e),9007199254740991):0}},function(e,t,i){i=i(7).document;e.exports=i&&i.documentElement},function(e,t,i){var n=i(18),r=i(32),o=i(39)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,i){var n=i(53),r=i(41).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},function(e,t,i){var n=i(33),r=i(28),o=i(19),s=i(37),a=i(18),l=i(51),h=Object.getOwnPropertyDescriptor;t.f=i(13)?h:function(e,t){if(e=o(e),t=s(t,!0),l)try{return h(e,t)}catch(e){}if(a(e,t))return r(!n.f.call(e,t),e[t])}},function(e,t){},function(e,t,i){var o=i(9),n=i(26),s=i(17),a=i(46),i="["+a+"]",r=RegExp("^"+i+i+"*"),l=RegExp(i+i+"*$"),i=function(e,t,i){var n={},r=s(function(){return!!a[e]()||"âÂ"!="âÂ"[e]()}),t=n[e]=r?t(h):a[e];i&&(n[i]=t),o(o.P+o.F*r,"String",n)},h=i.trim=function(e,t){return e=n(e)+"",1&t&&(e=e.replace(r,"")),2&t&&(e=e.replace(l,"")),e};e.exports=i},function(e,t,i){var n=i(25),r=i(10)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?e:o?n(t):"Object"==(e=n(t))&&"function"==typeof t.callee?"Arguments":e}},function(e,t,i){var n=i(62),r=i(10)("iterator"),o=i(24);e.exports=i(6).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||o[n(e)]}},function(e,t,i){var n=i(11),r=i(27),o=i(10)("species");e.exports=function(e,t){var i,e=n(e).constructor;return void 0===e||null==(i=n(e)[o])?t:r(i)}},function(e,t,i){function n(){var e,t=+this;v.hasOwnProperty(t)&&(e=v[t],delete v[t],e())}function r(e){n.call(e.data)}var o,s=i(23),a=i(104),l=i(56),h=i(36),c=i(7),u=c.process,_=c.setImmediate,d=c.clearImmediate,f=c.MessageChannel,p=c.Dispatch,m=0,v={},g="onreadystatechange";_&&d||(_=function(e){for(var t=[],i=1;i<arguments.length;)t.push(arguments[i++]);return v[++m]=function(){a("function"==typeof e?e:Function(e),t)},o(m),m},d=function(e){delete v[e]},"process"==i(25)(u)?o=function(e){u.nextTick(s(n,e,1))}:p&&p.now?o=function(e){p.now(s(n,e,1))}:f?(f=(i=new f).port2,i.port1.onmessage=r,o=s(f.postMessage,f,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(o=function(e){c.postMessage(e+"","*")},c.addEventListener("message",r,!1)):o=g in h("script")?function(e){l.appendChild(h("script"))[g]=function(){l.removeChild(this),n.call(e)}}:function(e){setTimeout(s(n,e,1),0)}),e.exports={set:_,clear:d}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,i){var n=i(11),r=i(15),o=i(47);e.exports=function(e,t){return n(e),r(t)&&t.constructor===e?t:((0,(e=o.f(e)).resolve)(t),e.promise)}},function(e,t,i){e.exports=i(123)},function(e,t,i){e.exports=i(125)},function(e,t,i){i(34),i(42),e.exports=i(43).f("iterator")},function(e,t,i){var s=i(35),a=i(26);e.exports=function(o){return function(e,t){var i,n=a(e)+"",r=s(t),e=n.length;return r<0||e<=r?o?"":void 0:(t=n.charCodeAt(r))<55296||56319<t||r+1===e||(i=n.charCodeAt(r+1))<56320||57343<i?o?n[0|r]:t:o?n.slice(r,r+2):i-56320+(t-55296<<10)+65536}}},function(e,t,i){"use strict";var n=i(38),r=i(28),o=i(31),s={};i(16)(s,i(10)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(s,{next:r(1,i)}),o(e,t+" Iterator")}},function(e,t,i){var s=i(14),a=i(11),l=i(29);e.exports=i(13)?Object.defineProperties:function(e,t){var i,n,r,o;for(a(e),n=(i=l(t)).length,r=0;r<n;)s.f(e,o=i[r++],t[o]);return e}},function(e,t,i){var l=i(19),h=i(55),c=i(75);e.exports=function(a){return function(e,t,i){var n,r=l(e),o=h(r.length),s=c(i,o);if(a&&t!=t){for(;s<o;)if((n=r[s++])!=n)return!0}else for(;s<o;s++)if((a||s in r)&&r[s]===t)return a||s||0;return!a&&-1}}},function(e,t,i){var n=i(35),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?r(e+t,0):o(e,t)}},function(e,t,i){"use strict";var n=i(77),r=i(78),o=i(24),s=i(19);e.exports=i(50)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,i){i(80),i(60),i(85),i(86),e.exports=i(6).Symbol},function(e,t,i){"use strict";function n(e){var t=W[e]=C(N[G]);return t._k=e,t}function r(e,t){var i,n,r,o;for(B(e),n=0,r=(i=x(t=O(t))).length;n<r;)ne(e,o=i[n++],t[o]);return e}function o(e){var t=V.call(this,e=R(e,!0));return!(this===Z&&_(W,e)&&!_(J,e))&&(!(t||!_(this,e)||!_(W,e)||_(this,H)&&this[H][e])||t)}function s(e,t){if(e=O(e),t=R(t,!0),e!==Z||!_(W,t)||_(J,t)){var i=U(e,t);return!i||!_(W,t)||_(e,H)&&e[H][t]||(i.enumerable=!0),i}}var a,l,h,c,u=i(7),_=i(18),d=i(13),f=i(9),p=i(52),m=i(81).KEY,v=i(17),g=i(40),A=i(31),w=i(30),y=i(10),b=i(43),E=i(44),x=i(82),k=i(83),B=i(11),T=i(15),M=i(32),O=i(19),R=i(37),Q=i(28),C=i(38),I=i(84),D=i(59),z=i(45),S=i(14),F=i(29),U=D.f,L=S.f,P=I.f,N=u.Symbol,j=u.JSON,q=j&&j.stringify,G="prototype",H=y("_hidden"),Y=y("toPrimitive"),V={}.propertyIsEnumerable,X=g("symbol-registry"),W=g("symbols"),J=g("op-symbols"),Z=Object[G],K="function"==typeof N&&!!z.f,$=u.QObject,ee=!$||!$[G]||!$[G].findChild,te=d&&v(function(){return 7!=C(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=U(Z,t);n&&delete Z[t],L(e,t,i),n&&e!==Z&&L(Z,t,n)}:L,ie=K&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},ne=function(e,t,i){return e===Z&&ne(J,t,i),B(e),t=R(t,!0),B(i),_(W,t)?(i.enumerable?(_(e,H)&&e[H][t]&&(e[H][t]=!1),i=C(i,{enumerable:Q(0,!1)})):(_(e,H)||L(e,H,Q(1,{})),e[H][t]=!0),te(e,t,i)):L(e,t,i)},g=function(e){for(var t,i=P(O(e)),n=[],r=0;i.length>r;)_(W,t=i[r++])||t==H||t==m||n.push(t);return n},$=function(e){for(var t,i=e===Z,n=P(i?J:O(e)),r=[],o=0;n.length>o;)!_(W,t=n[o++])||i&&!_(Z,t)||r.push(W[t]);return r};for(K||(p((N=function(e){var t,i;if(this instanceof N)throw TypeError("Symbol is not a constructor!");return t=w(0<arguments.length?e:void 0),i=function(e){this===Z&&i.call(J,e),_(this,H)&&_(this[H],t)&&(this[H][t]=!1),te(this,t,Q(1,e))},d&&ee&&te(Z,t,{configurable:!0,set:i}),n(t)})[G],"toString",function(){return this._k}),D.f=s,S.f=ne,i(58).f=I.f=g,i(33).f=o,z.f=$,d&&!i(22)&&p(Z,"propertyIsEnumerable",o,!0),b.f=function(e){return n(y(e))}),f(f.G+f.W+f.F*!K,{Symbol:N}),a="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),l=0;a.length>l;)y(a[l++]);for(h=F(y.store),c=0;h.length>c;)E(h[c++]);f(f.S+f.F*!K,"Symbol",{for:function(e){return _(X,e+="")?X[e]:X[e]=N(e)},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol!");for(var t in X)if(X[t]===e)return t},useSetter:function(){ee=!0},useSimple:function(){ee=!1}}),f(f.S+f.F*!K,"Object",{create:function(e,t){return void 0===t?C(e):r(C(e),t)},defineProperty:ne,defineProperties:r,getOwnPropertyDescriptor:s,getOwnPropertyNames:g,getOwnPropertySymbols:$}),$=v(function(){z.f(1)}),f(f.S+f.F*$,"Object",{getOwnPropertySymbols:function(e){return z.f(M(e))}}),j&&f(f.S+f.F*(!K||v(function(){var e=N();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))})),"JSON",{stringify:function(e){for(var t,i,n=[e],r=1;r<arguments.length;)n.push(arguments[r++]);if(i=t=n[1],(T(t)||void 0!==e)&&!ie(e))return k(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!ie(t))return t}),n[1]=t,q.apply(j,n)}}),N[G][Y]||i(16)(N[G],Y,N[G].valueOf),A(N,"Symbol"),A(Math,"Math",!0),A(u.JSON,"JSON",!0)},function(e,t,i){function n(e){a(e,r,{value:{i:"O"+ ++l,w:{}}})}var r=i(30)("meta"),o=i(15),s=i(18),a=i(14).f,l=0,h=Object.isExtensible||function(){return!0},c=!i(17)(function(){return h(Object.preventExtensions({}))}),u=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,r)){if(!h(e))return"F";if(!t)return"E";n(e)}return e[r].i},getWeak:function(e,t){if(!s(e,r)){if(!h(e))return!0;if(!t)return!1;n(e)}return e[r].w},onFreeze:function(e){return c&&u.NEED&&h(e)&&!s(e,r)&&n(e),e}}},function(e,t,i){var a=i(29),l=i(45),h=i(33);e.exports=function(e){var t,i,n,r,o=a(e),s=l.f;if(s)for(t=s(e),i=h.f,n=0;t.length>n;)i.call(e,r=t[n++])&&o.push(r);return o}},function(e,t,i){var n=i(25);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){var n=i(19),r=i(58).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return r(e)}catch(e){return s.slice()}}(e):r(n(e))}},function(e,t,i){i(44)("asyncIterator")},function(e,t,i){i(44)("observable")},function(e,t,i){},function(e,t,i){i(89);var n=i(6).Object;e.exports=function(e,t,i){return n.defineProperty(e,t,i)}},function(e,t,i){var n=i(9);n(n.S+n.F*!i(13),"Object",{defineProperty:i(14).f})},function(e,t,i){i(91),e.exports=i(6).parseInt},function(e,t,i){var n=i(9),i=i(92);n(n.G+n.F*(parseInt!=i),{parseInt:i})},function(e,t,i){var n=i(7).parseInt,r=i(61).trim,i=i(46),o=/^[-+]?0[xX]/;e.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(e,t){e=r(e+"",3);return n(e,t>>>0||(o.test(e)?16:10))}:n},function(e,t,i){i(94),e.exports=i(6).Date.now},function(e,t,i){i=i(9);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,i){i(96),e.exports=i(6).parseFloat},function(e,t,i){var n=i(9),i=i(97);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},function(e,t,i){var n=i(7).parseFloat,r=i(61).trim;e.exports=1/n(i(46)+"-0")!=-1/0?function(e){var t=r(e+"",3),e=n(t);return 0===e&&"-"==t[0]?-0:e}:n},function(e,t,i){i(60),i(34),i(42),i(99),i(110),i(111),e.exports=i(6).Promise},function(e,t,i){"use strict";function n(){}function u(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t}function r(c,t){var i;c._n||(c._n=!0,i=c._c,b(function(){for(var l=c._v,h=1==c._s,e=0;i.length>e;)!function(e){var t,i,n,r=h?e.ok:e.fail,o=e.resolve,s=e.reject,a=e.domain;try{r?(h||(2==c._h&&F(c),c._h=1),!0===r?t=l:(a&&a.enter(),t=r(l),a&&(a.exit(),n=!0)),t===e.promise?s(M("Promise-chain cycle")):(i=u(t))?i.call(t,o,s):o(t)):s(l)}catch(e){a&&!n&&a.exit(),s(e)}}(i[e++]);c._c=[],c._n=!1,t&&!c._h&&z(c)}))}function o(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),r(t,!0))}var s,a,l,h,c=i(22),_=i(7),d=i(23),f=i(62),p=i(9),m=i(15),v=i(27),g=i(100),A=i(101),w=i(64),y=i(65).set,b=i(105)(),E=i(47),x=i(66),k=i(106),B=i(67),T="Promise",M=_.TypeError,O=_.process,R=O&&O.versions,Q=R&&R.v8||"",C=_[T],I="process"==f(O),D=a=E.f,f=!!function(){var e,t;try{return t=((e=C.resolve(1)).constructor={})[i(10)("species")]=function(e){e(n,n)},(I||"function"==typeof PromiseRejectionEvent)&&e.then(n)instanceof t&&Q.indexOf("6.6")&&!~k.indexOf("Chrome/66")}catch(e){}}(),z=function(r){y.call(_,function(){var e,t,i=r._v,n=S(r);if(n&&(e=x(function(){I?O.emit("unhandledRejection",i,r):(t=_.onunhandledrejection)?t({promise:r,reason:i}):(t=_.console)&&t.error&&t.error("Unhandled promise rejection",i)}),r._h=I||S(r)?2:1),r._a=void 0,n&&e.e)throw e.v})},S=function(e){return 1!==e._h&&0===(e._a||e._c).length},F=function(t){y.call(_,function(){var e;I?O.emit("rejectionHandled",t):(e=_.onrejectionhandled)&&e({promise:t,reason:t._v})})},U=function(e){var i,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw M("Promise can't be resolved itself");(i=u(e))?b(function(){var t={_w:n,_d:!1};try{i.call(e,d(U,t,1),d(o,t,1))}catch(e){o.call(t,e)}}):(n._v=e,n._s=1,r(n,!1))}catch(e){o.call({_w:n,_d:!1},e)}}};f||(C=function(e){g(this,C,T,"_h"),v(e),s.call(this);try{e(d(U,this,1),d(o,this,1))}catch(e){o.call(this,e)}},(s=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(107)(C.prototype,{then:function(e,t){var i=D(w(this,C));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=I?O.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&r(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),l=function(){var e=new s;this.promise=e,this.resolve=d(U,e,1),this.reject=d(o,e,1)},E.f=D=function(e){return e===C||e===h?new l:a(e)}),p(p.G+p.W+p.F*!f,{Promise:C}),i(31)(C,T),i(108)(T),h=i(6)[T],p(p.S+p.F*!f,T,{reject:function(e){var t=D(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(c||!f),T,{resolve:function(e){return B(c&&this===h?C:this,e)}}),p(p.S+p.F*!(f&&i(109)(function(e){C.all(e).catch(n)})),T,{all:function(e){var s=this,t=D(s),a=t.resolve,l=t.reject,i=x(function(){var n=[],r=0,o=1;A(e,!1,function(e){var t=r++,i=!1;n.push(void 0),o++,s.resolve(e).then(function(e){i||(i=!0,n[t]=e,--o||a(n))},l)}),--o||a(n)});return i.e&&l(i.v),t.promise},race:function(e){var t=this,i=D(t),n=i.reject,r=x(function(){A(e,!1,function(e){t.resolve(e).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},function(e,t){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,t,i){var u=i(23),_=i(102),d=i(103),f=i(11),p=i(55),m=i(63),v={},g={};(t=e.exports=function(e,t,i,n,r){var o,s,a,l,r=r?function(){return e}:m(e),h=u(i,n,t?2:1),c=0;if("function"!=typeof r)throw TypeError(e+" is not iterable!");if(d(r)){for(o=p(e.length);c<o;c++)if((l=t?h(f(s=e[c])[0],s[1]):h(e[c]))===v||l===g)return l}else for(a=r.call(e);!(s=a.next()).done;)if((l=_(a,h,s.value,t))===v||l===g)return l}).BREAK=v,t.RETURN=g},function(e,t,i){var o=i(11);e.exports=function(e,t,i,n){try{return n?t(o(i)[0],i[1]):t(i)}catch(t){var r=e.return;throw void 0!==r&&o(r.call(e)),t}}},function(e,t,i){var n=i(24),r=i(10)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[r]===e)}},function(e,t){e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,t,i){var a=i(7),l=i(65).set,h=a.MutationObserver||a.WebKitMutationObserver,c=a.process,u=a.Promise,_="process"==i(25)(c);e.exports=function(){function e(){var e,t;for(_&&(e=c.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?s():n=void 0,e}}n=void 0,e&&e.enter()}var i,n,t,r,o,s=_?function(){c.nextTick(e)}:!h||a.navigator&&a.navigator.standalone?u&&u.resolve?(o=u.resolve(void 0),function(){o.then(e)}):function(){l.call(a,e)}:(t=!0,r=document.createTextNode(""),new h(e).observe(r,{characterData:!0}),function(){r.data=t=!t});return function(e){e={fn:e,next:void 0};n&&(n.next=e),i||(i=e,s()),n=e}}},function(e,t,i){i=i(7).navigator;e.exports=i&&i.userAgent||""},function(e,t,i){var r=i(16);e.exports=function(e,t,i){for(var n in t)i&&e[n]?e[n]=t[n]:r(e,n,t[n]);return e}},function(e,t,i){"use strict";var n=i(7),r=i(6),o=i(14),s=i(13),a=i(10)("species");e.exports=function(e){e=("function"==typeof r[e]?r:n)[e];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(e,t,i){var n,o=i(10)("iterator"),s=!1;try{(n=[7][o]()).return=function(){s=!0},Array.from(n,function(){throw 2})}catch(e){}e.exports=function(e,t){var i,n,r;if(!t&&!s)return!1;i=!1;try{(r=(n=[7])[o]()).next=function(){return{done:i=!0}},n[o]=function(){return r},e(n)}catch(e){}return i}},function(e,t,i){"use strict";var n=i(9),r=i(6),o=i(7),s=i(64),a=i(67);n(n.P+n.R,"Promise",{finally:function(t){var i=s(this,r.Promise||o.Promise),e="function"==typeof t;return this.then(e?function(e){return a(i,t()).then(function(){return e})}:t,e?function(e){return a(i,t()).then(function(){throw e})}:t)}})},function(e,t,i){"use strict";var n=i(9),r=i(47),o=i(66);n(n.S,"Promise",{try:function(e){var t=r.f(this),e=o(e);return(e.e?t.reject:t.resolve)(e.v),t.promise}})},function(e,t,i){i(113),e.exports=i(6).Object.assign},function(e,t,i){var n=i(9);n(n.S+n.F,"Object",{assign:i(114)})},function(e,t,i){"use strict";var _=i(13),d=i(29),f=i(45),p=i(33),m=i(32),v=i(54),r=Object.assign;e.exports=!r||i(17)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=r({},e)[i]||Object.keys(r({},t)).join("")!=n})?function(e,t){for(var i,n,r,o,s,a=m(e),l=arguments.length,h=1,c=f.f,u=p.f;h<l;)for(i=v(arguments[h++]),r=(n=c?d(i).concat(c(i)):d(i)).length,o=0;o<r;)s=n[o++],_&&!u.call(i,s)||(a[s]=i[s]);return a}:r},function(e,t,i){i(116),e.exports=i(6).Object.getPrototypeOf},function(e,t,i){var n=i(32),r=i(57);i(117)("getPrototypeOf",function(){return function(e){return r(n(e))}})},function(e,t,i){var r=i(9),o=i(6),s=i(17);e.exports=function(e,t){var i=(o.Object||{})[e]||Object[e],n={};n[e]=t(i),r(r.S+r.F*s(function(){i(1)}),"Object",n)}},function(e,t,i){i(119);var n=i(6).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,i){var n=i(9);n(n.S,"Object",{create:i(38)})},function(e,t,i){i(121),e.exports=i(6).Object.setPrototypeOf},function(e,t,i){var n=i(9);n(n.S,"Object",{setPrototypeOf:i(122).set})},function(e,t,r){function o(e,t){if(n(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var i=r(15),n=r(11);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,i,n){try{(n=r(23)(Function.call,r(59).f(Object.prototype,"__proto__").set,2))(e,[]),i=!(e instanceof Array)}catch(e){i=!0}return function(e,t){return o(e,t),i?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:o}},function(e,t,i){i(42),i(34),e.exports=i(124)},function(e,t,i){var n=i(11),r=i(63);e.exports=i(6).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,i){"use strict";function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function r(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function o(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function s(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function a(e){return(a="function"==typeof ie.a&&"symbol"==typeof te.a?function(e){return typeof e}:function(e){return e&&"function"==typeof ie.a&&e.constructor===ie.a&&e!==ie.a.prototype?"symbol":typeof e})(e)}function l(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function h(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function c(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function u(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function _(e){return(_="function"==typeof ie.a&&"symbol"==typeof te.a?function(e){return typeof e}:function(e){return e&&"function"==typeof ie.a&&e.constructor===ie.a&&e!==ie.a.prototype?"symbol":typeof e})(e)}function d(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function f(e){return(f=Ar.a?vr.a:function(e){return e.__proto__||vr()(e)})(e)}function p(e){return(p="function"==typeof ie.a&&"symbol"==typeof te.a?function(e){return typeof e}:function(e){return e&&"function"==typeof ie.a&&e.constructor===ie.a&&e!==ie.a.prototype?"symbol":typeof e})(e)}function m(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function v(e){return(v=Ar.a?vr.a:function(e){return e.__proto__||vr()(e)})(e)}function g(e){return(g="function"==typeof ie.a&&"symbol"==typeof te.a?function(e){return typeof e}:function(e){return e&&"function"==typeof ie.a&&e.constructor===ie.a&&e!==ie.a.prototype?"symbol":typeof e})(e)}function A(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function y(e){return(y=Ar.a?vr.a:function(e){return e.__proto__||vr()(e)})(e)}function b(e){return(b="function"==typeof ie.a&&"symbol"==typeof te.a?function(e){return typeof e}:function(e){return e&&"function"==typeof ie.a&&e.constructor===ie.a&&e!==ie.a.prototype?"symbol":typeof e})(e)}function E(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function x(e){return(x=Ar.a?vr.a:function(e){return e.__proto__||vr()(e)})(e)}function k(e){return(k="function"==typeof ie.a&&"symbol"==typeof te.a?function(e){return typeof e}:function(e){return e&&"function"==typeof ie.a&&e.constructor===ie.a&&e!==ie.a.prototype?"symbol":typeof e})(e)}function B(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function T(e){return(T=Ar.a?vr.a:function(e){return e.__proto__||vr()(e)})(e)}function M(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function O(e){return(O="function"==typeof ie.a&&"symbol"==typeof te.a?function(e){return typeof e}:function(e){return e&&"function"==typeof ie.a&&e.constructor===ie.a&&e!==ie.a.prototype?"symbol":typeof e})(e)}function R(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function Q(e){return(Q=Ar.a?vr.a:function(e){return e.__proto__||vr()(e)})(e)}function C(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function I(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function D(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){var i,n,r=!0,o=!1,s=void 0;try{for(i=Cr()(Ir);!(r=(n=i.next()).done);r=!0)n=n.value,e.addEventListener(n[0],t.utils.stopEventPropagation,n[1])}catch(e){o=!0,s=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw s}}}function F(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function U(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function L(e){return(L="function"==typeof ie.a&&"symbol"==typeof te.a?function(e){return typeof e}:function(e){return e&&"function"==typeof ie.a&&e.constructor===ie.a&&e!==ie.a.prototype?"symbol":typeof e})(e)}function P(e){return(P=Ar.a?vr.a:function(e){return e.__proto__||vr()(e)})(e)}function N(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function j(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function q(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function G(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function H(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function Y(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function V(){return Y(t.prototype,[{key:"to_viewer_scale_range",value:function(e){return void 0!==e?e*(1-this.renderer.min_scale)+this.renderer.min_scale:0}},{key:"from_viewer_scale_range",value:function(e){return 1==this.renderer.min_scale?1:(e-this.renderer.min_scale)/(1-this.renderer.min_scale)}},{key:"setScene",value:function(e){var t,i,n,r=this;if(this.renderer.dispatchEvent("set_scene"),this.scene_center_complete=!0,this.scene_zoom_complete=!0,!this.renderer.animating){for(t in this.scene={},e)e.hasOwnProperty(t)&&(this.scene[t]=e[t]);if(void 0===this.scene.hangle&&void 0===this.scene.vangle||(i=this.scene.hangle,n=this.scene.vangle,void 0===i&&(i=this.renderer.hangle),void 0===n&&(n=this.renderer.vangle),n=this.renderer.get_closest_frame(i,n),this.scene.hangle=n.hangle,this.scene.vangle=n.vangle),!(this.setSceneHanglInc(e)||this.setScenePanInc(e)||this.setSceneVanglInc(e)||this.setSceneMode(e)||this.setSceneFullscreen(e)||this.setSceneZoomMul(e)||this.setSceneAutorotate(e)||this.setSceneScaleUp(e)||this.setSceneResetPosition(e)||this.setSceneScaleDown(e))){if(n=this.getScene(),!(!(null==e.scale||e.scale==n.scale||e.scale<=this.renderer.min_scale&&n.scale==this.renderer.min_scale||e.scale>=this.renderer.max_scale&&n.scale==this.renderer.max_scale)||null!=e.centerX&&e.centerx!=n.centerx||null!=e.centerY&&e.centery!=n.centery||null!=e.centerx&&e.centerx!=n.centerx||null!=e.centery&&e.centery!=n.centery||null!=e.hangle&&e.hangle!=n.hangle||null!=e.vangle&&e.vangle!=n.vangle))return this.renderer.animating=!1,void this.renderer.dispatchEvent("set_scene_complete");this.renderer.dispatchEvent("activity_start"),(e.hangle||e.vangle)&&void 0===e.scale&&(this.scene.scale=n.scale),this.animating_timeout=setTimeout(function(){r.renderer.animating=!1,r.renderer.dispatchEvent("set_scene_complete")},2e3),this.renderer.changeMode(this.renderer.MODE_ROTATE),this.renderer.animating=!0,this.sequence_scene_zoom_out()}}}},{key:"setSceneFullscreen",value:function(e){return"toggle"===e.fullscreen?(this.renderer.toggle_fullscreen_mode(),!0):"pre"===e.fullscreen?(this.renderer.pre_fullscreen_setup(),!0):"enter"===e.fullscreen?(this.renderer.on_fullscreen_enter(),!0):"cancel"===e.fullscreen&&(this.renderer.on_fullscreen_cancel(),!0)}},{key:"setSceneMode",value:function(e){var t=!1;return!!e.mode&&("rotate"===e.mode?(t=this.renderer.mode!=this.renderer.MODE_ROTATE,this.renderer.changeMode(this.renderer.MODE_ROTATE),this.renderer.set_forced_mode("rotate"),this.renderer.control_panel.drag_rotate_button?this.renderer.control_panel.drag_rotate_button.switch_mode("rotate"):t&&this.renderer.dispatchEvent("mode_changed","rotate")):"move"===e.mode||"drag"===e.mode?(t=this.renderer.mode!=this.renderer.MODE_DRAG,this.renderer.changeMode(this.renderer.MODE_DRAG),this.renderer.set_forced_mode("drag"),this.renderer.control_panel.drag_rotate_button?this.renderer.control_panel.drag_rotate_button.switch_mode("drag"):t&&this.renderer.dispatchEvent("mode_changed","drag")):"onerotation"===e.mode?(this.renderer.changeMode(this.renderer.MODE_ONEROTATION),this.renderer.dispatchEvent("mode_changed","onerotation")):"onerotationslow"===e.mode&&(this.renderer.changeMode(this.renderer.MODE_ONEROTATION_SLOW),this.renderer.dispatchEvent("mode_changed","onerotationslow")),!0)}},{key:"setSceneZoomMul",value:function(e){if(!e.zoomMul||e.scaleUp||e.scaleDown)return!1;e=0<(e=+e.zoomMul)?this.renderer.scale*e:this.renderer.scale/(-1*e);return this.renderer.transform({scale:e}),!0}},{key:"setSceneResetPosition",value:function(e){var t,i;return"yes"===e.reset_position&&(t=void 0!==e.hangle?e.hangle:this.renderer.params.first_frame,i=void 0!==e.vangle?e.vangle:this.renderer.params.first_row,e=void 0!==e.scale?e.scale:this.renderer.min_scale,this.renderer.transform({scale:e,vangle:i,hangle:t}),this.renderer.dispatchEvent("set_scene_complete"),!0)}},{key:"setSceneScaleUp",value:function(e){var t=this;return!!e.scaleUp&&(this.scalling_timeout&&clearTimeout(this.scalling_timeout),this.scalling_timeout=window.setTimeout(function(){t.renderer.scalling=!1,clearTimeout(t.scalling_timeout)},500),this.renderer.scalling=!0,this.renderer.scaleUp(),!0)}},{key:"setSceneScaleDown",value:function(e){var t=this;return!!e.scaleDown&&(this.scalling_timeout&&clearTimeout(this.scalling_timeout),this.scalling_timeout=window.setTimeout(function(){t.renderer.scalling=!1,clearTimeout(t.scalling_timeout)},500),this.renderer.scalling=!0,this.renderer.scaleDown(),!0)}},{key:"setSceneAutorotate",value:function(e){return!!e.autorotate&&(e.autorotate_dir&&(this.renderer.params.auto_rotate_dir=e.autorotate_dir,this.renderer.auto_rotate_dir="left"===e.autorotate_dir?1:-1),"yes"===e.autorotate&&this.renderer.mode!==this.renderer.MODE_AUTOROTATE?this.renderer.changeMode(this.renderer.MODE_AUTOROTATE):"no"===e.autorotate&&(this.renderer.changeMode(this.renderer.MODE_ROTATE),this.renderer.refreshAnimationFrame()),!0)}},{key:"setSceneHanglInc",value:function(e){var t,i=this;return!!e.hangleInc&&(1===hr()(e.hangleInc)?("right"===this.renderer.params.rotate_dir?this.renderer.prev_frame(!1,!0):this.renderer.next_frame(!1,!0),this.renderer.transform({force_rebuild_tiles:!0})):-1===hr()(e.hangleInc)?("right"===this.renderer.params.rotate_dir?this.renderer.next_frame(!1,!0):this.renderer.prev_frame(!1,!0),this.renderer.transform({force_rebuild_tiles:!0})):((t=this.renderer.hangle+hr()(e.hangleInc))<0&&(t=this.renderer.frames_no+t),t>=this.renderer.frames_no&&(t%=this.renderer.frames_no),e=this.renderer.get_closest_frame(t,this.renderer.vangle),t=function e(){i.renderer.removeListener("animator_rotate",e),i.renderer.dispatchEvent("set_scene_complete")},this.renderer.addListener("animator_rotate",t,this),this.renderer.rotateTo(e.hangle,this.renderer.vangle)),!0)}},{key:"setSceneVanglInc",value:function(e){return!!e.vangleInc&&((e=this.renderer.vangle+hr()(e.vangleInc))<0&&(e=0),e>=this.renderer.vangles_no&&(e=this.renderer.vangles_no-1),e=this.renderer.get_closest_frame(this.renderer.hangle,e),this.renderer.rotateTo(this.renderer.hangle,e.vangle),!0)}},{key:"setScenePanInc",value:function(e){var t,i,n,r,o=e.panX||0,s=e.panY||0;return!(!o&&!s||(n=(i=this.getScene()).centerx||i.centerX,r=i.centery||i.centerY,t=this.to_viewer_scale_range(i.scale),e=Math.round(n*t),i=Math.round(r*t),n={},~(""+o).indexOf("%")?(r=e+ +this.renderer.width*hr()(o)/100,n.centerx=hr()(r/t)):(n.centerx=e+hr()(o),n.centerx=hr()(n.centerx/t)),~(""+s).indexOf("%")?(o=i+ +this.renderer.height*hr()(s)/100,n.centery=hr()(o/t)):(n.centery=i+hr()(s),n.centery=hr()(n.centery/t)),this.renderer.transform(n),0))}},{key:"sequence_scene_zoom_out",value:function(){this.scene_zoom_complete=!1;var e=void 0!==this.scene.vangle&&this.scene.vangle!=this.renderer.vangle||void 0!==this.scene.hangle&&this.scene.hangle!=this.renderer.hangle;void 0!==this.scene.scale&&e&&this.renderer.get_transformed_value("scale")>this.renderer.min_scale?(this.renderer.addListener("zoom_complete",this.sequence_scene_rotate,this),this.renderer.transform({scale:0})):e?(this.renderer.addListener("zoom_complete",this.sequence_scene_rotate,this),this.scene_zoom_complete=!0,this.renderer.dispatchEvent("zoom_complete")):(this.scene_zoom_complete=!0,this.sequence_scene_zoom_to())}},{key:"sequence_scene_rotate",value:function(e){this.renderer.removeListener("zoom_complete",this.sequence_scene_rotate),this.renderer.addListener("animator_rotate",this.sequence_scene_zoom_to,this),this.scene_zoom_complete=!0,this.renderer.rotateTo(this.scene.hangle,this.scene.vangle)}},{key:"sequence_scene_zoom_to",value:function(){var e,t,i=this.to_viewer_scale_range(this.scene.scale);this.scene_zoom_complete=!1,this.renderer.removeListener("animator_rotate",this.sequence_scene_zoom_to),this.renderer.addListener("zoom_complete",this.sequence_set_scene_zoom_complete,this),e=this.scene.centerx||this.scene.centerX,t=this.scene.centery||this.scene.centerY,e||t?(this.scene_center_complete=!1,this.renderer.addListener("center_change_complete",this.sequence_set_scene_center_complete,this)):this.scene_center_complete=!0,i&&i!=this.renderer.get_transformed_value("scale")||(this.scene_zoom_complete=!0),void 0===(i=i)&&(i=this.renderer.get_transformed_value("scale")),this.renderer.transform({scale:i,centerx:e,centery:t})}},{key:"sequence_set_scene_center_complete",value:function(){this.renderer.removeListener("center_change_complete",this.sequence_set_scene_center_complete),this.scene_center_complete=!0,this.scene_zoom_complete&&(this.renderer.removeListener("zoom_complete",this.sequence_set_scene_zoom_complete),this.sequence_set_scene_complete())}},{key:"sequence_set_scene_zoom_complete",value:function(){this.scene_zoom_complete=!0,this.renderer.removeListener("zoom_complete",this.sequence_set_scene_zoom_complete),this.scene_center_complete&&(this.renderer.removeListener("center_change_complete",this.sequence_set_scene_center_complete),this.sequence_set_scene_complete())}},{key:"sequence_set_scene_complete",value:function(){this.renderer.animating=!1,this.renderer.dispatchEvent("set_scene_complete"),clearTimeout(this.animating_timeout)}},{key:"getScene",value:function(){return{scale:this.from_viewer_scale_range(this.renderer.get_transformed_value("scale")),centerX:this.renderer.get_transformed_value("centerx"),centerY:this.renderer.get_transformed_value("centery"),centerx:this.renderer.get_transformed_value("centerx"),centery:this.renderer.get_transformed_value("centery"),hangle:this.renderer.get_transformed_value("hangle"),vangle:this.renderer.get_transformed_value("vangle")}}},{key:"getLoadedFrames",value:function(){return this.renderer.get_loaded_frames()}},{key:"addCallback",value:function(e,t){switch(t){case"rotate":case"zoom_in":case"zoom_out":case"zoom_in_started":case"zoom_out_started":case"zoom_started":case"zoom_complete":case"fullscreen_off":case"fullscreen_on":case"autorotate_start":case"set_scene":case"animator_rotate":case"set_scene_complete":case"center_change":case"center_change_complete":case"autorotate_stop":case"resize":case"info_dialog_opened":case"info_dialog_closed":case"move_start":case"move":case"move_end":case"doubleclick":case"loading":case"partial_loading":case"partially_initialized":case"viewer_initialized":case"mode_changed":case"interaction_start":case"activity_start":case"activity_end":this.renderer.addListener(t,e)}}},{key:"removeCallback",value:function(e,t){switch(t){case"rotate":case"zoom_in":case"zoom_out":case"zoom_in_started":case"zoom_out_started":case"zoom_started":case"zoom_complete":case"fullscreen_off":case"fullscreen_on":case"autorotate_start":case"set_scene":case"animator_rotate":case"set_scene_complete":case"center_change":case"center_change_complete":case"autorotate_stop":case"resize":case"info_dialog_opened":case"info_dialog_closed":case"move_start":case"move":case"move_end":case"doubleclick":case"loading":case"partial_loading":case"partially_initialized":case"viewer_initialized":case"mode_changed":case"interaction_start":case"activity_start":case"activity_end":this.renderer.removeListener(t,e)}}},{key:"handle_resize",value:function(e,t){this.renderer.conditionally_resize_viewport(e,t)}},{key:"calculate_position",value:function(e){var t=this.renderer.get_local_scale(this.renderer.optimal_scale),t=this.renderer.calculate_position(this.renderer.optimal_scale_obj,e,t);return t.x=Math.round(t.x),t.y=Math.round(t.y),t}},{key:"calculate_reverse_position",value:function(e){var t=this.renderer.get_local_scale(this.renderer.optimal_scale),t=this.renderer.calculate_reverse_position(this.renderer.optimal_scale_obj,e,t);return t.x=Math.round(t.x),t.y=Math.round(t.y),t}},{key:"get_presentation_info",value:function(){var e=this.renderer;return{hangles_no:e.frames_no,vangles_no:e.vangles_no,max_width:e.max_width,max_height:e.max_height,width:e.width,height:e.height,min_scale:e.min_scale,max_scale:e.max_scale,transition_time:e.current_transform_time,animating:e.animating,gesture_scalling:e.gesture_scalling}}},{key:"enable_mousewheel",value:function(){this.renderer.event_mousewheel_enabled=!0,this.renderer.events.attachWheelEvents()}},{key:"disable_mousewheel",value:function(e){this.renderer.events.removeWheelEvents(),this.renderer.event_mousewheel_enabled=!1}},{key:"destroy",value:function(){this.renderer.destroy()}},{key:"set_panning",value:function(e){this.renderer.set_panning(e)}},{key:"set_forced_mode",value:function(e){this.renderer.set_forced_mode(e)}},{key:"get_orbitvu_gsap",value:function(){return{gsap:ar}}}]),t;function t(e){(function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this),this.renderer=e,this.scene=null,this.scalling_timeout=!1,this.scene_center_complete=!0,this.scene_zoom_complete=!0}}function X(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function W(e,t,i){return t in e?lr()(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function J(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),lr()(e,i.key,i)}function Z(e){return(Z="function"==typeof ie.a&&"symbol"==typeof te.a?function(e){return typeof e}:function(e){return e&&"function"==typeof ie.a&&e.constructor===ie.a&&e!==ie.a.prototype?"symbol":typeof e})(e)}function K(e,t,i,n){var r,o,s;o="1.0.0",s="0",void 0!==window.orbitvu_revision&&(o=window.orbitvu_revision),void 0!==window.orbitvu_type&&(s=window.orbitvu_type),r=+s<NaN,s=function(){for(var e,t=o.split("."),i="3.9.3".split("."),n=0;n<Math.min(t.length,i.length);n++)if(0!=(e=t[n]-i[n]))return e;return 0}()<0,(void 0===window._inject_orbitvu||r||s)&&(window.orbitvu_revision="3.9.3",window.orbitvu_type="free360",window._inject_orbitvu=function(e,t,i,n){"undefined"==typeof orbituargs2&&"object"==("undefined"==typeof orbitvuargs1?"undefined":Z(orbitvuargs1))&&(n=orbitvuargs1),new Wr(e,t,n).inject_orbitvu()}),window._inject_orbitvu(e,t,i,n)}function $(e,t){new Wr(e,null,null,null).inject_viewer_html5(t)}function ee(){return{gsap:ar}}var te,ie,ne,re,oe,se,ae,le,he,ce,ue,_e,de,fe,pe,me,ve,ge,Ae,we,ye,be,Ee,xe,ke,Be,Te,Me,Oe,Re,Qe,Ce,Ie,De,ze,Se,Fe,Ue,Le,Pe,Ne,je,qe,Ge,He,Ye,Ve,Xe,We,Je,Ze,Ke,$e,et,tt,it,nt,rt,ot,st,at,lt,ht,ct,ut,_t,dt,ft,pt,mt,vt,gt,At,wt,yt,bt,Et,xt,kt,Bt,Tt,Mt,Ot,Rt,Qt,Ct,It,Dt,zt,St,Ft,Ut,Lt,Pt,Nt,jt,qt,Gt,Ht,Yt,Vt,Xt,Wt,Jt,Zt,Kt,$t,ei,ti,ii,ni,ri,oi,si,ai,li,hi,ci,ui,_i,di,fi,pi,mi,vi,gi,Ai,wi,yi,bi,Ei,xi,ki,Bi,Ti,Mi,Oi,Ri,Qi,Ci,Ii,Di,zi,Si,Fi,Ui,Li,Pi,Ni,ji,qi,Gi,Hi,Yi,Vi,Xi,Wi,Ji,Zi,Ki,$i,en,tn,nn,rn,on,sn,an,ln,hn,cn,un,_n,dn,fn,pn,mn,vn,gn,An,wn,yn,bn,En,xn,kn,Bn,Tn,Mn,On,Rn,Qn,Cn,In,Dn,zn,Sn,Fn,Un,Ln,Pn,Nn,jn,qn,Gn,Hn,Yn,Vn,Xn,Wn,Jn,Zn,Kn,$n,er,tr,ir,nr,rr,or,sr,ar,lr,hr,cr,ur,_r,dr,fr,pr,mr,vr,gr,Ar,wr,yr,br,Er,xr,kr,Br,Tr,Mr,Or,Rr,Qr,Cr,Ir,Dr,zr,Sr,Fr,Ur,Lr,Pr,Nr,jr,qr,Gr,Hr,Yr,Vr,Xr,Wr,Jr,Zr,Kr,$r,eo,to,io,no,ro,oo,so,ao,lo,ho,co,uo,_o,fo,po;function mo(){(function(e){if(!(e instanceof mo))throw new TypeError("Cannot call a class as a function")})(this),this.touchend_event=!1,this.touchend_event_timeout=null,this.viewer=null,this.button=null}function vo(e,t,i){return function(e){if(!(e instanceof vo))throw new TypeError("Cannot call a class as a function")}(this),this.container_id=e,this.orbitvu_path=t,this.orbitvuargs=i,this}function go(e,t){var d=this;(function(e){if(!(e instanceof go))throw new TypeError("Cannot call a class as a function")})(this),W(this,"tween_onstart",function(e,t){e&&(d.scalling=!0),t&&(d.rotating=!0)}),W(this,"tween_onupdate",function(e,t,i,n){var r,o,s,a,l,h,c,u,_;if(!d.compare_tweens(d.current_frame_coords,d.frameObj)||e){if(o=(r=d.tiles_scale_obj).scale,d.canvas_context.clearRect(0,0,d.canvas.width,d.canvas.height),d.drawOnCanvas(d.frameObj.image,Math.round(d.frameObj.x),Math.round(d.frameObj.y),t.width*d.frameObj.scale,t.height*d.frameObj.scale,ar.isTweening(d.frameObj)),d.tiles_buffer)for(s=0;s<i;s++)for(a=0;a<n;a++)void 0!==r.images&&r.images.length&&void 0!==r.images[s]&&void 0!==r.images[s][a]&&(l=r.images[s][a])&&l.buffered&&(h=Math.round(d.frameObj[o+"_"+s+"_"+a+"_x"]),c=Math.round(d.frameObj[o+"_"+s+"_"+a+"_y"]),u=Math.round(l.imageElement.width*d.frameObj[o+"_"+s+"_"+a+"_scale"]),_=Math.round(l.imageElement.height*d.frameObj[o+"_"+s+"_"+a+"_scale"]),d.tiles_fade_in_effect||d.canvas_context.clearRect(h*d.devicePixelRatio,c*d.devicePixelRatio,u*d.devicePixelRatio,_*d.devicePixelRatio),d.canvas_context.drawImage(l.imageElement,h*d.devicePixelRatio,c*d.devicePixelRatio,u*d.devicePixelRatio,_*d.devicePixelRatio));fr()(d.current_frame_coords,d.frameObj),delete d.current_frame_coords.image,delete d.current_frame_coords.ease,delete d.current_frame_coords._gsap}}),W(this,"tween_oncomplete",function(e,t){d.clear_rebuild_tiles_timeout(),e&&(d.scalling=!1,d.is_button_scalling=!1,d.on_activity_end()),t&&(d.rotating=!1),d.rebuild_tiles()}),this.initial_params=t,this.params={frame_rate:"14",background_color_opacity:!1,background_color:"0xffffff",border_color:"0xffffff",lang:"en",auto_rotate_dir:"right",rotate_dir:"right",vmove_dir:"down",auto_rotate:"yes",teaser:"no",vmove:"yes",continous:"yes",first_frame:1,first_row:1,border_frame:1,partial_load:"no",ovskin:"no",loader:"yes",branding:null,branding_url:null,logo_src:null,logo_url:null,social:"no",social_url:null,gui_background:"0x000000B0",gui_foreground:"0xFFFFFFFF",gui_foreground_active:"0x00b6a8ff",teaserplay_overlay_color:"0x00000099",btn_zoom_in:"yes",btn_zoom_out:"yes",btn_fullscreen:"yes",btn_drag_rotate:"yes",btn_info:"yes",btn_autorotate:"yes",border:"no",fullscreen_enabled:"yes",fullscreen_eventname_bound:!1,fullscreen_supported:void 0,auto_drag_switch:!1,doubletap_mode:"fullscreen",ovus_cache_modifier:null,transform_vpos:!1,transform_hpos:!1,hires_support:"yes",hires_forced_zoom:"no"},this.translates_cache={},this.scale=-1,this.hangle=0,this.vangle=0,this.centerx=0,this.centery=0,this.devicePixelRatio=window.devicePixelRatio,this.frame_divider=1,this.SCALE_MIN=.01,this.SCALE_MAX=1,this.max_scale=0,this.min_scale=.01,this.SCALE_FACTOR=1.2,this.MOUSE_WHEEL_SCALE_FACTOR=1.2,this.is_safari&&(this.MOUSE_WHEEL_SCALE_FACTOR=1),this.supports_ms_pointer&&(this.SCALE_FACTOR=1.06),this.queue_obj={scale:this.scale,centerx:this.centerx,centery:this.centery,hangle:this.hangle,vangle:this.vangle},this.utils=new ur,this.ovlang=new pr,this.ios=this.utils.isIOS(),this.is_android=this.utils.isAndroid(),this.is_mobile=this.ios||this.is_android,this.use_mobile_buttons=this.is_mobile,this.supports_ms_pointer=this.utils.supports_pointer_events(),this.is_safari=this.utils.isSafari(),this.webp_support=this.initial_params.webp_support,this.html_element=document.getElementsByTagName("html")[0],this.container=document.getElementById(e),this.nosize=document.getElementById(e+"-obj-nosize"),this.vport=document.getElementById(e+"-obj-ovvvport"),this.vport.setAttribute("tabindex","999999"),this.canvas=document.getElementById(e+"-obj-canvas"),this.tiles_obj=document.getElementById(e+"-obj-tiles"),this.style_animation=null,this.id=e,this.canvas_context=this.canvas.getContext("2d"),this.tiles_obj_context=this.tiles_obj.getContext("2d"),this.tiles_buffer=!1,this.tiles_cache={},this.tiles_fade_in_effect=!0,this.fading_tiles=[],this.vport.style.width="100%",this.vport.style.height="100%",this.is_loaded=!1,this._events={},this.sizer_object_data_set=!1,this.pl_frames_pack=[],this.pl_base_frames_to_load=0,this.pl_base_frames_loaded=0,this.doubletap_mode=this.params.doubletap_mode,this._rotation_hangle=this.hangle,this.base_frames=[],this.base_scale_obj={},this.base_scales_upsized={},this.current_frame_coords={},this.frameObj={},this.partial_loader_timeout=null,this.is_partial_load=!1,this.lazy_partial_load=!1,this.tween=null,this.frames_no=0,this.rotation_speed=0,this.rebuild_tiles_time=120,this.rebuild_tiles_timeout=null,this.is_doing_fullscreen=!1,this.is_doing_html5_fullscreen=!1,this.max_width=this.max_height=0,this.refresh=!1,this.panning_enabled=!0,this.is_rotate_to=!1,this.animating=!1,this.is_button_scalling=!1,this.forced_mode=null,this.emperor_timeout=null,this.is_destroyed=!1,this.auto_drag_switch=!1,this.rotate_rate=1,this.rotating=!1,this.scalling=!1,this.gesture_scalling=!1,this.fullscreen=!1,this.force_size=!0,this.SLOWDOWN_FACTOR=1.1,this.MODE_AUTOROTATE=1,this.MODE_ROTATE=2,this.MODE_AUTOROTATE_PHYSICS=4,this.MODE_ONEROTATION=5,this.MODE_ONEROTATION_SLOW=6,this.MODE_DRAG=7,this.auto_rotate_physics_dir="left",this.auto_rotate_timer=null,this.auto_rotate_physics_timer=null,this.auto_rotate_physics_speed=0,this.auto_rotate_frame_period=0,this._position_cache={},this.viewer_action_stopped_timeout=null,this.viewer_action_stopped_timeout_time=400,this.pointer_down_pressed=!1,this.resize_observer=null,this.resize_obj=null,this.resize_handler=null,this.orientation_change_handler=null,this.emperor(),this.initialize_params(this.initial_params),(this.params.config_url||this.params.xml_url)&&(this.sequence=new mr(this.params.ovus_cache_modifier),dr.a.all([this.load_config_xml(),this.load_content_xml()]).then(function(e){e[0]&&e[1]&&(d.parse_params(d.initial_params),d.parseGuiColors(),!0===e[1]?d._parse_content_data():"no"!==d.params.content2&&d._parse_content2_xml(e[1])||d._parse_content_xml(e[1]),d.mode=d.changeMode(d.MODE_ROTATE),d.setup_viewer())},function(e){}))}function Ao(e,t,i){function a(e,t){return t=t||v.viewer.container.getBoundingClientRect(),e.clientX-t.left}function l(e,t){return t=t||v.viewer.container.getBoundingClientRect(),e.clientY-t.top}function o(e,t){v.viewer.pointer_down_pressed=!0,v.viewer.dispatchEvent("interaction_start"),v.viewer.dispatchEvent("activity_start"),v.initial_mode=null,h=c=_=e,f=u=d=t,v.reset_viewer_mode()}function r(e,t){var i;if(v.viewer.pointer_down_pressed=!1,v.initial_mode=null,v.viewer.scale!=v.viewer.min_scale||1<v.viewer.vangles_no?(v.viewer.vport.style.touchAction="none",v.viewer.tiles_obj.style.touchAction="none"):(v.viewer.vport.style.touchAction="pan-y",v.viewer.tiles_obj.style.touchAction="pan-y"),A)return v.viewer.rotating=!1,A=!1;Math.abs(h-e)<=v.CLICK_TOLERANCE&&Math.abs(f-t)<=v.CLICK_TOLERANCE&&!v.viewer.rotating?v.viewer.panning_enabled&&(v.viewer.is_panning=!0,v.viewer.rotating=!1,i=v.viewer.get_transformed_value("scale"),v.pan_center_x=Math.round(v.viewer.get_transformed_value("centerx")+(e-v.viewer.width/2)/i),v.pan_center_y=Math.round(v.viewer.get_transformed_value("centery")+(t-v.viewer.height/2)/i),v.viewer.transform({centerx:v.pan_center_x,centery:v.pan_center_y})):v.viewer.mode!=v.viewer.MODE_DRAG?v.rotation_speed>=v.ROTATION_DISTANCE&&v.viewer.rotating?(v.viewer.auto_rotate_physics_speed=Math.round(v.rotation_speed/v.ROTATION_DISTANCE),v.viewer.changeMode(v.viewer.MODE_AUTOROTATE_PHYSICS)):(v.viewer.rotating=!1,v.viewer.transform({force_rebuild_tiles:!0})):v.viewer.on_activity_end()}function s(e,t,i,n){var r=e-_,o=t-d,s=e-c,a=t-u,l=i,h=i;v.viewer.mode==v.viewer.MODE_DRAG&&(h=0,v.initial_mode!=v.viewer.MODE_ROTATE&&(l=0)),v.initial_mode==v.viewer.MODE_ROTATE&&(h=0),v.viewer.min_scale>=v.viewer.scale&&(h=10),v.viewer.is_partial_load&&v.viewer.partialLoader.isLoading()&&v.viewer.frames_no<70&&(i=v.viewer.pl_get_loaded_hangles_count(),l=Math.max(l,l*v.viewer.frames_no/(1.7*i))),Math.abs(r)<l?r=0:_=e,Math.abs(o)<h?o=0:d=t,(v.viewer.scale!=v.viewer.min_scale||1<v.viewer.vangles_no||n&&n.touches&&1<n.touches.length||Math.abs(a)<Math.abs(s))&&(n.preventDefault(),v.viewer.vport.style.touchAction="none",v.viewer.tiles_obj.style.touchAction="none"),0===r&&0===o||function(e,t){var i,n,r,o,s=v.viewer.get_mode(e,v.initial_mode);if(v.initial_mode||(v.initial_mode=s),v.viewer.mode!=s&&v.viewer.changeMode(s),s==v.viewer.MODE_ROTATE){if(v.rotation_speed=Math.abs(e.dx),setTimeout(function(){v.rotation_speed=0},300),r=(Math.abs(e.dx)<=v.DRAG_DISTANCE||!v.viewer.ios)&&v.viewer.frames_no<70,e.dx<0)if(v.viewer.rotating=!0,v.viewer.auto_rotate_physics_dir="left",r)v.viewer.prev_frame();else{if(o=v.viewer.get_transformed_value("hangle"),"yes"!==v.viewer.continous&&!v.viewer.can_rotate(o,Math.round(e.dx/v.DRAG_DISTANCE),v.viewer.rotate_dir))return;o+=v.viewer.rotate_dir*Math.round(e.dx/v.DRAG_DISTANCE),v.viewer.is_partial_load?v.viewer.partialLoader.isLoading()?(n=v.viewer.pl_find_loaded_frame(o))&&(80<(i=v.viewer.pl_get_frames_distance())&&(i=80),1<i&&(v.ROTATION_DISTANCE=Math.round(i/v.viewer.frames_no*v.viewer.frames_no),v.ROTATION_DISTANCE<v.PL_ROTATION_DISTANCE_CACHE&&(v.ROTATION_DISTANCE=v.PL_ROTATION_DISTANCE_CACHE)),v.viewer.transform(-1==v.viewer.rotate_dir?{hangle:n.next}:{hangle:n.prev})):(v.ROTATION_DISTANCE!=v.PL_ROTATION_DISTANCE_CACHE&&(v.ROTATION_DISTANCE=v.PL_ROTATION_DISTANCE_CACHE),v.viewer.transform({hangle:o})):v.viewer.transform({hangle:o})}else if(0<e.dx)if(v.viewer.rotating=!0,v.viewer.auto_rotate_physics_dir="right",r)v.viewer.next_frame();else{if(o=v.viewer.get_transformed_value("hangle"),"yes"!==v.viewer.continous&&!v.viewer.can_rotate(o,Math.round(e.dx/v.DRAG_DISTANCE),v.viewer.rotate_dir))return;o+=v.viewer.rotate_dir*Math.round(e.dx/v.DRAG_DISTANCE),v.viewer.is_partial_load?v.viewer.partialLoader.isLoading()?(n=v.viewer.pl_find_loaded_frame(o))&&(80<(r=v.viewer.pl_get_frames_distance())&&(r=80),1<r&&(v.ROTATION_DISTANCE=Math.round(r/v.viewer.frames_no*v.viewer.frames_no),v.ROTATION_DISTANCE<v.PL_ROTATION_DISTANCE_CACHE&&(v.ROTATION_DISTANCE=v.PL_ROTATION_DISTANCE_CACHE)),v.viewer.transform(-1==v.viewer.rotate_dir?{hangle:n.prev}:{hangle:n.next})):(v.ROTATION_DISTANCE!=v.PL_ROTATION_DISTANCE_CACHE&&(v.ROTATION_DISTANCE=v.PL_ROTATION_DISTANCE_CACHE),v.viewer.transform({hangle:o})):v.viewer.transform({hangle:o})}o=(o=v.viewer.min_scale)>=v.viewer.scale,0!=e.dy&&v.viewer.vmove&&!o?v.viewer.transform({centery:v.viewer.get_transformed_value("centery")-e.dy/v.viewer.get_transformed_value("scale")}):0!=e.dy&&o&&(t<=e.dy?v.viewer.transform({vangle:v.viewer.get_transformed_value("vangle")-+v.viewer.vmove_dir}):e.dy<=t&&v.viewer.transform({vangle:v.viewer.get_transformed_value("vangle")+ +v.viewer.vmove_dir}))}else s==v.viewer.MODE_DRAG&&(s=v.viewer.get_transformed_value("scale"),v.pan_center_x=v.viewer.get_transformed_value("centerx")-e.dx/s,v.pan_center_y=v.viewer.get_transformed_value("centery")-e.dy/s,v.viewer.transform({centerx:v.pan_center_x,centery:v.pan_center_y}))}({x:e,y:t,dx:r,dy:o},h)}var n,c,u,_,d,h,f,p,m,v,g,A;(function(e){if(!(e instanceof Ao))throw new TypeError("Cannot call a class as a function")})(this),g=!(m=f=0),A=!1,(v=this).pan_center_x=0,this.pan_center_y=0,this.CLICK_TOLERANCE=10,this.doubletap_timer=null,this.container=e,this.viewer=t,this.wheel_delay_timer=null,this.android_gesture=!1,this.android_gesture_scale=1,this.android_gesture_distance=0,this.ie_pointers=[],this.ie_first_pointer_position=[],this.ie_second_pointer_position=[],this.ie_gesture_distance=0,this.ie_gesture=!1,this.ie_gesture_scale=1,this.ie_gesture_finishing=!1,this.ie_initial_scale=0,this.ie_rotate_starter=20,this.ie_rotate_ender=60,this.initial_mode=null,this.viewer.ios?70<t.frames_no?this.DRAG_DISTANCE=10:this.DRAG_DISTANCE=24<this.viewer.frames_no?Math.round(24/this.viewer.frames_no*50):50:"ms"===this.viewer.rendering_engine?this.DRAG_DISTANCE=24<this.viewer.frames_no?Math.round(24/this.viewer.frames_no*2):2:(this.DRAG_DISTANCE=24<this.viewer.frames_no?Math.round(24/this.viewer.frames_no*20):20,this.DRAG_DISTANCE<10&&(this.DRAG_DISTANCE=10)),this.ROTATION_DISTANCE=this.DRAG_DISTANCE,"ms"===this.viewer.rendering_engine&&(this.ROTATION_DISTANCE=20),this.PL_ROTATION_DISTANCE_CACHE=this.ROTATION_DISTANCE,this.zoom_and_center=function(e,t,i){var n,r=this,o=null,s=r.viewer.container.getBoundingClientRect();t>r.viewer.max_scale&&(t=r.viewer.max_scale),t<r.viewer.min_scale&&(t=r.viewer.min_scale),n=i?(o=r.pan_center_x,r.pan_center_y):(n=r.viewer.width/2,n=(n=a(e,s)-n)/t-n/r.viewer.scale,o=r.viewer.centerx-n,n=r.viewer.height/2,n=(n=l(e,s)-n)/t-n/r.viewer.scale,r.viewer.centery-n),r.viewer.dispatchEvent("interaction_start"),r.viewer.dispatchEvent("activity_start"),o?r.viewer.transform({scale:t,centerx:o,centery:n}):r.viewer.transform({scale:t})},this.onMouseWheel=function(e){var t=e||window.event;return v.viewer.control_panel.stop(),e=t.deltaY,t.deltaMode==WheelEvent.DOM_DELTA_LINE?e=40*t.deltaY:t.deltaMode==WheelEvent.DOM_DELTA_PAGE&&(e=800*t.deltaY),e=Math.abs(Math.min(Math.max((e=(e/=120)<1?e<-1?(-Math.pow(e,2)-224)/225:e:(Math.pow(e,2)+224)/225)/2,-1),1))/2,t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1,v.wheel_flag||(v.wheel_delay_timer||(v.viewer.refresh_position(),v.wheel_delay_timer=window.setTimeout(function(){v.wheel_flag=!1,clearTimeout(v.wheel_delay_timer),v.wheel_delay_timer=null},10),v.wheel_flag=!0),v.viewer.scalling=!0,0<=t.deltaY?v.viewer.scale==v.viewer.min_scale?v.viewer.scalling=!1:v.viewer.scaleDown(e+v.viewer.MOUSE_WHEEL_SCALE_FACTOR):(e=Math.round(v.viewer.scale*(e+v.viewer.MOUSE_WHEEL_SCALE_FACTOR)*1e4)/1e4,v.zoom_and_center(t,e))),!1},this.reset_viewer_mode=function(){var e=this;e.viewer.MODE_DRAG!=e.viewer.mode&&(~[e.viewer.MODE_ROTATE,e.viewer.MODE_DRAG].indexOf(e.viewer.mode)||(1<e.viewer.frames_no?e.viewer.changeMode(e.viewer.MODE_ROTATE):e.viewer.changeMode(e.viewer.MODE_DRAG)))},this.onGestureStart=function(e){return e.preventDefault(),v.viewer.refresh_position(),this.start_scale=v.viewer.scale,v.viewer.dispatchEvent("interaction_start"),v.viewer.dispatchEvent("activity_start"),v.container.removeEventListener("touchend",v.onTouchEnd,!1),v.reset_viewer_mode(),n=v.viewer.scale,v.viewer.optimal_scale,v.viewer.scalling=!0,!(v.viewer.gesture_scalling=!0)},this.onGestureChange=function(e){return e.preventDefault(),v.viewer.rotating=!1,v.viewer.scalling=!0,v.viewer.gesture_scalling=!0,v.viewer.transform({scale:n*Math.round(1e3*e.scale)/1e3}),!1},this.onGestureEnd=function(e){return e.preventDefault(),v.container.removeEventListener("touchmove",v.onTouchMove,!1),v.viewer.scalling=!1,v.viewer.rotating=!1,v.viewer.gesture_scalling=!1,v.viewer.transform({force_rebuild_tiles:!0}),!1},this.onTouchStartAndroid=function(e){var t,i,n;v.viewer.ios||2===e.touches.length&&(v.android_gesture=!0,v.android_gesture_scale=1,t=a(e.touches[0]),n=l(e.touches[0]),i=a(e.touches[1]),e=l(e.touches[1]),v.android_gesture_distance=Math.sqrt(Math.pow(t-i,2)+Math.pow(n-e,2)),0==v.android_gesture_distance?(v.android_gesture=!1,v.android_gesture_scale=1,v.android_gesture_distance=0):v.onGestureStartAndroid())},this.onTouchMoveAndroid=function(e){var t,i,n;v.android_gesture&&!v.viewer.ios&&2==e.touches.length&&(t=a(e.touches[0]),n=l(e.touches[0]),i=a(e.touches[1]),e=l(e.touches[1]),(e=Math.sqrt(Math.pow(t-i,2)+Math.pow(n-e,2))/v.android_gesture_distance)!=v.android_gesture_scale&&(v.android_gesture_scale=e,v.onGestureChangeAndroid()))},this.onTouchEndAndroid=function(e){e.touches.length<2&&!v.viewer.ios&&v.android_gesture&&(v.android_gesture=!1,v.android_gesture_scale=1,v.android_gesture_distance=0,v.onGestureEndAndroid())},this.onGestureStartAndroid=function(e){v.viewer.ios||(this.start_scale=v.viewer.scale,v.container.removeEventListener("touchend",v.onTouchEnd,!1),v.reset_viewer_mode(),n=v.viewer.scale,v.viewer.optimal_scale,v.viewer.scalling=!0,v.viewer.gesture_scalling=!0)},this.onGestureChangeAndroid=function(e){v.viewer.ios||(v.viewer.rotating=!1,v.viewer.scalling=!0,v.viewer.gesture_scalling=!0,v.viewer.transform({scale:n*Math.round(1e5*v.android_gesture_scale)/1e5}))},this.onGestureEndAndroid=function(e){v.viewer.ios||(v.container.removeEventListener("touchmove",v.onTouchMove,!1),v.viewer.scalling=!1,v.viewer.gesture_scalling=!1,v.viewer.rotating=!1,v.viewer.transform({force_rebuild_tiles:!0}),v.android_gesture=!1)},this.onTouchStart=function(e){return e.stopPropagation(),v.viewer.refresh_position(),v.onTouchStartAndroid(e),v.reset_viewer_mode(),v.container.addEventListener("touchend",v.onTouchEnd,!1),v.container.addEventListener("touchmove",v.onTouchMove,!1),o(a(e.touches[0]),l(e.touches[0])),v.handle_doubletap(e.touches[0],e.touches.length,!1),!1},this.handle_doubletap=function(e,t,i){var n=this,r=a(e),o=l(e);1!==t||i?(A=!(g=!1),n.doubletap_timer&&clearTimeout(n.doubletap_timer)):g?(Math.abs(r-p)<20&&Math.abs(o-m)<20&&("fullscreen"===n.viewer.doubletap_mode?n.viewer.toggle_fullscreen_mode():"zoom"===n.viewer.doubletap_mode&&(n.viewer.get_transformed_value("scale")<n.viewer.max_scale?n.zoom_and_center(e,n.viewer.max_scale,!0):n.viewer.transform({scale:n.viewer.min_scale}))),g=!(A=!0),n.doubletap_timer&&clearTimeout(n.doubletap_timer)):(g=!0,p=r,m=o,n.doubletap_timer=setTimeout(function(){g=!1},300))},this.onTouchMove=function(e){if(v.onTouchMoveAndroid(e),v.onTouchMoveLock)return!1;var t=10;return(v.viewer.is_android||v.viewer.ios)&&(t=1),v.viewer.rotating&&(t=24<v.viewer.frames_no?5:hr()(250/v.viewer.frames_no),v.viewer.is_android||v.viewer.ios||(v.onTouchMoveLock=!0,setTimeout(function(){v.onTouchMoveLock=!1},20))),s(a(e.touches[0]),l(e.touches[0]),t,e),!1},this.onTouchEnd=function(e){return e.preventDefault(),v.onTouchEndAndroid(e),r(_,d),!1},this.focus_container=function(){void 0!==window.pageXOffset?(window.pageXOffset,window.pageYOffset):void 0!==window.scrollX?(window.scrollX,window.scrollY):document.documentElement&&void 0!==document.documentElement.scrollLeft?(document.documentElement.scrollLeft,document.documentElement.scrollTop):(document.body.scrollLeft,document.body.scrollTop),this.container.focus()},this.onMouseDown=function(e){e.preventDefault(),e.stopPropagation(),v.focus_container(),v.viewer.refresh_position(),this.onMouseOut||(this.onMouseOut=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;null!==t&&t!==document.getElementsByTagName("html")[0]||v.onMouseUp(e)}),o(a(e),l(e)),document.body.addEventListener("mousemove",v.onMouseMove,!1),document.addEventListener("mouseup",v.onMouseUp,!1),document.body.addEventListener("mouseout",v.onMouseOut,!1)},this.onMouseDblClick=function(e){v.viewer.panning_enabled||(e.preventDefault(),e.stopPropagation(),v.viewer.dispatchEvent("interaction_start"),v.viewer.dispatchEvent("activity_start"),v.viewer.dispatchEvent("doubleclick",[a(e),l(e)]))},this.onMouseMove=function(e){e.preventDefault(),e.stopPropagation(),s(a(e),l(e),v.DRAG_DISTANCE,e)},this.onMouseUp=function(e){e.preventDefault(),e.stopPropagation(),document.body.removeEventListener("mousemove",v.onMouseMove,!1),document.removeEventListener("mouseup",v.onMouseUp,!1),document.body.removeEventListener("mouseout",v.onMouseOut,!1),r(a(e),l(e))},this.ie_gesture_start=function(){var e,t,i,n;v.ie_gesture=!0,v.ie_gesture_scale=1,e=v.ie_first_pointer_position[0],t=v.ie_first_pointer_position[1],i=v.ie_second_pointer_position[0],n=v.ie_second_pointer_position[1],v.ie_gesture_distance=Math.sqrt(Math.pow(e-i,2)+Math.pow(t-n,2)),0==v.ie_gesture_distance?(v.ie_gesture=!1,v.ie_gesture_scale=1,v.ie_gesture_distance=0):(this.start_scale=v.viewer.scale,v.viewer.scalling=!0,v.viewer.gesture_scalling=!0)},this.ie_gesture_move=function(){var e=v.ie_first_pointer_position[0],t=v.ie_first_pointer_position[1],i=v.ie_second_pointer_position[0],n=v.ie_second_pointer_position[1],r=Math.sqrt(Math.pow(e-i,2)+Math.pow(t-n,2))/v.ie_gesture_distance,o=100*Math.abs(v.ie_gesture_scale-r);r!=v.ie_gesture_scale&&1<o&&(v.ie_gesture_scale=Math.round(1e3*r)/1e3,v.viewer.rotating=!1,v.viewer.scalling=!0,v.viewer.gesture_scalling=!0,n={clientX:(e+i)/2,clientY:(t+n)/2},v.zoom_and_center(n,v.start_scale*v.ie_gesture_scale),v.ie_gesture_timer&&clearTimeout(v.ie_gesture_timer),v.ie_gesture_timer=window.setTimeout(function(){v.viewer.scalling=!1,v.viewer.gesture_scalling=!1,v.viewer.rotating=!1,clearTimeout(v.ie_gesture_timer),v.ie_gesture_timer=void 0},1e3))},this.ie_gesture_end=function(){v.ie_gesture=!1,v.ie_gesture_scale=1,v.ie_gesture_distance=0,v.viewer.scalling=!1,v.viewer.gesture_scalling=!1,v.viewer.rotating=!1,v.viewer.transform({force_rebuild_tiles:!0}),v.ie_gesture_finishing=!0,setTimeout(function(){v.ie_gesture_finishing=!1},100)},this.onMSPointerDown=function(e){var t,i,n,r;e.orbitvu_handled||(e.preventDefault(),e.stopPropagation(),v.viewer.refresh_position(),v.ie_initial_scale||(v.ie_initial_scale=v.viewer.scale),v.ie_gesture_finishing||(v.reset_viewer_mode(),t=0===v.ie_pointers.length,~v.ie_pointers.indexOf(e.pointerId)||v.ie_pointers.push(e.pointerId),i=v.ie_pointers.indexOf(e.pointerId),n=a(e),r=l(e),0==i?(v.ie_first_pointer_position=[e.clientX,e.clientY],o(n,r)):1==i&&(v.ie_second_pointer_position=[e.clientX,e.clientY]),1<v.ie_pointers.length&&v.ie_gesture_start(e),t&&(window.PointerEvent?(document.body.addEventListener("pointermove",v.onMSPointerMove,!1),document.addEventListener("pointerup",v.onMSPointerUp,!1),document.body.addEventListener("pointercancel",v.onMSPointerUp,!1)):window.MSPointerEvent&&(document.body.addEventListener("MSPointerMove",v.onMSPointerMove,!1),document.addEventListener("MSPointerUp",v.onMSPointerUp,!1),document.body.addEventListener("MSPointerCancel",v.onMSPointerUp,!1)))))},this.onMSPointerMove=function(e){var t,i,n,r;if(e.stopPropagation(),!v.ie_gesture_finishing){if(v.onTouchMoveLock)return!1;0==(t=v.ie_pointers.indexOf(e.pointerId))?(i=a(e),n=l(e),v.ie_first_pointer_position=[e.clientX,e.clientY],r=v.ROTATION_DISTANCE,v.viewer.MODE_ROTATE&&v.viewer.scalling&&(r=v.DRAG_DISTANCE),v.ie_gesture&&(r=0),e.touches=v.ie_pointers,s(i,n,r,e)):1==t&&(v.ie_second_pointer_position=[e.clientX,e.clientY]),v.ie_gesture&&!v.on_zoom_lock&&(v.on_zoom_lock=!0,window.setTimeout(function(){v.on_zoom_lock=!1},10),v.ie_gesture_move())}},this.onMSPointerUp=function(e){var t,i,n;e.preventDefault(),e.stopPropagation(),t=v.ie_pointers.indexOf(e.pointerId),i=a(e),n=l(e),v.handle_doubletap(e,v.ie_pointers.length,v.ie_gesture),0!=t||v.ie_gesture||r(i,n),v.ie_pointers.splice(t,1),1===v.ie_pointers.length&&v.ie_gesture&&v.ie_gesture_end(),0===v.ie_pointers.length&&(window.PointerEvent?(document.body.removeEventListener("pointermove",v.onMSPointerMove,!1),document.removeEventListener("pointerup",v.onMSPointerUp,!1),document.body.removeEventListener("pointercancel",v.onMSPointerUp,!1)):window.MSPointerEvent&&(document.body.removeEventListener("MSPointerMove",v.onMSPointerMove,!1),document.removeEventListener("MSPointerUp",v.onMSPointerUp,!1),document.body.removeEventListener("MSPointerCancel",v.onMSPointerUp,!1)))},this.doKeyDown=function(e){switch(v.viewer.refresh_position(),e.keyCode){case 39:case 34:v.viewer.dispatchEvent("interaction_start"),v.viewer.dispatchEvent("activity_start"),v.viewer.next_frame(),v.viewer.transform({force_rebuild_tiles:!0}),e.preventDefault();break;case 33:case 37:v.viewer.dispatchEvent("interaction_start"),v.viewer.dispatchEvent("activity_start"),v.viewer.prev_frame(),v.viewer.transform({force_rebuild_tiles:!0}),e.preventDefault();break;case 61:case 187:!0===e.shiftKey&&v.viewer.scaleUp();break;case 109:case 173:case 189:v.viewer.dispatchEvent("interaction_start"),v.viewer.dispatchEvent("activity_start"),v.viewer.scaleDown();break;case 32:v.viewer.dispatchEvent("interaction_start"),v.viewer.dispatchEvent("activity_start"),v.viewer.transform({scale:0}),e.preventDefault();break;case 27:v.viewer.dispatchEvent("interaction_start"),v.viewer.dispatchEvent("activity_start"),v.viewer.fullscreen&&v.viewer.toggle_fullscreen_mode(),e.preventDefault()}}}function wo(e,t,i,n,r){(function(e){if(!(e instanceof wo))throw new TypeError("Cannot call a class as a function")})(this),this.width=e,this.height=t,this.scale_no=0,this.scales=[],this.sequence=i,this.container=n,this.frame_divider=1,this.devicePixelRatio=r,this.inMemory=[],this._optimal_scale_cache={},this.max_single_image_width=0,this.max_single_image_height=0}function yo(e,t,i,n){(function(e){if(!(e instanceof yo))throw new TypeError("Cannot call a class as a function")})(this),this.frame_divider=e,this.base_scale=t,this.sequence=i,this.is_ios=n.ios,this.webp_support=n.webp_support,this.is_partial_load=n.is_partial_load,this.load_queue=[],this.currently_loading=0,this.is_destroyed=!1}function bo(e,t,i){(function(e){if(!(e instanceof bo))throw new TypeError("Cannot call a class as a function")})(this),this.webp_support=i,this.url=e,this.winURL=window.URL,this.target_image=t}function Eo(e,t,i,n){(function(e){if(!(e instanceof Eo))throw new TypeError("Cannot call a class as a function")})(this),this.url=e,this.responseType=t,this.xhr=new XMLHttpRequest,this.retry_count=i||10,this.load_failures=0,this.headers=n}function xo(t,e){var i,n,r,o,s,a,l,h;return function(e){if(!(e instanceof xo))throw new TypeError("Cannot call a class as a function")}(this),l=this,h=P(xo).call(this),n=((i=!h||"object"!==L(h)&&"function"!=typeof h?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(l):h).viewer=t).id,i.viewer.vport.style.touchAction="auto",i.element=document.createElement("DIV"),i.element.className="ovvteaserplay",t.vport.appendChild(i.element),i.background=document.createElement("DIV"),i.background.className="ovvteaserplaybackground",h=""===(l=t.params.teaserplay_overlay_color.substr(6,2))?1:hr()(l,16)/255,i.background.style.background="#"+t.params.teaserplay_overlay_color.substr(0,6),i.background.style.opacity=h,i.element.appendChild(i.background),i.button=document.createElement("DIV"),i.button.className="ovvteaserplayplay",h="1"==(l=t.params.style)||"3"==l?'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" width="60" height="60" viewBox="0 0 59.999999 60" id="svg2"><g id="gforeground"><path d="M48.026 40.15V19.184H4.17V40.15h43.856z" id="foreground_2" fill="#f2f2f2"/></g><g id="gbackground"><g id="gbackground2" fill="gray"><path d="M32.842 27.42l-1.507 5.1H34.2l-1.358-5.1z" id="background_1"/><path d="M5.71 2.37q-2.262 2.4-2.262 5.7v43.95q0 3.45 2.26 5.7 2.413 2.4 5.73 2.4h18.24l26.077-26.1q1.357-1.2 1.508-2.85.753-2.85-1.508-5.1L29.677.12h-18.24Q8.12.12 5.71 2.37m3.767 19.65h3.015q1.658 0 2.864 1.2t1.206 2.85v1.35q0 1.65-1.206 2.85-1.206 1.2-2.864 1.2h-1.81v5.55q0 1.2-1.205 1.2-1.055 0-1.055-1.2v-13.8q0-1.2 1.055-1.2m33.314 16.2q-1.054 0-1.054-1.2v-6.9l-3.316-6.45q-.452-.9.603-1.5.904-.6 1.507.45l2.26 4.65 2.413-4.65q.603-1.05 1.508-.45 1.056.6.604 1.5l-3.317 6.45v6.9q0 1.2-1.206 1.2m-17.635-2.4q1.205 0 1.205 1.2 0 1.05-1.205 1.05H20.33q-1.054 0-1.054-1.05v-13.8q0-1.2 1.055-1.2 1.207 0 1.207 1.2v12.6h3.618m3.467 2.4q-1.056-.3-.754-1.5l3.768-13.95q.302-.75 1.206-.75.754 0 1.056.75l3.92 13.95q.3 1.2-.906 1.5-1.055.3-1.356-.9l-.754-2.4h-4.07l-.452 1.8-.302.6q-.3 1.2-1.356.9z" id="background_2"/><path d="M14.15 26.07q0-1.65-1.658-1.65h-1.81v4.8h1.81q1.658 0 1.658-1.8v-1.35z" id="background_3"/></g></g></svg>':'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" width="60" height="60" viewBox="0 0 60 60" id="svg2"><g id="gbackground"><path d="M60 30q0-12.45-8.8-21.2Q42.4 0 30 0 17.55 0 8.8 8.8 0 17.55 0 30q0 12.4 8.8 21.2Q17.55 60 30 60q12.4 0 21.2-8.8Q60 42.4 60 30z" id="path_background" fill-opacity=".706"/></g><g id="gforeground"><path id="foreground_1" d="M46.2 46.2q-3.15 3.2-7.3 4.95-4.25 1.8-8.9 1.8-9.5 0-16.25-6.75Q7 39.5 7 30t6.75-16.25Q20.5 7 30 7t16.2 6.75Q52.95 20.5 52.95 30q0 2-.4 4.15" fill="none" stroke="#fff" stroke-width="1.7" stroke-linecap="round"/><path d="M23.05 39.65l16.7-9.7-16.7-9.65v19.35z" id="foreground_2" fill="#fff"/><path id="foreground_3" d="M52.85 35.6l-3.9-7.7" fill="none" stroke="#fff" stroke-width="1.7" stroke-linecap="round"/><path id="foreground_4" d="M52.85 35.6l3.75-7.75" fill="none" stroke="#fff" stroke-width="1.7" stroke-linecap="round"/><path id="foreground_5" d="M23.05 39.65V20.3l16.7 9.65-16.7 9.7z" fill="none" stroke="#fff" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/></g></svg>',h=i.setup_svg_ids(h,n,["path_background","foreground_1","foreground_2","foreground_3","foreground_4","foreground_5","gbackground","gbackground2","background_1","background_2","background_3","gforeground"]),i.button.innerHTML=""+h,r=i.button.children[0],l=["path_background"+n,"background_1"+n,"background_2"+n,"background_3"+n],h=[],o=["foreground_2"+n],a=!(s=["foreground_1"+n,"foreground_3"+n,"foreground_4"+n,"foreground_5"+n]),"1"!=t.params.style&&"3"!=t.params.style||(l=["foreground_2"+n],h=[],o=["background_1"+n,"background_2"+n,"background_3"+n],a=!(s=[])),i.element.appendChild(i.button),i.handle_mouseover=function(e){return e.preventDefault(),e.stopPropagation(),t.utils.colorize_svg(r,t.params.gui_foreground_active,a,o,s),!1},i.handle_mouseout=function(e){return e.preventDefault(),e.stopPropagation(),t.utils.colorize_svg(r,t.params.gui_foreground,a,o,s),!1},i.button.addEventListener("mouseover",i.handle_mouseover,!1),i.button.addEventListener("mouseout",i.handle_mouseout,!1),t.utils.colorize_svg(r,t.params.gui_foreground,a,o,s),t.utils.colorize_svg(r,t.params.gui_background,!1,l,h),i.element.addEventListener("click",function(){i.element.style.opacity="0",window.setTimeout(function(){i.viewer.vport.style.touchAction="none",t.vport.removeChild(i.element)},200),e()},!1),i}function ko(e,t){(function(e){if(!(e instanceof ko))throw new TypeError("Cannot call a class as a function")})(this),this.is_loading=!0,this.container=e,this.loader_container=e.appendChild(document.createElement("div")),this.loader_container.style.display="none",this.loader_container.style.width="0%",this.loader_container.style.height="4px",this.loader_container.style.boxSizing="border-box",this.loader_container.style.position="absolute",this.loader_container.style.top="0px",this.loader_container.style.left="0px",this.loader_container.style.backgroundColor=t,this.loader_container.style.zIndex="99"}function Bo(e,t,i,n,r){(function(e){if(!(e instanceof Bo))throw new TypeError("Cannot call a class as a function")})(this),this.container=e,this.loader_container=e.appendChild(document.createElement("div")),this.loader_container.style.width="89px",this.loader_container.style.height="31px",this.loader_container.className="ovvloader zindexer",this.loader_container.style.left="0",this.loader_container.style.right="0",this.loader_container.style.bottom="0",this.loader_container.style.top="0",this.loader_container.style.margin="auto",this.loader_container.innerHTML='<div id="ovvloader_logo-'+t+'" class="ovvloader_logo zindexer"></div><div class="ovloader_background zindexer"></div><div class="ovvloader_text zindexer" id="olt'+t+'"><p id="ovvloader_text_percent_'+t+'">0%</p></div>';var o=document.getElementById("ovvloader_logo-"+t);this.button=o.appendChild(document.createElement("div")),this.button.innerHTML='<svg id="svg3106" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="29.001" width="28.99" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><metadata id="metadata3111"><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/><dc:title/></cc:Work></rdf:RDF></metadata><g id="layer1" transform="translate(-360.50687,-517.86131)"><path id="path230" fill-rule="nonzero" fill="#FFF" d="m362.81,532.34,0-0.004,0-0.005,0-0.005,0-0.005c0-0.305,0.055-0.59,0.15375-0.8475,0.1-0.25745,0.24625-0.4862,0.4275-0.67745s0.39875-0.34375,0.64375-0.45c0.245-0.105,0.51625-0.1625,0.80625-0.1625,0.1425,0,0.28125,0.015,0.41625,0.0425s0.26625,0.0675,0.39,0.12125c0.125,0.0537,0.24375,0.11875,0.355,0.1975,0.11,0.0775,0.21375,0.16875,0.30875,0.27,0.0937,0.1,0.17625,0.20875,0.2475,0.325,0.0713,0.11625,0.1325,0.24,0.18125,0.36875,0.0487,0.13,0.0875,0.265,0.1125,0.40375s0.0375,0.28125,0.0375,0.4275c0,0.30875-0.0537,0.59625-0.155,0.85625-0.0987,0.25875-0.24375,0.48875-0.425,0.68-0.1825,0.19125-0.4,0.34375-0.645,0.44875-0.24375,0.105-0.515,0.1625-0.805,0.1625-0.29125,0-0.56625-0.0588-0.8125-0.16375-0.2475-0.10625-0.4675-0.26-0.65-0.45125-0.18375-0.19125-0.33125-0.42125-0.43125-0.68-0.10125-0.25875-0.15625-0.54625-0.15625-0.8525m-1.74,0,0,0.005,0,0.005,0,0.005,0,0.005c0,0.50625,0.0937,0.9825,0.26875,1.4138,0.17375,0.4325,0.42625,0.81875,0.74125,1.1462,0.31625,0.32625,0.695,0.59375,1.1225,0.78625,0.42625,0.1925,0.9,0.31,1.4062,0.34,0.395,1.1325,0.955,2.1725,1.6488,3.0938,0.69375,0.9225,1.52,1.7288,2.4488,2.3925,0.9275,0.6625,1.955,1.185,3.0512,1.5412,1.0962,0.35625,2.2612,0.54625,3.4612,0.54625,1.0125,0,2.0075-0.13625,2.96-0.3975,0.95375-0.26,1.8662-0.645,2.7138-1.14,0.8475-0.495,1.6312-1.1,2.3275-1.8025,0.6975-0.7025,1.3062-1.5012,1.805-2.3838,0,0,0.005-0.0437,0.0138-0.1075,0.007-0.065,0.0175-0.15,0.0275-0.23625,0.0112-0.0862,0.0225-0.17125,0.03-0.23625,0.007-0.0638,0.0125-0.10625,0.0125-0.10625l-0.10625-0.13625-0.10625-0.13625-0.10625-0.13625-0.10625-0.13625c-0.1075-0.06-0.22375-0.0975-0.34-0.11-0.11625-0.0138-0.2325-0.004-0.345,0.0275-0.11125,0.03-0.21625,0.0825-0.31,0.155-0.0925,0.0712-0.1725,0.16125-0.235,0.27-0.41874,0.74125-0.93125,1.4125-1.515,2.0025-0.585,0.59-1.2438,1.0975-1.955,1.5138-0.7125,0.415-1.4788,0.7375-2.2788,0.9575-0.80125,0.21875-1.6362,0.33375-2.4862,0.33375-0.97625,0-1.9262-0.1525-2.8238-0.44-0.89875-0.28625-1.745-0.70625-2.5125-1.2412-0.7675-0.53375-1.4575-1.1812-2.0425-1.925-0.585-0.7425-1.065-1.5788-1.415-2.49,0.33375-0.14875,0.63875-0.34,0.90875-0.56625,0.26875-0.2275,0.5025-0.49,0.695-0.78125s0.3425-0.61125,0.445-0.95125c0.1025-0.34125,0.1575-0.70375,0.1575-1.08,0-0.535-0.1025-1.0362-0.2875-1.4875-0.185-0.45125-0.455-0.8525-0.7925-1.1862-0.33625-0.33375-0.74125-0.6-1.195-0.78375-0.455-0.18375-0.95875-0.28375-1.4962-0.28375-0.53125,0-1.0338,0.1025-1.4888,0.29-0.455,0.18625-0.8625,0.4575-1.2038,0.795-0.34,0.33625-0.615,0.7375-0.80375,1.1862-0.19,0.45-0.29375,0.94625-0.29375,1.47m4.2775-5.4038c-0.06,0.11-0.095,0.22625-0.10625,0.3425-0.0125,0.11625-0.001,0.23375,0.0312,0.345,0.0312,0.11125,0.085,0.21625,0.1575,0.3075,0.0712,0.0925,0.1625,0.17125,0.2725,0.23125,0.10875,0.06,0.225,0.095,0.34125,0.1075,0.11625,0.0112,0.23375,0,0.345-0.0325s0.215-0.085,0.3075-0.1575,0.17125-0.165,0.2325-0.27375c0.41625-0.75625,0.92625-1.44,1.5125-2.0412,0.585-0.60125,1.2475-1.12,1.9638-1.5438,0.71625-0.4225,1.4888-0.7525,2.2975-0.97625,0.80875-0.22375,1.6538-0.34,2.5162-0.34,1.18,0,2.3088,0.2175,3.3475,0.61625,1.04,0.3975,1.9912,0.975,2.8162,1.695,0.825,0.71875,1.525,1.58,2.0612,2.545,0.5375,0.96375,0.91125,2.0312,1.085,3.1638-0.0875-0.2175-0.17375-0.435-0.255-0.64-0.0825-0.20375-0.15875-0.395-0.22375-0.55875-0.0663-0.16375-0.12125-0.30125-0.15875-0.39625-0.0387-0.0962-0.0613-0.15125-0.0613-0.15125-0.035-0.0912-0.08-0.1725-0.135-0.245-0.055-0.0712-0.1175-0.1325-0.19-0.1825-0.0713-0.05-0.15-0.0875-0.23625-0.1125-0.085-0.0263-0.17875-0.04-0.275-0.04-0.11625,0-0.22875,0.0238-0.32875,0.0663-0.10125,0.0412-0.19375,0.10125-0.27,0.17625-0.0762,0.075-0.13875,0.16375-0.18125,0.2625-0.0425,0.0988-0.0663,0.2075-0.0663,0.32125l0.0225,0.0962,0.0225,0.095,0.0225,0.0963,0.0238,0.0962,0.59,1.3875,0.59125,1.3888,0.59,1.3888,0.59,1.3888c0.0437,0.10125,0.0962,0.1925,0.15625,0.27,0.06,0.0788,0.12875,0.14625,0.205,0.19875,0.0775,0.0537,0.16,0.095,0.25125,0.1225,0.09,0.0275,0.1875,0.0412,0.29125,0.0412,0.12125,0,0.2325-0.0137,0.33375-0.0412s0.1925-0.0688,0.27375-0.1225c0.0813-0.0538,0.1525-0.12,0.215-0.19875,0.0625-0.0788,0.115-0.16875,0.1575-0.27125l0.59375-1.4,0.59375-1.4,0.59375-1.3988,0.59375-1.3988c0-0.001,0.005-0.0225,0.0113-0.055,0.007-0.0325,0.0175-0.0762,0.0275-0.12,0.01-0.0437,0.0188-0.0862,0.0263-0.11875,0.007-0.0337,0.0125-0.055,0.0125-0.055,0-0.11375-0.0237-0.2225-0.065-0.32-0.0425-0.0975-0.1025-0.18625-0.1775-0.25875-0.075-0.0738-0.165-0.13375-0.265-0.17375-0.1-0.0412-0.21125-0.0638-0.32875-0.0638-0.1025,0-0.19625,0.0175-0.2825,0.0475-0.0875,0.03-0.16375,0.0725-0.2325,0.12375-0.0675,0.0512-0.125,0.11-0.17375,0.175-0.0475,0.0625-0.085,0.13125-0.11125,0.19875,0,0-0.0337,0.0838-0.09,0.2225-0.0562,0.13875-0.135,0.335-0.225,0.56-0.0913,0.225-0.19375,0.48-0.2975,0.73875-0.10375,0.2575-0.21,0.51875-0.305,0.75625-0.12125-1.4412-0.51125-2.8075-1.1212-4.045-0.61-1.2375-1.4388-2.3475-2.435-3.2775-0.9975-0.93-2.1638-1.68-3.4488-2.1975s-2.6875-0.8025-4.1588-0.8025c-1.0275,0-2.0325,0.14-2.9962,0.40625-0.9625,0.265-1.8825,0.6575-2.7362,1.1625-0.85375,0.505-1.64,1.1212-2.3375,1.8375-0.6975,0.71625-1.305,1.5312-1.8012,2.4312"/></g></svg>',this.paths_stroke=[],this.viewer=r,this.paths_fill=["path230"],this.viewer.utils.colorize_svg(this.button.children[0],r.params.gui_foreground,!1,this.paths_fill,this.paths_stroke),this.ovvloader_text_percent=document.getElementById("ovvloader_text_percent_"+t),this.loader_container.style.backgroundColor=r.hexToRgb(r.params.gui_background);try{this.loader_container.style.backgroundColor=r.hexToRgba(r.params.gui_background)}catch(e){}this.loader_container.style.color=r.hexToRgb(r.params.gui_foreground),this.ovvloader_text_percent.style.color=r.hexToRgb(r.params.gui_foreground);try{this.loader_container.style.color=r.hexToRgba(r.params.gui_foreground),this.ovvloader_text_percent.style.color=r.hexToRgba(r.params.gui_foreground)}catch(e){}this.loader_container.style.opacity="0"}function To(e,t){var i=this;z(this,To),this.open=!1,this.mouseClick=function(e){if(e.preventDefault(),e.stopPropagation(),!t.is_loaded)return!1;i.open?(i.open=!1,ar.to(i.socialShareButtonWrapper,.2,{opacity:0,onComplete:function(){i.socialShareButtonWrapper.style.display="none",i.socialShare.className="ov-social-share zindexer"}})):(i.socialShare.className="ov-social-share zindexer on",i.socialShareButtonWrapper.style.display="block",i.open=!0,ar.to(i.socialShareButtonWrapper,.2,{opacity:1}))},this.orbitvu_viewer=t,this.container=e,this.socialShare=e.appendChild(document.createElement("div")),this.socialShare.className="ov-social-share zindexer",this.socialShareButton=new Dr(this.socialShare,t),this.socialShareButtonWrapper=this.socialShare.appendChild(document.createElement("div")),this.socialShareButtonWrapper.style.opacity="0",this.socialShareButtonWrapper.style.display="none",this.socialShareButtonWrapper.style.styleFloat=this.socialShareButtonWrapper.style.cssFloat="right",this.socialShareEmail=new Fr(this.socialShareButtonWrapper,t),this.socialShareTwitter=new Sr(this.socialShareButtonWrapper,t),this.socialShareFacebook=new zr(this.socialShareButtonWrapper,t),t.utils.add_button_click_handler(this.socialShareButton.element,this.mouseClick,!1),this.colorize(this.socialShareFacebook.element),this.colorize(this.socialShareTwitter.element),this.colorize(this.socialShareEmail.element),this.colorize(this.socialShareButton.element)}function Mo(e,t){var i,n,r,o,s,a;for(o in function(e){if(!(e instanceof Mo))throw new TypeError("Cannot call a class as a function")}(this),this.container=e,this.viewer=t,this.show_timeout=null,this.timeout_time=500,this.is_enabled="yes"===t.params.html5_hint,this.el_hint=e.appendChild(document.createElement("div")),this.el_hint.className="zindexer ovvioshint",this.is_enabled||(this.el_hint.style.display="none"),i=["hint_flood_color","defs3051","filter4247"],n=1==this.viewer.vangles_no?'<svg version="1.1" viewBox="0 0 440 440" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><defs><filter id="filter4247" color-interpolation-filters="sRGB"><feFlood flood-color="rgb(255,255,255)" flood-opacity=".7" result="flood" id="hint_flood_color"/><feComposite in="flood" in2="SourceGraphic" operator="in" result="composite1"/><feGaussianBlur result="blur" stdDeviation="11"/><feOffset dx="-2.41474e-15" dy="-2.41474e-15" result="offset"/><feComposite in="SourceGraphic" in2="offset" result="composite2"/></filter></defs><g><g transform="translate(33.214 35.244)" filter="url(#filter4247)"><g style=""><g style=""><path d="m111.2 85.9s-0.9 0.4-2.6 1.2c-0.9 0.4-1.9 0.9-3.2 1.4-1.2 0.6-2.6 1.3-4.2 2-3.2 1.5-6.9 3.5-11.2 5.8-4.2 2.4-9 5.1-13.9 8.5-4.9 3.3-10 7.2-14.7 11.7s-9.1 9.9-11.5 15.7c-1.2 2.9-1.9 5.9-1.9 8.8s0.6 5.6 1.9 8.3c2.5 5.3 7.3 10.1 13.1 14s12.4 7.2 19.1 9.7c6.8 2.6 13.8 4.6 20.7 6.3 13.8 3.2 27.1 4.9 38.5 5.8 5.7 0.4 11 0.7 15.6 0.8 4.7 0.1 8.7 0.2 12.1 0.1 3.4 0 6-0.1 7.8-0.1s2.8-0.1 2.8-0.1l-1.6 37.8s-1-0.1-3-0.4c-2-0.2-4.8-0.6-8.5-1.1-3.6-0.5-8.1-1.2-13.1-2.1-5.1-0.9-10.7-2-16.9-3.4-12.3-2.8-26.6-6.8-41.5-12.7-7.4-3-15-6.4-22.5-10.7-7.4-4.2-14.8-9.2-21.5-15.4-3.3-3.1-6.5-6.6-9.2-10.5s-5-8.3-6.4-13.1-1.7-10-0.9-14.8 2.7-9.2 4.9-12.9c4.6-7.5 10.7-12.7 16.6-16.9s11.8-7.4 17.4-10.1c5.5-2.7 10.7-4.7 15.3-6.5 4.6-1.7 8.7-3.1 12.1-4.1 1.7-0.5 3.2-1 4.5-1.4s2.4-0.7 3.3-1c1.7-0.4 2.6-0.6 2.6-0.6z" style=""/><g style=""><polygon points="172.2 252.7 220.2 204.6 172.1 156.5" style=""/></g></g></g><g style=""><path d="m227.5 192.2s0.9 0.1 2.6 0.2c0.4 0 0.9 0.1 1.4 0.1 0.4 0 0.9 0 1.5 0.1 0.5 0 1.1 0.1 1.7 0.1h2c5.8 0.1 14.2-0.1 24.2-1.3 10.1-1.2 21.9-3.4 34.1-7.1 6.1-1.9 12.3-4.1 18.4-6.8 3-1.3 6.1-2.8 9-4.4s5.8-3.3 8.5-5.2c5.4-3.7 10.4-8.1 14-13s5.6-10.5 5.3-16.1c-0.1-2.8-0.8-5.6-1.9-8.2-1-2.7-2.6-5.2-4.2-7.5-3.4-4.7-7.4-8.7-11.5-12-4-3.4-8.1-6.1-11.7-8.5-1.8-1.2-3.5-2.3-5.2-3.2-1.6-1-3.1-1.8-4.5-2.6s-2.6-1.4-3.7-2-2-1-2.8-1.4c-1.5-0.8-2.3-1.2-2.3-1.2l2.4 0.9c0.8 0.3 1.8 0.6 2.9 1.1 1.1 0.4 2.4 1 3.9 1.5 1.5 0.6 3.1 1.3 4.8 2 1.8 0.7 3.6 1.6 5.6 2.6 4 1.9 8.4 4.2 13.1 7.2 4.6 3 9.5 6.6 14 11.4 2.2 2.4 4.4 5.1 6.2 8.3 1.8 3.1 3.2 6.7 3.9 10.6s0.7 8-0.2 12c-0.8 4-2.3 7.8-4.2 11.4-3.9 7.1-9.3 13-15 18.2-2.9 2.6-5.9 5-9 7.2s-6.3 4.3-9.5 6.3c-6.4 3.9-12.9 7.2-19.4 10.1-12.9 5.8-25.6 9.9-36.6 12.7-11.1 2.8-20.6 4.2-27.4 4.9l-2.4 0.3c-0.8 0.1-1.5 0.1-2.2 0.2s-1.3 0.1-1.9 0.2c-0.5 0-1 0.1-1.4 0.1-1.7 0.1-2.6 0.2-2.6 0.2l0.1-29.4z" style=""/></g><g style=""><path d="m114.9 130.3c-1.2-1.4-2.3-3.9-2.3-6.4 0-4.7 3-8.7 6.5-8.7 1.9 0 3.3 1.1 4.3 2.2 3.5 4 7.2 6.1 12.1 6.1 5.1 0 8.7-3.9 8.7-10v-0.2c0-6.7-4.5-10.4-12.1-10.4h-2.1c-3.2 0-5.8-3.5-5.8-7.7 0-2.5 0.8-4.6 2.9-7.4l12-16h-18.9c-3.2 0-5.8-3.5-5.8-7.7s2.6-7.7 5.8-7.7h30c4 0 6.9 3 6.9 8 0 4.5-1.6 6.9-4.1 10.1l-12.1 15.3c8.4 1.9 16.6 7.7 16.6 23v0.2c0 15.5-8.5 26.8-22.2 26.8-8.8-0.1-15.4-3.8-20.4-9.5z" style=""/><path d="m174.7 130.9c-4.5-6-7.3-14.8-7.3-31v-0.2c0-25.3 8.6-44.7 27-44.7 6.2 0 11.2 2 14.9 4.9 2.1 1.6 3.5 4.1 3.5 7.7 0 4.7-2.9 8.3-6.4 8.3-1.1 0-2.4-0.6-3.3-1.3-2.8-2.1-5.4-3.3-9.1-3.3-7.7 0-11.5 8.2-12.4 19 3.1-2.7 6.7-5.3 12.8-5.3 12.2 0 21.7 9 21.7 26.1v0.2c0 16.7-10.1 28.3-23.5 28.3-8.2 0.1-13.6-3-17.9-8.7zm27.8-18.8v-0.2c0-6.9-4.1-11.9-10.7-11.9s-10.6 4.9-10.6 11.8v0.2c0 6.9 4.1 12.2 10.7 12.2 6.7 0 10.6-5 10.6-12.1z" style=""/><path d="m225.7 97.5v-0.2c0-23.8 11.1-42.4 27.5-42.4 16.3 0 27.3 18.4 27.3 42.2v0.2c0 23.8-11 42.4-27.5 42.4s-27.3-18.4-27.3-42.2zm40.8 0v-0.2c0-14.9-5.5-26.1-13.6-26.1s-13.4 10.9-13.4 25.9v0.2c0 15 5.4 26.1 13.6 26.1s13.4-11 13.4-25.9z" style=""/></g><g style=""><path d="m280.7 66.2c0-6.8 5.2-12.3 12.2-12.3 6.9 0 12.1 5.4 12.1 12.1v0.1c0 6.7-5.2 12.2-12.2 12.2s-12.1-5.4-12.1-12.1zm18 0c0-3.5-2.4-6.6-5.9-6.6-3.6 0-5.8 2.9-5.8 6.4v0.1c0 3.5 2.4 6.5 5.9 6.5 3.6-0.1 5.8-3 5.8-6.4z" style=""/></g></g></g></svg>':'<svg version="1.1" viewBox="0 0 440 440" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><metadata><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/><dc:title/></cc:Work></rdf:RDF></metadata><defs><filter id="filter4247" color-interpolation-filters="sRGB"><feFlood flood-color="rgb(255,255,255)" flood-opacity=".7" result="flood" id="hint_flood_color"/><feComposite in="flood" in2="SourceGraphic" operator="in" result="composite1"/><feGaussianBlur result="blur" stdDeviation="11"/><feOffset dx="-2.41474e-15" dy="-2.41474e-15" result="offset"/><feComposite in="SourceGraphic" in2="offset" result="composite2"/></filter></defs><g><g transform="translate(14.696 222.28)" filter="url(#filter4247)"><g transform="matrix(.7596 -.65039 .65039 .7596 -43.088 15.638)"><path d="m111.2 85.9s-0.9 0.4-2.6 1.2c-0.9 0.4-1.9 0.9-3.2 1.4-1.2 0.6-2.6 1.3-4.2 2-3.2 1.5-6.9 3.5-11.2 5.8-4.2 2.4-9 5.1-13.9 8.5-4.9 3.3-10 7.2-14.7 11.7s-9.1 9.9-11.5 15.7c-1.2 2.9-1.9 5.9-1.9 8.8s0.6 5.6 1.9 8.3c2.5 5.3 7.3 10.1 13.1 14s12.4 7.2 19.1 9.7c6.8 2.6 13.8 4.6 20.7 6.3 13.8 3.2 27.1 4.9 38.5 5.8 5.7 0.4 11 0.7 15.6 0.8 4.7 0.1 8.7 0.2 12.1 0.1 3.4 0 6-0.1 7.8-0.1s2.8-0.1 2.8-0.1l-1.6 37.8s-1-0.1-3-0.4c-2-0.2-4.8-0.6-8.5-1.1-3.6-0.5-8.1-1.2-13.1-2.1-5.1-0.9-10.7-2-16.9-3.4-12.3-2.8-26.6-6.8-41.5-12.7-7.4-3-15-6.4-22.5-10.7-7.4-4.2-14.8-9.2-21.5-15.4-3.3-3.1-6.5-6.6-9.2-10.5s-5-8.3-6.4-13.1-1.7-10-0.9-14.8 2.7-9.2 4.9-12.9c4.6-7.5 10.7-12.7 16.6-16.9s11.8-7.4 17.4-10.1c5.5-2.7 10.7-4.7 15.3-6.5 4.6-1.7 8.7-3.1 12.1-4.1 1.7-0.5 3.2-1 4.5-1.4s2.4-0.7 3.3-1c1.7-0.4 2.6-0.6 2.6-0.6z"/><polygon points="172.2 252.7 220.2 204.6 172.1 156.5"/></g><g transform="matrix(.7596 -.65039 .65039 .7596 -37.206 11.716)"><path d="m227.5 192.2s0.9 0.1 2.6 0.2c0.4 0 0.9 0.1 1.4 0.1 0.4 0 0.9 0 1.5 0.1 0.5 0 1.1 0.1 1.7 0.1h2c5.8 0.1 14.2-0.1 24.2-1.3 10.1-1.2 21.9-3.4 34.1-7.1 6.1-1.9 12.3-4.1 18.4-6.8 3-1.3 6.1-2.8 9-4.4s5.8-3.3 8.5-5.2c5.4-3.7 10.4-8.1 14-13s5.6-10.5 5.3-16.1c-0.1-2.8-0.8-5.6-1.9-8.2-1-2.7-2.6-5.2-4.2-7.5-3.4-4.7-7.4-8.7-11.5-12-4-3.4-8.1-6.1-11.7-8.5-1.8-1.2-3.5-2.3-5.2-3.2-1.6-1-3.1-1.8-4.5-2.6s-2.6-1.4-3.7-2-2-1-2.8-1.4c-1.5-0.8-2.3-1.2-2.3-1.2l2.4 0.9c0.8 0.3 1.8 0.6 2.9 1.1 1.1 0.4 2.4 1 3.9 1.5 1.5 0.6 3.1 1.3 4.8 2 1.8 0.7 3.6 1.6 5.6 2.6 4 1.9 8.4 4.2 13.1 7.2 4.6 3 9.5 6.6 14 11.4 2.2 2.4 4.4 5.1 6.2 8.3 1.8 3.1 3.2 6.7 3.9 10.6s0.7 8-0.2 12c-0.8 4-2.3 7.8-4.2 11.4-3.9 7.1-9.3 13-15 18.2-2.9 2.6-5.9 5-9 7.2s-6.3 4.3-9.5 6.3c-6.4 3.9-12.9 7.2-19.4 10.1-12.9 5.8-25.6 9.9-36.6 12.7-11.1 2.8-20.6 4.2-27.4 4.9l-2.4 0.3c-0.8 0.1-1.5 0.1-2.2 0.2s-1.3 0.1-1.9 0.2c-0.5 0-1 0.1-1.4 0.1-1.7 0.1-2.6 0.2-2.6 0.2l0.1-29.4z"/></g><g transform="translate(-35.374 -198.27)"><path d="m166.41 184.63c18.72 0 30.24-11.64 30.24-27.48v-0.24c0-15.6-11.16-21.6-22.56-23.52l16.44-15.72c3.36-3.24 5.52-5.76 5.52-10.32 0-5.04-3.96-8.16-9.36-8.16h-40.92c-4.32 0-7.92 3.6-7.92 7.92 0 4.32 3.6 7.92 7.92 7.92h25.8l-16.32 16.44c-2.88 2.88-3.96 5.04-3.96 7.56 0 4.32 3.6 7.92 7.92 7.92h2.88c10.32 0 16.44 3.84 16.44 10.68v0.24c0 6.24-4.92 10.2-11.88 10.2-6.6 0-11.64-2.16-16.44-6.24-1.44-1.2-3.24-2.28-5.88-2.28-4.8 0-8.88 4.08-8.88 8.88 0 2.64 1.44 5.16 3.12 6.6 6.84 5.88 15.84 9.6 27.84 9.6"/><path d="m213.7 173.95c0 5.16 4.08 9.24 9.24 9.24h23.52c26.4 0 44.64-18.36 44.64-42v-0.24c0-23.64-18.24-41.76-44.64-41.76h-23.52c-5.16 0-9.24 4.08-9.24 9.24v65.52m18.48-7.44v-50.64h14.28c15.12 0 25.32 10.44 25.32 25.32v0.24c0 14.88-10.2 25.08-25.32 25.08h-14.28"/></g></g></g></svg>',r=t.container.id,i)i.hasOwnProperty(o)&&(s=i[o],a=RegExp(s,"g"),n=n.replace(a,s+r));this.el_hint.innerHTML=n,this.el_hint.style.position="absolute",this.el_hint.style.bottom="0",this.el_hint.style.top="0",this.el_hint.style.left="0",this.el_hint.style.right="0",this.el_hint.style.margin="auto",this.el_hint.style.opacity=0,this.el_hint.style.fill="#666666",this.el_hint.style.borderRadius="50%",this.el_hint.style.pointerEvents="none",this.el_hint.children[0].style.height="100%",this.el_hint.children[0].style.width="100%",this.el_hint.children[0].style.pointerEvents="none",this.resize(),(e=document.getElementById("hint_flood_color"+r))&&(e.style.floodColor=t.hexToRgb(t.params.gui_background)),this.el_hint.style.fill=t.hexToRgb(t.params.gui_foreground)}function Oo(e,t){var i=this;(function(e){if(!(e instanceof Oo))throw new TypeError("Cannot call a class as a function")})(this),this.orbitvu_viewer=t,this.container=e,this.brandingButton=e.appendChild(document.createElement("a")),this.brandingButton.className="branding-button zindexer",this.brandingButton.innerHTML=t.params.branding,this.brandingButton.style.backgroundColor=t.hexToRgb(t.params.gui_background);try{this.brandingButton.style.backgroundColor=t.hexToRgba(t.params.gui_background)}catch(e){}this.brandingButton.style.color=t.hexToRgb(t.params.gui_foreground);try{this.brandingButton.style.color=t.hexToRgba(t.params.gui_foreground)}catch(e){}"yes"===t.params.social&&(this.brandingButton.style.top="46px"),t.params.branding_url&&(this.brandingButton.target="_blank",this.brandingButton.href=t.params.branding_url,this.onMouseDown=function(){document.location.href=t.params.branding_url},this.onMouseOver=function(){i.brandingButton.style.color=t.hexToRgb(t.params.gui_foreground_active);try{i.brandingButton.style.color=t.hexToRgba(t.params.gui_foreground_active)}catch(e){}},this.onMouseOut=function(){i.brandingButton.style.color=t.hexToRgb(t.params.gui_foreground);try{i.brandingButton.style.color=t.hexToRgba(t.params.gui_foreground)}catch(e){}},this.brandingButton.addEventListener("mouseover",this.onMouseOver,!1),this.brandingButton.addEventListener("mouseout",this.onMouseOut,!1),this.brandingButton.addEventListener("mousedown",t.utils.stopEventPropagation,!1),this.brandingButton.addEventListener("mouseup",t.utils.stopEventPropagation,!1),this.brandingButton.addEventListener("touchstart",t.utils.stopEventPropagation,!0),this.brandingButton.addEventListener("touchmove",t.utils.stopEventPropagation,!0),this.brandingButton.addEventListener("touchend",t.utils.stopEventPropagation,!0))}function Ro(){return function(e){if(!(e instanceof Ro))throw new TypeError("Cannot call a class as a function")}(this),e=this,!(t=Q(Ro).apply(this,arguments))||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var e,t}function Qo(t){var e,i,n=this;(function(e){if(!(e instanceof Qo))throw new TypeError("Cannot call a class as a function")})(this),this.control_panel=t.vport.appendChild(document.createElement("div")),this.control_panel.className="ov-control-panel zindexer",this.control_panel_inner=this.control_panel.appendChild(document.createElement("div")),this.interval_dict={intervalId:null},this.current_mode=t.get_mode(),e=t.use_mobile_buttons?t.vport:this.control_panel_inner,this.infoButton=new yr(e,t.vport,t.params.dialog_content,t),this.mode_changed_handler=function(e){n.current_mode=e},t.addListener("mode_changed",this.mode_changed_handler),this.zoom_complete_handler=function(){var e=t.get_mode();e!==n.current_mode&&(e===t.MODE_DRAG?t.dispatchEvent("mode_changed","drag"):t.dispatchEvent("mode_changed","rotate"))},t.addListener("zoom_complete",this.zoom_complete_handler),i=1==t.frames_no,"4"!=t.params.style&&(t.use_mobile_buttons||(i||"no"===t.params.btn_autorotate||(this.autorotate_button=new xr(t,this.control_panel_inner)),"no"!==t.params.btn_zoom_in&&(this.zoomin_button=new Er(t,this.control_panel_inner,this.interval_dict)),"no"!==t.params.btn_zoom_out&&(this.zoomout_button=new br(t,this.control_panel_inner,this.interval_dict)),i||"no"!==t.params.btn_drag_rotate&&(this.drag_rotate_button=new kr(t,this.control_panel_inner,t.mode!=t.MODE_DRAG))),"no"!==t.params.btn_fullscreen&&(this.fullscreen_button=new Br(e,t)))}function Co(e,t){var i,n,r;if(function(e){if(!(e instanceof Co))throw new TypeError("Cannot call a class as a function")}(this),n=this,r=T(Co).call(this),(i=!r||"object"!==k(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):r).onMouseDown=function(e){return t.is_loaded&&(i.handle_tooltip_on_action(),i.viewer.toggle_fullscreen_mode(),e.preventDefault(),e.stopPropagation()),!1},i.is_mobile=t.use_mobile_buttons,i.display_style="inline-block",i.is_mobile&&(i.display_style="block"),i.container=e,i.viewer=t,i.fullscreen=e.appendChild(document.createElement("div")),i.button=document.createElement("div"),i.fullscreen.appendChild(i.button),i.is_mobile){i.fullscreen.style.backgroundColor=t.hexToRgb(t.params.gui_background);try{i.fullscreen.style.backgroundColor=t.hexToRgba(t.params.gui_background)}catch(e){}i.button.innerHTML='<svg id="svg3117" xmlns="http://www.w3.org/2000/svg" height="27" width="27"><g id="layer1" stroke="#FFF" stroke-linecap="round" fill="none"><path id="path34" d="M10.304 16.694l-4.74 4.74" stroke-width="2.188"/><path id="path36" d="M1.784 19.494v5.725" stroke-width="2.566"/><path id="path38" d="M7.514 25.214H1.787" stroke-width="2.566"/><path id="path40" d="M10.304 10.304l-4.74-4.74" stroke-width="2.188"/><path id="path42" d="M7.514 1.784H1.787" stroke-width="2.566"/><path id="path44" d="M1.784 7.514V1.787" stroke-width="2.566"/><path id="path46" d="M16.694 10.304l4.74-4.74" stroke-width="2.188"/><path id="path48" d="M25.214 7.514V1.787" stroke-width="2.566"/><path id="path50" d="M19.494 1.784h5.726" stroke-width="2.566"/><path id="path52" d="M16.694 16.694l4.74 4.74" stroke-width="2.188"/><path id="path54" d="M19.494 25.214h5.726" stroke-width="2.566"/><path id="path56" d="M25.214 19.494v5.725" stroke-width="2.566"/></g></svg>',i.svg_element=i.button.children[0],i.button.style.position="absolute",i.button.style.width="26px",i.button.style.top="17px",i.button.style.left="16px",i.paths_fill=[],i.paths_stroke=["path56","path54","path52","path50","path48","path46","path44","path42","path40","path38","path36","path34"],i.fullscreen.className="zindexer ovviosfullscreen"}else i.button.className="ovviosbutton",i.fullscreen.className="ovviosbuttonwrapper zindexer ovviosfullscreendesktop style-"+i.viewer.params.style,n="",r=t.container.id,n="1"==i.viewer.params.style||"3"==i.viewer.params.style?'<svg id="svg3479" xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 20 20" width="20" preserveAspectRatio="none"><g id="background"><path id="path_background" fill="#f2f2f2" d="M20 2.65q0-1.1-.8-1.9Q18.45 0 17.3 0H2.65q-1.1 0-1.9.75-.75.8-.75 1.9V17.3q0 1.15.75 1.9.8.8 1.9.8H17.3q1.15 0 1.9-.8.8-.75.8-1.9V2.65z"/></g><g id="foreground"><path id="path_foreground" fill="gray" d="M17.75 5.25q0-1-1-1h-13q-1 0-1 1v10q0 1 1 1h13q.4 0 .7-.3t.3-.7v-10M16.5 9.4h-.9V7.35L13.45 9.5l-1-1 2.15-2.15h-2.05v-.9h3.95V9.4M3.55 14.85v-4.1q0-.5.5-.5h5.7q.5 0 .5.5v4.1q0 .5-.5.5h-5.7q-.5 0-.5-.5z"/></g></svg>':'<svg id="svg2" xmlns="http://www.w3.org/2000/svg" height="25.2" viewBox="0 0 25.200001 25.200001" width="25.2" preserveAspectRatio="none"><g id="background"><path id="path_background" d="M.018 12.633q0 5.25 3.7 8.95 3.65 3.65 8.9 3.65 5.2 0 8.9-3.65 3.7-3.7 3.7-8.95 0-5.2-3.7-8.9t-8.9-3.7q-5.25 0-8.9 3.7-3.7 3.7-3.7 8.9z"/></g><g id="foreground"><path id="path_foreground" d="M15.518 5.783h3.8v3.8m-8.85.85l-1.7-1.65m1.7 5.85l-1.7 1.65m-3-6.7v-3.8h3.8m0 13.5h-3.8v-3.75m8.85-.9l1.7 1.65m3-.75v3.75h-3.8m-.9-8.85l1.7-1.65" stroke="#FFF" stroke-linecap="round" stroke-width="1.7" fill="none"/></g></svg>',n=i.setup_svg_ids(n,r,["path_background","path_foreground"]),i.set_button_content(n),i.setup_tooltip("fullscreen"),i.colorize_tooltip(i.viewer.params),i.svg_element=i.button.children[0],t.utils.colorize_svg(i.svg_element,t.params.gui_background,!1,["path_background"+r],[]),"1"==i.viewer.params.style||"3"==i.viewer.params.style?(i.paths_stroke=[],i.paths_fill=["path_foreground"+r]):(i.paths_stroke=["path_foreground"+r],i.paths_fill=[]);return"yes"==t.params.fullscreen&&(i.fullscreen.style.display="none"),i.viewer.utils.add_button_click_handler(i.fullscreen,i.onMouseDown,!1),t.utils.colorize_svg(i.svg_element,t.params.gui_foreground,!1,i.paths_fill,i.paths_stroke),i}function Io(e,t,i){var n,r,o,s;if(function(e){if(!(e instanceof Io))throw new TypeError("Cannot call a class as a function")}(this),o=this,s=x(Io).call(this),(n=!s||"object"!==b(s)&&"function"!=typeof s?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o):s).is_rotate=i,n.viewer=e,n.diff=0,n.pos=0,n.is_dragging=!1,n.container=t,n.container_id=e.container.id,n.has_dragger="2"==n.viewer.params.style||"3"==n.viewer.params.style,n.current_hangle=0,n.frame_no=null,n.setup_handlers(),n.wrapper=t.appendChild(document.createElement("div")),n.wrapper.className="ovviosbuttonwrapper ovviosmoverotate zindexer style-"+n.viewer.params.style,n.button=document.createElement("div"),n.button.className="ovviosbutton",n.has_dragger?(n.dragger1=document.createElement("div"),n.dragger1.className="ovviosmoverotatedragger ovviosmoverotatedragger1 zindexer",n.dragger2=document.createElement("div"),n.dragger2.className="ovviosmoverotatedragger ovviosmoverotatedragger2 zindexer",n.wrapper.appendChild(n.dragger1),n.wrapper.appendChild(n.dragger2),n.wrapper.appendChild(n.button),n.rotate_handler=function(e){var t;n.current_hangle=e,n.is_dragging||(t=n.panel_width/(n.viewer.frames_no-1),0===e||e||(e=n.viewer.get_transformed_value("hangle")),t=hr()(e*t),n.pos=t,n.button.style.transform="translateX(".concat(t,"px"),n.dragger1.style.transform="scaleX("+t/(n.panel_width+n.button_width)+") translateY(-50%)",n.dragger2.style.transform="scaleX("+(n.panel_width-t)/(n.panel_width+n.button_width)+") translateY(-50%)")},0===(r=n.wrapper.getBoundingClientRect().width)&&(r=150),n.button_width=n.button.getBoundingClientRect().width,0===n.button_width&&(n.button_width=26),n.panel_width=r-n.button_width,n.rotate_handler(hr()(e.params.first_frame)),n.attach_handlers(n.button,n.on_mousedown_drag,null,null,null),n.viewer.addListener("rotate",n.rotate_handler)):(n.wrapper.appendChild(n.button),n.zoom_complete_handler=function(){n.viewer.get_mode()==n.viewer.MODE_DRAG?n.switch_mode("drag"):n.switch_mode("rotate")},n.viewer.addListener("zoom_complete",n.zoom_complete_handler)),r="",r="1"==n.viewer.params.style||"3"==n.viewer.params.style?'<svg id="svg5255" xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 20 20" width="20" preserveAspectRatio="none"><g id="background"><path id="path_background" fill="#f2f2f2" d="M20 2.65q0-1.1-.8-1.9Q18.45 0 17.3 0H2.65q-1.1 0-1.9.75-.75.8-.75 1.9V17.3q0 1.15.75 1.9.8.8 1.9.8H17.3q1.15 0 1.9-.8.8-.75.8-1.9V2.65z"/></g><g id="foreground_FL"><path id="path_rotate" fill="gray" d="M14.427 15.816q.714-.556.16-1.27t-1.27-.2q-.716.557-.16 1.27t1.27.2M4.15 14.268q.555.754 1.27.2.713-.517.197-1.232-.555-.793-1.27-.198-.714.516-.198 1.23m6.507 1.19q-.913.08-.754.993.08.874.992.794.873-.158.794-1.03-.16-.874-1.033-.755m-3.532 1.23q.794.356 1.19-.477.358-.834-.475-1.19-.834-.398-1.19.475-.398.834.475 1.19M3.792 11.53q.913-.08.833-.992-.158-.873-.992-.794-.912.08-.833.992.16.873.992.794m.873-5q-.833-.357-1.19.437-.397.833.436 1.19.834.397 1.192-.436t-.437-1.19m2.302-.992q.754-.516.198-1.23-.476-.754-1.23-.238T5.697 5.3q.476.754 1.27.238m2.698-.913q.913-.08.833-.992-.08-.833-.952-.833-.913.08-.833.992 0 .833.952.833m6.468 5.476l-1.23-2.3q-.357-.635-.913-.278-.595.318-.277.913l1.785 3.293q.04.2.16.318.197.317.515.278.357.04.555-.318.12-.12.12-.278l1.587-3.452q.277-.635-.318-.913-.635-.277-.912.358l-1.072 2.38m-3.69-4.92q.833.358 1.23-.396.357-.833-.397-1.23-.833-.357-1.23.397-.357.834.397 1.23m3.373 2.183q.793-.476.277-1.27-.515-.753-1.23-.237-.793.436-.277 1.23.515.714 1.23.277z"/></g><g id="foreground"><path id="path_move" fill="gray" d="M11.226 9.332q0-.35-.35-.35h-1.95q-.35 0-.35.35v1.95q0 .35.35.35h1.95q.35 0 .35-.35v-1.95zm-1.45 8.798q.05.1.15 0l.7-.7v-.15l-3.1-3.15h-.15l-.75.75v.15l3.15 3.1zm3.3-3.1v-.15l-.7-.75h-.2l-3.1 3.15-.05.1.75.75q.05.1.15 0l3.15-3.1zm-2.45-11.696v-.15l-.7-.75h-.15l-3.15 3.15v.15l.75.75h.15l3.1-3.15zm1.75 3.15l.7-.75v-.15l-3.15-3.15h-.15l-.75.8.05.1 3.1 3.15h.2zm-3.15-2.45v3.9q0 .1.15.1h1l.1-.1v-3.9l-.1-.1h-1q-.15 0-.15.1zm0 8.648v3.9q0 .098.15.098h1l.1-.1v-3.898l-.1-.1h-1q-.15 0-.15.1zM8.85 9q-.35 0-.35.35v1.95q0 .35.35.35h1.95q.35 0 .35-.35V9.35q0-.35-.35-.35H8.85zm8.8 1.45q.1-.05 0-.15l-.7-.7h-.15l-3.15 3.1v.15l.75.75h.15l3.1-3.15zm-3.1-3.3h-.15l-.75.7v.2l3.15 3.1.1.05.75-.75q.1-.05 0-.15l-3.1-3.15zM2.85 9.6H2.7l-.75.7v.15L5.1 13.6h.15l.75-.75v-.15L2.85 9.6zM6 7.85l-.75-.7H5.1L1.95 10.3v.15l.8.75.1-.05L6 8.05v-.2zM3.55 11h3.9q.1 0 .1-.15v-1l-.1-.1h-3.9l-.1.1v1q0 .15.1.15zm8.65 0h3.9q.1 0 .1-.15v-1l-.1-.1h-3.9l-.1.1v1q0 .15.1.15z"/></g></svg>':'<svg id="svg2" xmlns="http://www.w3.org/2000/svg" height="25.2" viewBox="0 0 25.200001 25.200001" width="25.2" preserveAspectRatio="none"><g id="background"><path id="path_background" d="M.02 12.638q0 5.25 3.7 8.95 3.65 3.65 8.9 3.65 5.2 0 8.9-3.65 3.7-3.7 3.7-8.95 0-5.2-3.7-8.9t-8.9-3.7q-5.25 0-8.9 3.7-3.7 3.7-3.7 8.9z"/></g><g id="foreground" fill="#FFF"><path id="path_move" d="M12.62 14.738q-.85 0-.85.85v3.2l-1.2-1.25q-.65-.65-1.2 0-.6.6 0 1.2l2.5 2.55q.1.3.5.4.2.05.4.05h.05q.05-.05.1-.05.35-.1.5-.4l2.5-2.55q.6-.6 0-1.2t-1.2 0l-1.25 1.25v-3.2q0-.85-.85-.85m-4.85-5.35q-.6-.6-1.2 0l-2.5 2.5q-.35.1-.4.5-.1.2-.05.4v.05l.05.05v.05q.05.35.4.5l2.5 2.5q.6.6 1.2 0 .65-.55 0-1.2l-1.25-1.25h3.15q.85 0 .85-.85t-.85-.85h-3.1l1.2-1.2q.65-.65 0-1.2m10.95 0q-.65-.65-1.2 0-.65.55 0 1.2l1.25 1.2h-3.2q-.85 0-.85.85t.85.85h3.2l-1.25 1.25q-.65.65 0 1.2.55.65 1.2 0l2.55-2.5q.3-.15.4-.5v-.15q.05-.2 0-.4-.1-.4-.4-.5l-2.55-2.5m-2.8-1.6q.6-.6 0-1.2l-2.5-2.5q-.15-.35-.5-.4-.3-.15-.55 0-.4.05-.5.4l-2.5 2.5q-.6.6 0 1.2.55.65 1.2 0l1.2-1.2v3.1q0 .85.85.85t.85-.85v-3.15l1.25 1.25q.6.6 1.2 0z"/><path id="path_rotate" d="M16.67 19.738q.7.9 1.6.25.9-.7.2-1.6-.7-.9-1.6-.25-.9.7-.2 1.6m-11.1-3.25q-.9.65-.25 1.55.7.95 1.6.25.9-.65.25-1.55-.7-1-1.6-.25m7.95 3.05q-1.15.1-.95 1.25.1 1.1 1.25 1 1.1-.2 1-1.3-.2-1.1-1.3-.95m-2.95.95q.45-1.05-.6-1.5-1.05-.5-1.5.6-.5 1.05.6 1.5 1 .45 1.5-.6m-6.95-6.9q.2 1.1 1.25 1 1.15-.1 1.05-1.25-.2-1.1-1.25-1-1.15.1-1.05 1.25m2.35-5.3q-1.05-.45-1.5.55-.5 1.05.55 1.5 1.05.5 1.5-.55.45-1.05-.55-1.5m2.9-1.25q.95-.65.25-1.55-.6-.95-1.55-.3-.95.65-.3 1.55.6.95 1.6.3m2.2-2.2q0 1.05 1.2 1.05 1.15-.1 1.05-1.25-.1-1.05-1.2-1.05-1.15.1-1.05 1.25m10.7 4.95l-1.35 3-1.55-2.9q-.45-.8-1.15-.35-.75.4-.35 1.15l2.25 4.15q.05.25.2.4.25.4.65.35.45.05.7-.4.15-.15.15-.35l2-4.35q.35-.8-.4-1.15-.8-.35-1.15.45m-6.5-4.75q-.45 1.05.5 1.55 1.05.45 1.55-.5.45-1.05-.5-1.55-1.05-.45-1.55.5m5.1 2.7q-.65-.95-1.55-.3-1 .55-.35 1.55.65.9 1.55.35 1-.6.35-1.6z"/></g></svg>',r=n.setup_svg_ids(r,n.container_id,["path_background","path_move","path_rotate"]),n.set_button_content(r),n.dragger1){n.dragger1.style.backgroundColor=e.hexToRgb(e.params.gui_background),n.dragger2.style.backgroundColor=e.hexToRgb(e.params.gui_background);try{n.dragger1.style.backgroundColor=e.hexToRgba(e.params.gui_background),n.dragger2.style.backgroundColor=e.hexToRgba(e.params.gui_background)}catch(e){}}return r=n.button.children[0],e.utils.colorize_svg(r,e.params.gui_foreground,!1,["path_move"+n.container_id,"path_rotate"+n.container_id],[]),e.utils.colorize_svg(r,e.params.gui_background,!1,["path_background"+n.container_id],[]),n.has_dragger||(n.setup_tooltip("move"),n.colorize_tooltip(n.viewer.params),n.viewer.utils.add_button_click_handler(n.wrapper,n.onMouseDown,!1)),n.render(),n}function Do(t,e){var i,n,r;return function(e){if(!(e instanceof Do))throw new TypeError("Cannot call a class as a function")}(this),n=this,r=y(Do).call(this),(i=!r||"object"!==g(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):r).viewer=t,i.onMouseDown=function(e){return t.is_loaded&&(t.dispatchEvent("interaction_start"),t.dispatchEvent("activity_start"),i.handle_tooltip_on_action(),i.viewer.mode==i.viewer.MODE_AUTOROTATE?i.viewer.changeMode(i.viewer.MODE_ROTATE):i.viewer.changeMode(i.viewer.MODE_AUTOROTATE),e.preventDefault(),e.stopPropagation()),!1},i.container=e,i.wrapper=e.appendChild(document.createElement("div")),i.wrapper.className="ovviosbuttonwrapper ovviosautorotate zindexer style-"+i.viewer.params.style,i.button=document.createElement("div"),i.button.className="ovviosbutton",i.wrapper.appendChild(i.button),r="",r="1"==i.viewer.params.style||"3"==i.viewer.params.style?'<svg id="svg3164" xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 20 20" width="20" preserveAspectRatio="none"><g id="background"><path id="path_background" fill="#f2f2f2" d="M20 2.65q0-1.1-.8-1.9Q18.45 0 17.3 0H2.65q-1.1 0-1.9.75-.75.8-.75 1.9V17.3q0 1.15.75 1.9.8.8 1.9.8H17.3q1.15 0 1.9-.8.8-.75.8-1.9V2.65z"/></g><g id="foreground"><path id="path_foreground" fill="gray" d="M11.9 5.55l.1-.05.6-.6.05-.1v-.1L9.9 1.85l-.1-.05-.1.05-.65.6q-.1.1 0 .25l2.7 2.8.15.05zm-2.2 2.1l.1-.05 2.8-2.7q.15-.1.05-.2L12 4.05 11.9 4l-.1.05-2.85 2.7-.05.1.05.1.6.65.15.05zm-4.2.25Q6.7 6 8.8 5.45q.7-.15 1.35-.15.6 0 .9.05l.3-1.15-1.2-.1q-.9 0-1.65.2-2.6.7-4 3-1.45 2.4-.75 5 .55 2.2 2.35 3.55 1.75 1.4 4.05 1.4.85 0 1.6-.2 2.6-.7 4-3 1.45-2.4.75-5-.3-1.25-1.15-2.35l-.1-.05-.1.05-.7.5q-.1.15-.05.2.65.85.95 1.95.55 2.2-.6 4.1-1.2 1.95-3.3 2.45-.65.15-1.3.15-1.9 0-3.35-1.1Q5.35 13.8 4.9 12q-.55-2.2.6-4.1z"/></g></svg>':'<svg id="svg2" xmlns="http://www.w3.org/2000/svg" height="25.2" viewBox="0 0 25.200001 25.200001" width="25.2" preserveAspectRatio="none"><g id="background"><path id="path_background" d="M.042 12.623q0 5.25 3.7 8.95 3.65 3.65 8.9 3.65 5.2 0 8.9-3.65 3.7-3.7 3.7-8.95 0-5.2-3.7-8.9t-8.9-3.7q-5.25 0-8.9 3.7-3.7 3.7-3.7 8.9z"/></g><g id="foreground"><path id="path_foreground" fill="#FFF" d="M22.792 9.273q-.85-.35-1.1.45l-.45 1q-.5-2.45-2.4-4.3-2.55-2.6-6.2-2.6t-6.25 2.6q-2.6 2.55-2.6 6.2 0 3.7 2.6 6.25 2.6 2.6 6.25 2.6t6.25-2.6q.55-.55 0-1.2-.65-.55-1.2 0-2.1 2.1-5.05 2.1t-5.05-2.1-2.1-5.05 2.1-5.05q2.15-2.05 5.05-2.05t5.05 2.05q1.65 1.7 2 3.9l-.95-1.65q-.35-.8-1.15-.35-.7.35-.35 1.15l2.25 4.1q0 .1.05.2.05.3.4.45.15.15.45.1h.2q.35-.05.55-.4.1-.15.1-.4l1.95-4.25q.35-.8-.4-1.15z"/></g></svg>',e=t.container.id,r=i.setup_svg_ids(r,e,["path_background","path_foreground"]),i.set_button_content(r),i.svg_element=i.button.children[0],i.paths_fill=["path_foreground"+e],i.paths_stroke=[],t.utils.colorize_svg(i.svg_element,t.params.gui_foreground,!1,i.paths_fill,i.paths_stroke),t.utils.colorize_svg(i.svg_element,t.params.gui_background,!1,["path_background"+e],[]),i.viewer.utils.add_button_click_handler(i.wrapper,i.onMouseDown,!1),i.setup_tooltip("autorotation"),i.colorize_tooltip(i.viewer.params),i}function zo(e,t,i){var n,r,o;return function(e){if(!(e instanceof zo))throw new TypeError("Cannot call a class as a function")}(this),r=this,o=v(zo).call(this),(n=!o||"object"!==p(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o).interval_dict=i,n.zoomAnimationRefresh=50,n.viewer=e,n.onMouseDown=function(e){e.preventDefault(),e.stopPropagation(),n.handle_tooltip_on_action(),n.viewer.scale!==n.viewer.max_scale&&(n.zoomIn(),n.interval_dict.timeoutId=setTimeout(function(){n.zoomIn(),n.interval_dict.intervalId=setInterval(function(){n.zoomIn()},n.zoomAnimationRefresh)},250)),n.viewer.utils.colorize_svg(n.svg_element,n.viewer.params.gui_foreground_active,!1,n.paths_fill,n.paths_stroke)},n.onMouseUp=function(e){n.interval_dict.intervalId&&(e.preventDefault(),e.stopPropagation()),n.handle_tooltip_on_action(),n.stop()},n.container=t,n.zoom_in=t.appendChild(document.createElement("div")),n.button=document.createElement("div"),n.zoom_in.appendChild(n.button),n.button.className="ovviosbutton",n.zoom_in.className="ovviosbuttonwrapper ovvioszoomin zindexer style-"+n.viewer.params.style,i="",t=e.container.id,i="1"==n.viewer.params.style||"3"==n.viewer.params.style?'<svg id="svg4704" xmlns="http://www.w3.org/2000/svg" height="19.7" viewBox="0 0 20 19.700001" width="20" preserveAspectRatio="none"><g id="background"><path id="path_background" fill="#f2f2f2" d="M20 2.65q0-1.1-.8-1.9Q18.45 0 17.3 0H2.65q-1.1 0-1.9.75-.75.8-.75 1.9V17.3q0 1.15.75 1.9.8.8 1.9.8H17.3q1.15 0 1.9-.8.8-.75.8-1.9V2.65z"/></g><g id="foreground"><path id="path_foreground" fill="gray" d="M16.1 10.6q.15 0 .15-.15V9.6q0-.15-.15-.15h-5.5v-5.5q0-.15-.15-.15H9.6q-.15 0-.15.15v5.5h-5.5q-.15 0-.15.15v.85q0 .15.15.15h5.5v5.5q0 .15.15.15h.85q.15 0 .15-.15v-5.5h5.5z"/></g></svg>':'<svg id="svg3336" xmlns="http://www.w3.org/2000/svg" height="25.2" viewBox="0 0 25.200001 25.200001" width="25.2" preserveAspectRatio="none"><g id="Layer1_0_FILL"><path id="path_background" fill-opacity=".706" d="M3.7 21.55q3.7 3.65 8.9 3.65t8.9-3.65q3.7-3.7 3.7-8.95 0-5.2-3.7-8.9T12.6 0 3.7 3.7 0 12.6q0 5.25 3.7 8.95z"/></g><g id="Layer1_1_FILL"><path id="path_foreground" fill="#FFF" d="M13.55 9q0-.85-.85-.85t-.85.85v2.75H9.1q-.85 0-.85.85t.85.85h2.75v2.8q0 .85.85.85t.85-.85v-2.8h2.75q.85 0 .85-.85t-.85-.85h-2.75V9zm7.05 6.6q.55-1.377.55-3 0-3.5-2.5-6T12.6 4.1q-3.5 0-6 2.5t-2.5 6q0 3.55 2.5 6.05 2.45 2.5 6 2.5 2.797 0 4.95-1.55l3.3 2.55q1.9-1.6 3.05-4l-3.3-2.55m-8-9.8q2.85 0 4.85 2t2 4.8q0 2.85-2 4.85t-4.85 2q-2.9 0-4.8-2-2-2-2-4.85 0-2.8 2-4.8 1.9-2 4.8-2z"/></g></svg>',i=n.setup_svg_ids(i,t,["Layer1_0_FILL","Layer1_1_FILL","path_background","path_foreground"]),n.set_button_content(i),n.setup_tooltip("zoomin"),n.colorize_tooltip(n.viewer.params),n.svg_element=n.button.children[0],n.paths_fill=["path_foreground"+t],n.paths_stroke=[],e.utils.colorize_svg(n.svg_element,e.params.gui_foreground,!1,n.paths_fill,n.paths_stroke),e.utils.colorize_svg(n.svg_element,e.params.gui_background,!1,["path_background"+t],[]),n.attach_handlers(n.zoom_in,n.onMouseDown,n.onMouseUp,n.onMouseUp),n}function So(e,t,i){var n,r,o;return function(e){if(!(e instanceof So))throw new TypeError("Cannot call a class as a function")}(this),r=this,o=f(So).call(this),(n=!o||"object"!==_(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o).zoomAnimationRefresh=50,n.interval_dict=i,n.onMouseDown=function(e){e.preventDefault(),e.stopPropagation(),e.pointerType&&"touch"===e.pointerType?n.handle_tooltip_on_action(!0):n.handle_tooltip_on_action(!1),n.viewer.scale!==n.viewer.min_scale&&(n.zoomOut(),n.interval_dict.timeoutId=setTimeout(function(){n.zoomOut(),n.interval_dict.intervalId=setInterval(function(){n.zoomOut()},n.zoomAnimationRefresh)},250)),n.viewer.utils.colorize_svg(n.svg_element,n.viewer.params.gui_foreground_active,!1,n.paths_fill,n.paths_stroke)},n.onMouseUp=function(e){n.interval_dict.intervalId&&(e.preventDefault(),e.stopPropagation()),n.handle_tooltip_on_action(),n.stop()},n.viewer=e,n.container=t,n.zoom_out=t.appendChild(document.createElement("div")),n.button=document.createElement("div"),n.zoom_out.appendChild(n.button),n.button.className="ovviosbutton",n.zoom_out.className="ovviosbuttonwrapper ovvioszoomout zindexer style-"+n.viewer.params.style,i="",t=e.container.id,i="1"==n.viewer.params.style||"3"==n.viewer.params.style?'<svg id="svg4846" xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 20 20" width="20" preserveAspectRatio="none"><g id="background"><path id="path_background" fill="#f2f2f2" d="M20 2.65q0-1.1-.8-1.9Q18.45 0 17.3 0H2.65q-1.1 0-1.9.75-.75.8-.75 1.9V17.3q0 1.15.75 1.9.8.8 1.9.8H17.3q1.15 0 1.9-.8.8-.75.8-1.9V2.65z"/></g><g id="foreground_FL"><path id="path_foreground" fill="gray" d="M3.8 9.75v.85q0 .5.5.5h12.15q.5 0 .5-.5v-.85q0-.5-.5-.5H4.3q-.5 0-.5.5z"/></g></svg>':'<svg id="svg2" xmlns="http://www.w3.org/2000/svg" height="25.2" viewBox="0 0 25.200001 25.200001" width="25.2" preserveAspectRatio="none"><g id="Layer1_0_OUT_FILL"><path id="path_background" fill-opacity=".706" d="M12.6 0Q7.4 0 3.7 3.7T0 12.6q0 5.25 3.7 8.95 3.7 3.65 8.9 3.65t8.9-3.65q3.7-3.7 3.7-8.95 0-5.2-3.7-8.9T12.6 0z"/></g><g id="Layer1_1_OUT_FILL"><path id="path_foreground" fill="#FFF" d="M8.2 12.6q0 .85.85.85h7.25q.85 0 .85-.85t-.85-.85H9.05q-.85 0-.85.85zm12.4 3q.5-1.395.5-3 0-3.5-2.5-6-2.45-2.5-6-2.5T6.55 6.6t-2.5 6q0 3.55 2.5 6.05t6.05 2.5q2.807 0 4.9-1.6l3.35 2.6q1.95-1.7 3.05-4l-3.3-2.55m-8-9.8q2.9 0 4.8 2 2 2 2 4.8 0 2.85-2 4.85-1.9 2-4.8 2-2.85 0-4.85-2t-2-4.85q0-2.8 2-4.8t4.85-2z"/></g></svg>',i=n.setup_svg_ids(i,t,["Layer1_0_OUT_FILL","Layer1_1_OUT_FILL","path_background","path_foreground"]),n.set_button_content(i),n.setup_tooltip("zoomout"),n.colorize_tooltip(n.viewer.params),n.svg_element=n.button.children[0],n.paths_fill=["path_foreground"+t],n.paths_stroke=[],e.utils.colorize_svg(n.svg_element,e.params.gui_foreground,!1,n.paths_fill,n.paths_stroke),e.utils.colorize_svg(n.svg_element,e.params.gui_background,!1,["path_background"+t],[]),n.attach_handlers(n.zoom_out,n.onMouseDown,n.onMouseUp,n.onMouseUp),n}function Fo(e,t,i,n){}function Uo(e,t,i,n,r,o){switch(function(e){if(!(e instanceof Uo))throw new TypeError("Cannot call a class as a function")}(this),this.about=null,this.dialog_content=i,this.VERSION="3.9.3",this.LICENSED_FOR='<small>Licensed for <a href="http://orbitvu.com" target="_blank">ORBITVU Sp. z o.o.</a></small>',this.viewer=e,this.open_callback=r,this.close_callback=o,this.container=t,this.opened=!1,this.extra_css=n,this.is_mobile=e.is_mobile,this.TYPE="0",this.TYPE){case"0":this.TYPE="Free360";break;case"1":this.TYPE="BASIC";break;case"2":this.TYPE="STANDARD";break;case"3":this.TYPE="CORPORATE";break;case"4":this.TYPE="RFL";break;case"5":this.TYPE="SUN";break;case"6":this.TYPE="My360";break;case"7":this.TYPE="Infinity360"}}function Lo(e,t,i,n){var r=this;(function(e){if(!(e instanceof Lo))throw new TypeError("Cannot call a class as a function")})(this),this.onMouseDown=function(e){return e.preventDefault(),e.stopPropagation(),r.destroy(),!1},this.on_destroy_callback=n,this.utils=new ur,this.container=e,this.dialog=e.appendChild(document.createElement("div")),this.dialog.className="ovvdialog zindexer","object"===a(t)?(this.dialog.className+=" ovvdialog_orbitvu_skin",this.dialog.appendChild(t)):(this.dialog.className+=" ovvdialog_orbitvu_skin",this.dialog.innerHTML=t),i&&(this.dialog.className+=" "+i),this.utils.add_button_click_handler(this.dialog,this.onMouseDown,!0)}function Po(e){(function(e){if(!(e instanceof Po))throw new TypeError("Cannot call a class as a function")})(this),this.images=[],this.scales=[],this.scales_map={},this.base_url=null,this.ovus_cache_modifier=e}function No(){(function(e){if(!(e instanceof No))throw new TypeError("Cannot call a class as a function")})(this),this.locales=this.get_locales()}function jo(){!function(e){if(!(e instanceof jo))throw new TypeError("Cannot call a class as a function")}(this)}function qo(e,t,i,n,r,o,s,a,l){this.t=t,this.s=n,this.c=r,this.p=i,this.r=o||Si,this.d=s||this,this.set=a||Qi,this.pr=l||0,(this._next=e)&&(e._prev=this)}function Go(e,t){var i=e.parent||Me;this.vars=e,this._dur=this._tDur=+e.duration||0,this._delay=+e.delay||0,(this._repeat=e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase,Et(this)),this._ts=1,this.data=e.data,ri||oi.wake(),i&&At(i,this,t||0===t?t:i._time),e.reversed&&this.reversed(!0),e.paused&&this.paused(!0)}i.r(t),mi=i(5),te=i.n(mi),po=i(2),ie=i.n(po),i(87),re={duration:.5,overwrite:!(ne={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}}),delay:0},se=1/(oe=1e8),le=(ae=2*Math.PI)/4,ce=Math.sqrt,ue=Math.cos,_e=Math.sin,de=function(e){return"string"==typeof e},fe=function(e){return"function"==typeof e},pe=function(e){return"number"==typeof e},me=function(e){return void 0===e},ve=function(e){return"object"==typeof e},ge=function(e){return!1!==e},Ae=function(){return"undefined"!=typeof window},we=function(e){return fe(e)||de(e)},ye=Array.isArray,be=/(?:-?\.?\d|\.)+/gi,Ee=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,xe=/[-+=\.]*\d+(?:\.|e-|e)*\d*/gi,ke=/\(([^()]+)\)/i,Be=/[\+-]=-?[\.\d]+/,Te=/[#\-+\.]*\b[a-z\d-=+%.]+/gi,Ce={},Ie={},ze=function(e){return(Ie=st(e,Ce))&&Hi},Se=function(e,t){return!t&&void 0},Fe=function(e,t){return e&&(Ce[e]=t)&&Ie&&(Ie[e]=t)||Ce},Le={},Pe=[],Ne={},je={},qe={},Ge=30,He=[],Ye="onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",Ve=function(e){var t,i,n=e[0];if(!ve(n)&&!fe(n))return ye(e)?e:[e];if(!(t=(n._gsap||{}).harness)){for(i=He.length;i--&&!He[i].targetTest(n););t=He[i]}for(i=e.length;i--;)e[i]._gsap||(e[i]._gsap=new vi(e[i],t));return e},Xe=function(e){return e._gsap||Ve(It(e))[0]._gsap},We=function(e,t){var i=e[t];return fe(i)?e[t]():me(i)&&e.getAttribute(t)||i},Je=function(e,t){return(e=e.split(",")).forEach(t)||e},Ze=function(e){return Math.round(1e4*e)/1e4},Ke=function(e,t){for(var i=t.length,n=0;!~e.indexOf(t[n])&&++n<i;);return n<i},$e=function(e,t,i){var n=pe(e[1]),r=(n?2:1)+(t<2?0:1),o=e[r];return n&&(o.duration=e[1]),1===t?(o.runBackwards=1,o.immediateRender=ge(o.immediateRender)):2===t&&(r=e[r-1],o.startAt=r,o.immediateRender=ge(o.immediateRender)),o.parent=i,o},et=function(){var e,t,i=Pe.length,n=Pe.slice(0);for(Ne={},e=Pe.length=0;e<i;e++)(t=n[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},tt=function(e,t,i,n){Pe.length&&et(),e.render(t,i,n),Pe.length&&et()},it=function(e){var t=parseFloat(e);return t||0===t?t:e},nt=function(e){return e},rt=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},ot=function(e,t){for(var i in t)i in e||"duration"===i||"ease"===i||(e[i]=t[i])},st=function(e,t){for(var i in t)e[i]=t[i];return e},at=function e(t,i){for(var n in i)t[n]=ve(i[n])?e(t[n]||(t[n]={}),i[n]):i[n];return t},lt=function(e,t){var i,n={};for(i in e)i in t||(n[i]=e[i]);return n},ht=function(e){var t=e.parent||Me,i=e.keyframes?ot:rt;if(ge(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent;return e},ct=function(e,t){for(var i=e.length,n=i===t.length;n&&i--&&e[i]===t[i];);return i<0},ut=function(e,t,i,n,r){void 0===i&&(i="_first"),void 0===n&&(n="_last");var o,s=e[n];if(r)for(o=t[r];s&&s[r]>o;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[n]=t,t._prev=s,t.parent=e,t},_t=function(e,t,i,n){void 0===i&&(i="_first"),void 0===n&&(n="_last");var r=t._prev,o=t._next;r?r._next=o:e[i]===t&&(e[i]=o),o?o._prev=r:e[n]===t&&(e[n]=r),t._dp=e,t._next=t._prev=t.parent=null},dt=function(e,t){!e.parent||t&&!e.parent.autoRemoveChildren||e.parent.remove(e),e._act=0},ft=function(e){for(var t=e;t;)t._dirty=1,t=t.parent;return e},pt=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},mt=function e(t){return!t||t._ts&&e(t.parent)},vt=function(e){var t;return e._repeat?(t=e.duration()+e._rDelay)*~~(e._tTime/t):0},gt=function(e,t){return 0<t._ts?(e-t._start)*t._ts:(t._dirty?t.totalDuration():t._tDur)+(e-t._start)*t._ts},At=function(e,t,i){var n;if(t.parent&&dt(t),t._start=i+t._delay,t._end=t._start+(t.totalDuration()/t._ts||0),ut(e,t,"_first","_last",e._sort?"_start":0),((e._recent=t)._time||!t._dur&&t._initted)&&(i=(e.rawTime()-t._start)*t._ts,(!t._dur||Tt(0,t.totalDuration(),i)-t._tTime>se)&&t.render(i,!0)),ft(e),e._dp&&e._time>=e._dur&&e._ts&&e._dur<e.duration())for(n=e;n._dp;)n.totalTime(n._tTime,!0),n=n._dp;return e},wt=function(e,t,i,n){return ki(e,t),e._initted?!i&&e._pt&&e.vars.lazy?(Pe.push(e),e._lazy=[t,n],1):void 0:1},yt=function(e,t,i,n){var r,o,s,a=e._zTime<0?0:1,l=t<0?0:1,h=e._rDelay,c=0;if(h&&e._repeat&&((o=~~((c=Tt(0,e._tDur,t))/h))&&o===c/h&&o--,(s=~~(e._tTime/h))&&s===e._tTime/h&&s--,o!==s&&(a=1-l,e.vars.repeatRefresh&&e.invalidate())),(e._initted||!wt(e,t,n,i))&&(l!==a||n)){for(i&&!t||(e._zTime=t),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=c,i||Yt(e,"onStart"),r=e._pt;r;)r.r(l,r.d),r=r._next;!l&&e._startAt&&!e._onUpdate&&e._start&&e._startAt.render(t,!0,n),e._onUpdate&&!i&&Yt(e,"onUpdate"),c&&e._repeat&&!i&&e.parent&&Yt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(e.ratio&&dt(e,1),i||(Yt(e,e.ratio?"onComplete":"onReverseComplete",!0),e._prom&&e.ratio&&e._prom()))}},bt=function(e,t,i){var n;if(t<i)for(n=e._first;n&&n._start<=i;){if(!n._dur&&"isPause"===n.data&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=i;){if(!n._dur&&"isPause"===n.data&&n._start<t)return n;n=n._prev}},Et=function(e){if(e instanceof Ai)return ft(e);var t=e._repeat;return e._tDur=t?t<0?1e20:Ze(e._dur*(t+1)+e._rDelay*t):e._dur,ft(e.parent),e},xt={_start:he=0,endTime:Ue=function(){return 0}},kt=function e(t,i,n){var r,o=t.labels,s=t._recent||xt,a=t.duration()>=oe?s.endTime(!1):t._dur;return de(i)&&(isNaN(i)||i in o)?"<"===(r=i[0])||">"===r?("<"===r?s._start:s.endTime(0<=s._repeat))+(parseFloat(i.substr(1))||0):(r=i.indexOf("="))<0?(i in o||(o[i]=a),o[i]):(o=+(i[0|r-1]+i.substr(r+1)),1<r?e(t,i.substr(0,r-1))+o:a+o):null==i?a:+i},Bt=function(e,t){return e||0===e?t(e):t},Tt=function(e,t,i){return i<e?e:t<i?t:i},Mt=function(e){return(e+"").substr((parseFloat(e)+"").length)},Ot=function(t,i,e){return Bt(e,function(e){return Tt(t,i,e)})},Rt=[].slice,Qt=function(e){return ve(e)&&"length"in e&&e.length-1 in e&&ve(e[0])&&e!==Oe},Ct=function(e,t,i){return void 0===i&&(i=[]),e.forEach(function(e){return de(e)&&!t||Qt(e)?i.push.apply(i,It(e)):i.push(e)})||i},It=function(e,t){return!de(e)||t||!Re&&si()?ye(e)?Ct(e,t):Qt(e)?Rt.call(e,0):e?[e]:[]:Rt.call(Qe.querySelectorAll(e),0)},Dt=function(e){if(fe(e))return e;var d=ve(e)?e:{each:e},f=di(d.ease),p=d.from||0,m=parseFloat(d.base)||0,v={},e=0<p&&p<1,g=isNaN(p)||e,A=d.axis,w=p,y=p;return de(p)?w=y={center:.5,edges:.5,end:1}[p]||0:!e&&g&&(w=p[0],y=p[1]),function(e,t,i){var n,r,o,s,a,l,h,c,u=(i||d).length,_=v[u];if(!_){if(!(c="auto"===d.grid?0:(d.grid||[1,oe])[1])){for(l=-oe;l<(l=i[c++].getBoundingClientRect().left)&&c<u;);c--}for(_=v[u]=[],n=g?Math.min(c,u)*w-.5:p%c,r=g?u*y/c-.5:p/c|0,h=oe,a=l=0;a<u;a++)o=a%c-n,s=r-(a/c|0),_[a]=s=A?Math.abs("y"===A?s:o):ce(o*o+s*s),l<s&&(l=s),s<h&&(h=s);_.max=l-h,_.min=h,_.v=u=(parseFloat(d.amount)||parseFloat(d.each)*(u<c?u-1:A?"y"===A?u/c:c:Math.max(c,u/c))||0)*("edges"===p?-1:1),_.b=u<0?m-u:m,_.u=Mt(d.amount||d.each)||0,f=f&&u<0?_i(f):f}return u=(_[e]-_.min)/_.max||0,Ze(_.b+(f?f(u):u)*_.v)+_.u}},zt=function(t){var i=t<1?Math.pow(10,(t+"").length-2):1;return function(e){return~~(Math.round(parseFloat(e)/t)*t*i)/i+(pe(e)?0:Mt(e))}},fo=function(l,e){var h,c,t=ye(l);return!t&&ve(l)&&(h=t=l.radius||oe,l=It(l.values),(c=!pe(l[0]))&&(h*=h)),Bt(e,t?function(e){for(var t,i,n=parseFloat(c?e.x:e),r=parseFloat(c?e.y:0),o=oe,s=0,a=l.length;a--;)(t=c?(t=l[a].x-n)*t+(i=l[a].y-r)*i:Math.abs(l[a]-n))<o&&(o=t,s=a);return s=!h||o<=h?l[s]:e,c||s===e||pe(e)?s:s+Mt(e)}:zt(l))},St=function(e,t,i,n){return Bt(ye(e)?!t:!n,function(){return ye(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&~~(Math.round((e+Math.random()*(t-e))/i)*i*n)/n})},Ft=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduce(function(e,t){return t(e)},e)}},Ut=function(t,i){return function(e){return t(parseFloat(e))+(i||Mt(e))}},Lt=function(e,t,i){return Gt(e,t,0,1,i)},Pt=function(t,i,e){return Bt(e,function(e){return t[~~i(e)]})},Nt=function e(t,i,n){var r=i-t;return ye(t)?Pt(t,e(0,t.length),i):Bt(n,function(e){return(r+(e-t)%r)%r+t})},jt=function e(t,i,n){var r=i-t,o=2*r;return ye(t)?Pt(t,e(0,t.length-1),i):Bt(n,function(e){return t+(r<(e=(o+(e-t)%o)%o)?o-e:e)})},qt=function(e){for(var t,i,n,r,o=0,s="";~(t=e.indexOf("random(",o));)n=e.indexOf(")",t),r="["==e[0|t+7],i=e.substr(t+7,n-t-7).match(r?Te:be),s+=e.substr(o,t-o)+St(r?i:+i[0],+i[1],+i[2]||1e-5),o=n+1;return s+e.substr(o,e.length-o)},Gt=function(t,e,i,n,r){var o=e-t,s=n-i;return Bt(r,function(e){return i+(e-t)/o*s})},_o=function e(t,i,n,r){var o,s,a,l,h,c,u,_=isNaN(t+i)?0:function(e){return(1-e)*t+e*i};if(!_){if(o=de(t),!(s={})===n&&(r=1)&&(n=null),o)t={p:t},i={p:i};else if(ye(t)&&!ye(i)){for(h=[],c=t.length,u=c-2,l=1;l<c;l++)h.push(e(t[l-1],t[l]));c--,_=function(e){var t=Math.min(u,~~(e*=c));return h[t](e-t)},n=i}else r||(t=st(ye(t)?[]:{},t));if(!h){for(a in i)yi.call(s,t,a,"get",i[a]);_=function(e){return Li(e,s)||(o?t.p:t)}}}return Bt(n,_)},Ht=function(e,t,i){var n,r,o,s=e.labels,a=oe;for(n in s)(r=s[n]-t)<0==!!i&&r&&a>(r=Math.abs(r))&&(o=n,a=r);return o},Yt=function(e,t,i){var n=e.vars,r=n[t];if(r)return t=n[t+"Params"],n=n.callbackScope||e,i&&Pe.length&&et(),t?r.apply(n,t):r.call(n,e)},Vt=function(e){return dt(e),e.progress()<1&&Yt(e,"onInterrupt"),e},Wt=function(e){var t=(e=!e.name&&e.default||e).name,i=fe(e),n=t&&!i&&e.init?function(){this._props=[]}:e,r={init:Ue,render:Li,add:yi,kill:Ni,modifier:Pi,rawVars:0},i={targetTest:0,get:0,getSetter:zi,aliases:{},register:0};if(si(),e!==n){if(je[t])return;rt(n,rt(lt(e,r),i)),st(n.prototype,st(r,lt(e,i))),je[n.prop=t]=n,e.targetTest&&(He.push(n),Le[t]=1),t=("css"===t?"CSS":t[0].toUpperCase()+t.substr(1))+"Plugin"}Fe(t,n),e.register&&e.register(Hi,n,Gi)},Zt={aqua:[0,Jt=255,Jt],lime:[0,Jt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Jt],navy:[0,0,128],white:[Jt,Jt,Jt],olive:[128,128,0],yellow:[Jt,Jt,0],orange:[Jt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Jt,0,0],pink:[Jt,192,203],cyan:[0,Jt,Jt],transparent:[Jt,Jt,Jt,0]},Kt=function(e,t,i){return(6*(e=e<0?e+1:1<e?e-1:e)<1?t+(i-t)*e*6:e<.5?i:3*e<2?t+(i-t)*(2/3-e)*6:t)*Jt+.5|0},$t=function(e,t){var i,n,r,o,s,a,l,h=e?pe(e)?[e>>16,e>>8&Jt,e&Jt]:0:Zt.black;if(!h){if(","==e.substr(-1)&&(e=e.substr(0,e.length-1)),Zt[e])h=Zt[e];else if("#"==e[0])4===e.length&&(e="#"+(i=e[1])+i+(n=e[2])+n+(r=e[3])+r),h=[(e=parseInt(e.substr(1),16))>>16,e>>8&Jt,e&Jt];else if("hsl"==e.substr(0,3))if(h=l=e.match(be),t){if(~e.indexOf("="))return e.match(Ee)}else o=+h[0]%360/360,s=+h[1]/100,i=2*(a=+h[2]/100)-(n=a<=.5?a*(s+1):a+s-a*s),3<h.length&&(h[3]*=1),h[0]=Kt(o+1/3,i,n),h[1]=Kt(o,i,n),h[2]=Kt(o-1/3,i,n);else h=e.match(be)||Zt.transparent;h=h.map(Number)}return t&&!l&&(i=h[0]/Jt,n=h[1]/Jt,r=h[2]/Jt,a=((e=Math.max(i,n,r))+(t=Math.min(i,n,r)))/2,e==t?o=s=0:(l=e-t,s=.5<a?l/(2-e-t):l/(e+t),o=e===i?(n-r)/l+(n<r?6:0):e===n?(r-i)/l+2:(i-n)/l+4,o*=60),h[0]=o+.5|0,h[1]=100*s+.5|0,h[2]=100*a+.5|0),h},ei=function(e,t){var i,n,r,o=(e+"").match(ti),s=0,a="";if(!o)return e;for(i=0;i<o.length;i++)n=o[i],s+=(r=e.substr(s,e.indexOf(n,s)-s)).length+n.length,3===(n=$t(n,t)).length&&n.push(1),a+=r+(t?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return a+e.substr(s)},ti=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(e in Zt)t+="|"+e+"\\b";return RegExp(t+")","gi")}(),ii=/hsl[a]?\(/,ni=function(e){var t=e.join(" ");ti.lastIndex=0,ti.test(t)&&(t=ii.test(t),e[0]=ei(e[0],t),e[1]=ei(e[1],t))},Zr=500,Kr=33,$r=(Jr=Date.now)(),eo=$r,io=to=1/60,lo=function e(t){var i,n,r=Jr()-eo,o=!0===t;Zr<r&&($r+=r-Kr),eo+=r,ao.time=(eo-$r)/1e3,(0<(i=ao.time-io)||o)&&(ao.frame++,io+=i+(to<=i?.004:to-i),n=1),o||(ro=oo(e)),n&&no.forEach(function(e){return e(ao.time,r,ao.frame,t)})},oi=ao={time:0,frame:0,tick:function(){lo(!0)},wake:function(){De&&(!Re&&Ae()&&(Oe=Re=window,Qe=Oe.document||{},Ce.gsap=Hi,(Oe.gsapVersions||(Oe.gsapVersions=[])).push(Hi.version),ze(Ie||Oe.GreenSockGlobals||!Oe.gsap&&Oe||{}),so=Oe.requestAnimationFrame),ro&&ao.sleep(),oo=so||function(e){return setTimeout(e,1e3*(io-ao.time)+1|0)},ri=1,lo(2))},sleep:function(){(so?Oe.cancelAnimationFrame:clearTimeout)(ro),ri=0,oo=Ue},lagSmoothing:function(e,t){Kr=Math.min(t,Zr=e||1/se,0)},fps:function(e){to=1/(e||60),io=ao.time+to},add:function(e){~no.indexOf(e)||no.push(e),si()},remove:function(e){~(e=no.indexOf(e))&&no.splice(e,1)},_listeners:no=[]},si=function(){return!ri&&oi.wake()},ai={},li=/^[\d.\-M][\d.\-,\s]/,hi=/["']/g,ci=function(e){for(var t,i,n,r={},o=e.substr(1,e.length-3).split(":"),s=o[0],a=1,l=o.length;a<l;a++)i=o[a],t=a!==l-1?i.lastIndexOf(","):i.length,n=i.substr(0,t),r[s]=isNaN(n)?n.replace(hi,"").trim():+n,s=i.substr(t+1).trim();return r},ui=function(e){var t=(e+"").split("("),i=ai[t[0]];return i&&1<t.length&&i.config?i.config.apply(null,~e.indexOf("{")?[ci(t[1])]:ke.exec(e)[1].split(",").map(it)):ai._CE&&li.test(e)?ai._CE("",e):i},_i=function(t){return function(e){return 1-t(1-e)}},di=function(e,t){return e&&(fe(e)?e:ai[e]||ui(e))||t},fi=function(e,t,i,n){void 0===i&&(i=function(e){return 1-t(1-e)}),void 0===n&&(n=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var r,o={easeIn:t,easeOut:i,easeInOut:n};return Je(e,function(e){for(var t in ai[e]=Ce[e]=o,ai[r=e.toLowerCase()]=i,o)ai[r+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=ai[e+"."+t]=o[t]}),o},pi=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},mi=function i(n,e,t){function r(e){return 1===e?1:o*Math.pow(2,-10*e)*_e((e-s)*a)+1}var o=1<=e?e:1,s=(a=(t||(n?.3:.45))/(e<1?e:1))/ae*(Math.asin(1/o)||0),e="out"===n?r:"in"===n?function(e){return 1-r(1-e)}:pi(r),a=ae/a;return e.config=function(e,t){return i(n,e,t)},e},po=function t(i,n){void 0===n&&(n=1.70158);function r(e){return--e*e*((n+1)*e+n)+1}var e="out"===i?r:"in"===i?function(e){return 1-r(1-e)}:pi(r);return e.config=function(e){return t(i,e)},e},Je("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var i=t<5?t+1:t;fi(e+",Power"+(i-1),t?function(e){return Math.pow(e,i)}:function(e){return e},function(e){return 1-Math.pow(1-e,i)},function(e){return e<.5?Math.pow(2*e,i)/2:1-Math.pow(2*(1-e),i)/2})}),ai.Linear.easeNone=ai.none=ai.Linear.easeIn,fi("Elastic",mi("in"),mi("out"),mi()),ho=7.5625,fi("Bounce",function(e){return 1-co(1-e)},co=function(e){return e<1/2.75?ho*e*e:e<.7272727272727273?ho*Math.pow(e-1.5/2.75,2)+.75:e<1/2.75*2.5?ho*(e-=2.25/2.75)*e+.9375:ho*Math.pow(e-2.625/2.75,2)+.984375}),fi("Expo",function(e){return e?Math.pow(2,10*(e-1)):0}),fi("Circ",function(e){return-(ce(1-e*e)-1)}),fi("Sine",function(e){return 1-ue(e*le)}),fi("Back",po("in"),po("out"),po()),ai.SteppedEase=ai.steps=Ce.SteppedEase={config:function(e,t){void 0===e&&(e=1);var i=1/e,n=e+(t?0:1),r=t?1:0;return function(e){return((n*Tt(0,.99999999,e)|0)+r)*i}}},re.ease=ai["quad.out"],vi=function(e,t){this.id=he++,(e._gsap=this).target=e,this.harness=t,this.get=t?t.get:We,this.set=t?t.getSetter:zi},rt(((po=Go.prototype).delay=function(e){return e||0===e?(this._delay=e,this):this._delay},po.duration=function(e){var t=arguments.length,i=this._repeat,n=0<i?i*((t?e:this._dur)+this._rDelay):0;return t?this.totalDuration(i<0?e:e+n):this.totalDuration()&&this._dur},po.totalDuration=function(e){if(!arguments.length)return this._tDur;var t=this._repeat,i=(e||this._rDelay)&&t<0;return this._tDur=i?1e20:e,this._dur=i?e:(e-t*this._rDelay)/(t+1),this._dirty=0,ft(this.parent),this},po.totalTime=function(e,t){if(si(),!arguments.length)return this._tTime;var i,n=this.parent||this._dp;if(n&&n.smoothChildTiming&&this._ts){for(i=this._start,this._start=n._time-(0<this._ts?e/this._ts:((this._dirty?this.totalDuration():this._tDur)-e)/-this._ts),this._end+=this._start-i,n._dirty||ft(n);n.parent;)n.parent._time!==n._start+(0<n._ts?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;this.parent||At(this._dp,this,this._start-this._delay)}return this._tTime===e&&this._dur||tt(this,e,t),this},po.time=function(e,t){return arguments.length?this.totalTime(e+vt(this),t):this._time},po.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._tTime/this.totalDuration()},po.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*e+vt(this),t):this.duration()?this._time/this._dur:this.ratio},po.iteration=function(e,t){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*i,t):this._repeat?1+~~(this._tTime/i):1},po.timeScale=function(e){var t=this._ts;return arguments.length?t?(this._end=this._start+this._tDur/(this._ts=e||se),pt(this).totalTime(this._tTime,!0)):(this._pauseTS=e,this):t||this._pauseTS},po.paused=function(e){var t=!this._ts;return arguments.length?(t!==e&&(e?(this._pauseTS=this._ts,this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(this._ts=this._pauseTS,e=this._tTime||this._pTime,1===this.progress()&&(this._tTime-=se),this.totalTime(e,!0))),this):t},po.startTime=function(e){return arguments.length?(this.parent&&this.parent._sort&&At(this.parent,this,e-this._delay),this):this._start},po.endTime=function(e){return this._start+(ge(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},po.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?gt(t.rawTime(e),this):this._tTime:this._tTime},po.repeat=function(e){return arguments.length?(this._repeat=e,Et(this)):this._repeat},po.repeatDelay=function(e){return arguments.length?(this._rDelay=e,Et(this)):this._rDelay},po.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},po.seek=function(e,t){return this.totalTime(kt(this,e),ge(t))},po.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,ge(t))},po.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},po.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},po.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},po.resume=function(){return this.paused(!1)},po.reversed=function(e){var t=this._ts||this._pauseTS;return arguments.length?(e!==this.reversed()&&(this[this._ts?"_ts":"_pauseTS"]=Math.abs(t)*(e?-1:1),this.totalTime(this._tTime,!0)),this):t<0},po.invalidate=function(){return this._initted=0,this},po.isActive=function(){var e,t=this.parent||this._dp,i=this._start;return!t||this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=i&&e<this.endTime(!0)-se},po.eventCallback=function(e,t,i){var n=this.vars;return 1<arguments.length?(t?(n[e]=t,i&&(n[e+"Params"]=i),"onUpdate"===e&&(this._onUpdate=t)):delete n[e],this):n[e]},po.then=function(t){var i=this;return void 0===t&&(t=Ue),new Promise(function(e){i._prom=function(){t(i),e()}})},po.kill=function(){Vt(this)},gi=Go).prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:0,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-se,_prom:0}),rt((Ai=function(i){function e(e,t){return void 0===e&&(e={}),(t=i.call(this,e,t)||this).labels={},t.smoothChildTiming=ge(e.smoothChildTiming),t.autoRemoveChildren=!!e.autoRemoveChildren,t._sort=ge(e.sortChildren),t}n(e,i);var t=e.prototype;return t.to=function(e,t,i,n){return new Ri(e,$e(arguments,0,this),kt(this,pe(t)?n:i)),this},t.from=function(e,t,i,n){return new Ri(e,$e(arguments,1,this),kt(this,pe(t)?n:i)),this},t.fromTo=function(e,t,i,n,r){return new Ri(e,$e(arguments,2,this),kt(this,pe(t)?r:n)),this},t.set=function(e,t,i){return t.duration=0,t.parent=this,t.repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Ri(e,t,kt(this,i)),this},t.call=function(e,t,i){return At(this,Ri.delayedCall(0,e,t),kt(this,i))},t.staggerTo=function(e,t,i,n,r,o,s){return i.duration=t,i.stagger=i.stagger||n,i.onComplete=o,i.onCompleteParams=s,i.parent=this,new Ri(e,i,kt(this,r)),this},t.staggerFrom=function(e,t,i,n,r,o,s){return i.runBackwards=1,i.immediateRender=ge(i.immediateRender),this.staggerTo(e,t,i,n,r,o,s)},t.staggerFromTo=function(e,t,i,n,r,o,s,a){return n.startAt=i,n.immediateRender=ge(n.immediateRender),this.staggerTo(e,t,n,r,o,s,a)},t.render=function(e,t,i){var n,r,o,s,a,l,h,c,u,_,d,f=this._time,p=this._dirty?this.totalDuration():this._tDur,m=this._dur,v=p-se<e&&0<=e&&this!==Me?p:e<se?0:e,g=this._zTime<0!=e<0&&this._initted;if(v!==this._tTime||i||g){if(g&&(m||(f=this._zTime),!e&&t||(this._zTime=e)),n=v,h=this._start,a=0===(g=this._ts),f!==this._time&&m&&(n+=this._time-f),this._repeat&&(_=this._yoyo,u=m+this._rDelay,(m<(n=Ze(v%u))||p===v)&&(n=m),(s=~~(v/u))&&s===v/u&&(n=m,s--),(c=~~(this._tTime/u))&&c===this._tTime/u&&c--,_&&1&s&&(n=m-n),s!==c&&!this._lock)){if(_=(u=_&&1&c)===(_&&1&s),s<c&&(u=!u),f=u?0:m,this._lock=1,this.render(f,t,!m)._lock=0,!t&&this.parent&&Yt(this,"onRepeat"),f!==this._time||a!=!this._ts)return this;if(_&&(this._lock=2,f=u?m+1e-4:-1e-4,this.render(f,!0)),this._lock=0,!this._ts&&!a)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=bt(this,Ze(f),Ze(n)))&&(v-=n-(n=l._start)),this._tTime=v,this._time=n,this._act=!g,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1),f||!n||t||Yt(this,"onStart"),f<=n&&0<=e)for(r=this._first;r;){if(o=r._next,(r._act||n>=r._start)&&r._ts&&l!==r){if(r.parent!==this)return this.render(e,t,i);if(r.render(0<r._ts?(n-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(n-r._start)*r._ts,t,i),n!==this._time||!this._ts&&!a){l=0;break}}r=o}else for(r=this._last,d=e<0?e:n;r;){if(o=r._prev,(r._act||d<=r._end)&&r._ts&&l!==r){if(r.parent!==this)return this.render(e,t,i);if(r.render(0<r._ts?(d-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(d-r._start)*r._ts,t,i),n!==this._time||!this._ts&&!a){l=0;break}}r=o}if(l&&!t&&(this.pause(),l.render(f<=n?0:-se)._zTime=f<=n?1:-1,this._ts))return this._start=h,this.render(e,t,i);this._onUpdate&&!t&&Yt(this,"onUpdate",!0),(v===p||!v&&this._ts<0)&&(h!==this._start&&Math.abs(g)==Math.abs(this._ts)||(!n||p>=this.totalDuration())&&(!e&&m||dt(this,1),t||e<0&&!f||(Yt(this,v===p?"onComplete":"onReverseComplete",!0),this._prom&&v===p&&this._prom())))}return this},t.add=function(e,t){var i=this;if(pe(t)||(t=kt(this,t)),!(e instanceof gi)){if(ye(e))return e.forEach(function(e){return i.add(e,t)}),ft(this);if(de(e))return this.addLabel(e,t);if(!fe(e))return this;e=Ri.delayedCall(0,e)}return this!==e?At(this,e,t):this},t.getChildren=function(e,t,i,n){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===n&&(n=-oe);for(var r=[],o=this._first;o;)o._start>=n&&(o instanceof Ri?t&&r.push(o):(i&&r.push(o),e&&r.push.apply(r,o.getChildren(!0,t,i)))),o=o._next;return r},t.getById=function(e){for(var t=this.getChildren(1,1,1),i=t.length;i--;)if(t[i].vars.id===e)return t[i]},t.remove=function(e){return de(e)?this.removeLabel(e):fe(e)?this.killTweensOf(e):(_t(this,e),e===this._recent&&(this._recent=this._last),ft(this))},t.totalTime=function(e,t){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=oi.time-(0<this._ts?e/this._ts:(this.totalDuration()-e)/-this._ts)),i.prototype.totalTime.call(this,e,t),this._forcing=0,this):this._tTime},t.addLabel=function(e,t){return this.labels[e]=kt(this,t),this},t.removeLabel=function(e){return delete this.labels[e],this},t.addPause=function(e,t,i){i=Ri.delayedCall(0,t||Ue,i);return i.data="isPause",this._hasPause=1,At(this,i,kt(this,e))},t.removePause=function(e){var t=this._first;for(e=kt(this,e);t;)t._start===e&&"isPause"===t.data&&dt(t),t=t._next},t.killTweensOf=function(e,t,i){for(var n=this.getTweensOf(e,i),r=n.length;r--;)n[r].kill(e,t);return this},t.getTweensOf=function(e,t){for(var i,n=[],r=It(e),o=this._first;o;)o instanceof Ri?!Ke(o._targets,r)||t&&!o.isActive()||n.push(o):(i=o.getTweensOf(r,t)).length&&n.push.apply(n,i),o=o._next;return n},t.tweenTo=function(e,t){var i=this,n=kt(i,e),e=t&&t.startAt,r=Ri.to(i,rt({ease:"none",lazy:!1,time:n,duration:Math.abs(n-(e&&"time"in e?e.time:i._time))/i.timeScale()||se,onStart:function(){i.pause();var e=Math.abs(n-i._time)/i.timeScale();r._dur!==e&&(r._dur=e,r.render(r._time,!0,!0)),t&&t.onStart&&t.onStart.apply(r,t.onStartParams||[])}},t));return r},t.tweenFromTo=function(e,t,i){return this.tweenTo(t,rt({startAt:{time:kt(this,e)}},i))},t.recent=function(){return this._recent},t.nextLabel=function(e){return void 0===e&&(e=this._time),Ht(this,kt(this,e))},t.previousLabel=function(e){return void 0===e&&(e=this._time),Ht(this,kt(this,e),1)},t.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+se)},t.shiftChildren=function(e,t,i){void 0===i&&(i=0);for(var n,r=this._first,o=this.labels;r;)r._start>=i&&(r._start+=e),r=r._next;if(t)for(n in o)o[n]>=i&&(o[n]+=e);return ft(this)},t.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return i.prototype.invalidate.call(this)},t.clear=function(e){void 0===e&&(e=!0);for(var t,i=this._first;i;)t=i._next,this.remove(i),i=t;return this._time=this._tTime=0,e&&(this.labels={}),ft(this)},t.totalDuration=function(e){var t,i,n=0,r=this,o=r._last,s=oe,a=r._repeat,l=a*r._rDelay||0,h=a<0;if(arguments.length)return h?r:r.timeScale(r.totalDuration()/e);if(r._dirty){for(;o;)t=o._prev,o._dirty&&o.totalDuration(),o._start>s&&r._sort&&o._ts&&!r._lock?(r._lock=1,At(r,o,o._start-o._delay),r._lock=0):s=o._start,o._start<0&&o._ts&&(n-=o._start,(!r.parent&&!r._dp||r.parent&&r.parent.smoothChildTiming)&&(r._start+=o._start/r._ts,r._time-=o._start,r._tTime-=o._start),r.shiftChildren(-o._start,!1,-oe),s=0),n<(i=o._end=o._start+o._tDur/Math.abs(o._ts||o._pauseTS))&&o._ts&&(n=Ze(i)),o=t;r._dur=r===Me&&r._time>n?r._time:Math.min(oe,n),r._tDur=h&&(r._dur||l)?1e20:Math.min(oe,n*(a+1)+l),r._end=r._start+(r._tDur/Math.abs(r._ts||r._pauseTS)||0),r._dirty=0}return r._tDur},e.updateRoot=function(e){if(Me._ts&&tt(Me,gt(e,Me)),oi.frame>=Ge){Ge+=ne.autoSleep||120;var t=Me._first;if((!t||!t._ts)&&ne.autoSleep&&oi._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||oi.sleep()}}},e}(gi)).prototype,{_lock:0,_hasPause:0,_forcing:0}),wi=function(e,t,i,n,r,o,s){var a,l,h,c,u,_=new Gi(this._pt,e,t,0,1,Ui,null,r),d=0,f=0;for(_.b=i,_.e=n,i+="",(r=~(n+="").indexOf("random("))&&(n=qt(n)),o&&(o(o=[i,n],e,t),i=o[0],n=o[1]),a=i.match(xe)||[];u=xe.exec(n);)h=u[0],c=n.substring(d,u.index),l?l=(l+1)%5:"rgba("==c.substr(-5)&&(l=1),h!==a[f++]&&(u=parseFloat(a[f-1]),_._pt={_next:_._pt,p:c||1===f?c:",",s:u,c:"="==h[1]?parseFloat(h.substr(2))*("-"==h[0]?-1:1):parseFloat(h)-u,m:l&&l<4?Math.round:0},d=xe.lastIndex);return _.c=d<n.length?n.substring(d,n.length):"",_.fp=s,(Be.test(n)||r)&&(_.e=0),this._pt=_},yi=function(e,t,i,n,r,o,s,a,l){fe(n)&&(n=n(r||0,e,o));var r=e[t],o="get"!==i?i:fe(r)?l?e[t.indexOf("set")||!fe(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():r,i=fe(r)?l?Ii:Ci:Qi;if(de(n)&&(~n.indexOf("random(")&&(n=qt(n)),"="==n[1]&&(n=parseFloat(o)+parseFloat(n.substr(2))*("-"==n[0]?-1:1)+Mt(o))),o!==n)return isNaN(o+n)?wi.call(this,e,t,o,n,i,a||ne.stringFilter,l):(i=new Gi(this._pt,e,t,+o||0,n-(o||0),"boolean"==typeof r?Fi:Si,0,i),l&&(i.fp=l),s&&i.modifier(s,this,e),this._pt=i)},bi=function(e,t,i,n,r){if(fe(e)&&(e=Ti(e,r,t,i,n)),!ve(e)||e.style&&e.nodeType||ye(e))return de(e)?Ti(e,r,t,i,n):e;var o,s={};for(o in e)s[o]=Ti(e[o],r,t,i,n);return s},Ei=function(e,t,i,n,r,o){var s,a,l,h;if(je[e]&&!1!==(s=new je[e]).init(r,s.rawVars?t[e]:bi(t[e],n,r,o,i),i,n,o)&&(i._pt=a=new Gi(i._pt,r,e,0,1,s.render,s,0,s.priority),i!==Xt))for(l=i._ptLookup[i._targets.indexOf(r)],h=s._props.length;h--;)l[s._props[h]]=a;return s},ki=function e(t,i){var n,r,o,s,a,l,h,c,u,_,d,f,p=t.vars,m=p.ease,v=p.startAt,g=p.immediateRender,A=p.lazy,w=p.onUpdate,y=p.onUpdateParams,b=p.callbackScope,E=p.runBackwards,x=p.yoyoEase,k=p.keyframes,B=p.autoRevert,T=t._dur,M=t._startAt,O=t._targets,R=t.parent,Q=R&&"nested"===R.data?R.parent._targets:O,C="auto"===t._overwrite,I=t.timeline;if(!I||k&&m||(m="none"),t._ease=di(m,re.ease),t._yEase=x?_i(di(!0===x?m:x,re.ease)):0,x&&t._yoyo&&!t._repeat&&(x=t._yEase,t._yEase=t._ease,t._ease=x),!I){if(M&&M.render(-1,!0).kill(),v){if(dt(t._startAt=Ri.set(O,rt({data:"isStart",overwrite:!1,parent:R,immediateRender:!0,lazy:ge(A),startAt:null,delay:0,onUpdate:w,onUpdateParams:y,callbackScope:b,stagger:0},v))),g)if(0<i)B||(t._startAt=0);else if(T)return}else if(E&&T)if(M)B||(t._startAt=0);else if(i&&(g=!1),dt(t._startAt=Ri.set(O,st(lt(p,Le),{overwrite:!1,data:"isFromStart",lazy:g&&ge(A),immediateRender:g,stagger:0,parent:R}))),g){if(!i)return}else e(t._startAt,i),g&&!B&&(t._startAt=0);for(n=lt(p,Le),f=(c=O[t._pt=0]?Xe(O[0]).harness:0)&&p[c.prop],r=0;r<O.length;r++){if(h=(a=O[r])._gsap||Ve(O)[r]._gsap,t._ptLookup[r]=_={},Ne[h.id]&&et(),d=Q===O?r:Q.indexOf(a),c&&!1!==(u=new c).init(a,f||n,t,d,Q)&&(t._pt=s=new Gi(t._pt,a,u.name,0,1,u.render,u,0,u.priority),u._props.forEach(function(e){_[e]=s}),u.priority&&(l=1)),!c||f)for(o in n)je[o]&&(u=Ei(o,n,t,d,a,Q))?u.priority&&(l=1):_[o]=s=yi.call(t,a,o,"get",n[o],d,Q,0,p.stringFilter);t._op&&t._op[r]&&t.kill(a,t._op[r]),C&&(xi=t,Me.killTweensOf(a,_,!0),xi=0),t._pt&&(ge(A)&&T||A&&!T)&&(Ne[h.id]=1)}l&&qi(t),t._onInit&&t._onInit(t)}t._from=!I&&!!p.runBackwards,t._onUpdate=w,t._initted=1},Bi=function(e,t){var i,n,r,o,e=e[0]?Xe(e[0]).harness:0,s=e&&e.aliases;if(!s)return t;for(n in i=st({},t),s)if(n in i)for(r=(o=s[n].split(",")).length;r--;)i[o[r]]=i[n];return i},Ti=function(e,t,i,n,r){return fe(e)?e.call(t,i,n,r):de(e)&&~e.indexOf("random(")?qt(e):e},Oi=((Mi=Ye+",repeat,repeatDelay,yoyo,yoyoEase")+",id,stagger,delay,duration").split(","),rt((Ri=function(A){function r(e,t,i){var n,r,o,s,a,l,h,c,u,_,d,f,p,m,v,g;if("number"==typeof t&&(i.duration=t,t=i,i=null),r=(h=(n=A.call(this,ht(t),i)||this).vars).duration,o=h.delay,s=h.immediateRender,a=h.stagger,l=h.overwrite,i=h.keyframes,h=h.defaults,c=It(e),n._targets=c.length?Ve(c):Se(0,!ne.nullTargetWarn)||[{}],n._ptLookup=[],n._overwrite=l,i||a||we(r)||we(o)){if(t=n.vars,(u=n.timeline=new Ai({data:"nested",defaults:h||{}})).kill(),u.parent=w(n),i)rt(u.vars.defaults,{ease:"none"}),i.forEach(function(e){return u.to(c,e,">")});else{if(f=c.length,v=a?Dt(a):Ue,ve(a))for(p in a)~Mi.indexOf(p)&&((g=g||{})[p]=a[p]);for(_=0;_<f;_++){for(p in d={},t)~Oi.indexOf(p)||(d[p]=t[p]);d.stagger=0,g&&st(d,g),t.yoyoEase&&!t.repeat&&(d.yoyoEase=t.yoyoEase),m=c[_],d.duration=+Ti(r,w(n),_,m,c),d.delay=(+Ti(o,w(n),_,m,c)||0)-n._delay,!a&&1===f&&d.delay&&(n._delay=o=d.delay,n._start+=o,d.delay=0),u.to(m,d,v(_,m,c))}r=o=0}r||n.duration(r=u.duration())}else n.timeline=0;return!0===l&&(xi=w(n),Me.killTweensOf(c),xi=0),(s||!r&&!i&&n._start===n.parent._time&&ge(s)&&mt(w(n))&&"nested"!==n.parent.data)&&(n._tTime=-se,n.render(Math.max(0,-o))),n}n(r,A);var e=r.prototype;return e.render=function(e,t,i){var n,r,o,s,a,l,h,c,u,_=this._time,d=this._tDur,f=this._dur,p=d-se<e&&0<=e?d:e<se?0:e;if(f){if(p!==this._tTime||i||this._startAt&&this._zTime<0!=e<0){if(n=p,c=this.timeline,this._repeat){if(s=f+this._rDelay,f<(n=Ze(p%s))&&(n=f),(o=~~(p/s))&&o===p/s&&(n=f,o--),(l=this._yoyo&&1&o)&&(u=this._yEase,n=f-n),(a=~~(this._tTime/s))&&a===this._tTime/s&&a--,n===_&&!i)return this;o!==a&&this.vars.repeatRefresh&&!this._lock&&(this._lock=1,this.render(s*o,!0).invalidate()._lock=0)}if(!this._initted&&wt(this,n,i,t))return this;for(this._tTime=p,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=h=(u||this._ease)(n/f),this._from&&(this.ratio=h=1-h),_||!n||t||Yt(this,"onStart"),r=this._pt;r;)r.r(h,r.d),r=r._next;c&&c.render(e<0?e:!n&&l?-se:c._dur*h,t,i)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,i),Yt(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!t&&this.parent&&Yt(this,"onRepeat"),p!==d&&p||this._tTime!==p||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,i),!e&&f||!(p||this._ts<0)||dt(this,1),t||e<0&&!_||(Yt(this,p===d?"onComplete":"onReverseComplete",!0),this._prom&&p===d&&this._prom()))}}else yt(this,e,t,i);return this},e.targets=function(){return this._targets},e.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),A.prototype.invalidate.call(this)},e.kill=function(e,t){if(void 0===t&&(t="all"),xi===this)return xi;if(!(e||t&&"all"!==t)&&this.parent)return this._lazy=0,Vt(this);if(this.timeline)return this.timeline.killTweensOf(e,t),this;var i,n,r,o,s,a,l,h=this._targets,c=e?It(e):h,u=this._ptLookup,e=this._pt;if((!t||"all"===t)&&ct(h,c))return Vt(this);for(i=this._op=this._op||[],"all"!==t&&(de(t)&&(s={},Je(t,function(e){return s[e]=1}),t=s),t=Bi(h,t)),l=h.length;l--;)if(~c.indexOf(h[l]))for(s in n=u[l],"all"===t?(i[l]=t,o=n,r={}):(r=i[l]=i[l]||{},o=t),o)(a=n&&n[s])&&("kill"in a.d&&!0!==a.d.kill(s)||(_t(this,a,"_pt"),delete n[s])),"all"!==r&&(r[s]=1);return this._initted&&!this._pt&&e&&Vt(this),this},r.to=function(e,t,i){return new r(e,t,i)},r.from=function(e,t){return new r(e,$e(arguments,1))},r.delayedCall=function(e,t,i,n){return new r(t,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:t,onReverseComplete:t,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:n})},r.fromTo=function(e,t,i){return new r(e,$e(arguments,2))},r.set=function(e,t){return t.duration=0,t.repeatDelay||(t.repeat=0),new r(e,t)},r.killTweensOf=function(e,t,i){return Me.killTweensOf(e,t,i)},r}(gi)).prototype,{_targets:[],_initted:0,_lazy:0,_startAt:0,_op:0,_onInit:0}),Je("staggerTo,staggerFrom,staggerFromTo",function(i){Ri[i]=function(){var e=new Ai,t=It(arguments);return t.splice("staggerFromTo"===i?5:4,0,0),e[i].apply(e,t)}}),Qi=function(e,t,i){return e[t]=i},Ci=function(e,t,i){return e[t](i)},Ii=function(e,t,i,n){return e[t](n.fp,i)},Di=function(e,t,i){return e.setAttribute(t,i)},zi=function(e,t){return fe(e[t])?Ci:me(e[t])&&e.setAttribute?Di:Qi},Si=function(e,t){return t.set(t.t,t.p,~~(1e4*(t.s+t.c*e))/1e4,t)},Fi=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Ui=function(e,t){var i=t._pt,n="";if(!e&&t.b)n=t.b;else if(1===e&&t.e)n=t.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*e):~~(1e4*(i.s+i.c*e))/1e4)+n,i=i._next;n+=t.c}t.set(t.t,t.p,n,t)},Li=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},Pi=function(e,t,i,n){for(var r,o=this._pt;o;)r=o._next,o.p===n&&o.modifier(e,t,i),o=r},Ni=function(e){for(var t,i,n=this._pt;n;)i=n._next,n.p===e&&!n.op||n.op===e?_t(this,n,"_pt"):n.dep||(t=1),n=i;return!t},ji=function(e,t,i,n){n.mSet(e,t,n.m.call(n.tween,i,n.mt),n)},qi=function(e){for(var t,i,n,r,o=e._pt;o;){for(t=o._next,i=n;i&&i.pr>o.pr;)i=i._next;(o._prev=i?i._prev:r)?o._prev._next=o:n=o,(o._next=i)?i._prev=o:r=o,o=t}e._pt=n},qo.prototype.modifier=function(e,t,i){this.mSet=this.mSet||this.set,this.set=ji,this.m=e,this.mt=i,this.tween=t},Gi=qo,Je(Ye+",parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",function(e){Le[e]=1,"on"==e.substr(0,2)&&(Le[e+"Params"]=1)}),Ce.TweenMax=Ce.TweenLite=Ri,Ce.TimelineLite=Ce.TimelineMax=Ai,Me=new Ai({sortChildren:!1,defaults:re,autoRemoveChildren:!0,id:"root"}),ne.stringFilter=ni,Hi={registerPlugin:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(Wt)},timeline:function(e){return new Ai(e)},getTweensOf:function(e,t){return Me.getTweensOf(e,t)},getProperty:function(n,e,t,i){de(n)&&(n=It(n)[0]);var r=Xe(n||{}).get,o=t?nt:it;return"native"===t&&(t=""),n&&(e?o((je[e]&&je[e].get||r)(n,e,t,i)):function(e,t,i){return o((je[e]&&je[e].get||r)(n,e,t,i))})},quickSetter:function(i,t,n){var r,o,s,a,l;return 1<(i=It(i)).length?(r=i.map(function(e){return Hi.quickSetter(e,t,n)}),o=r.length,function(e){for(var t=o;t--;)r[t](e)}):(i=i[0]||{},s=je[t],a=Xe(i),l=s?function(e){var t=new s;Xt._pt=0,t.init(i,n?e+n:e,Xt,0,[i]),t.render(1,t),Xt._pt&&Li(1,Xt)}:a.set(i,t),s?l:function(e){return l(i,t,n?e+n:e,a,1)})},isTweening:function(e){return 0<Me.getTweensOf(e,!0).length},defaults:function(e){return e&&e.ease&&(e.ease=di(e.ease,re.ease)),at(re,e||{})},config:function(e){return at(ne,e||{})},registerEffect:function(e){var n=e.name,i=e.effect,t=e.plugins,r=e.defaults,e=e.extendTimeline;(t||"").split(",").forEach(function(e){return e&&!je[e]&&!Ce[e]&&Se()}),qe[n]=function(e,t){return i(It(e),rt(t||{},r))},e&&(Ai.prototype[n]=function(e,t,i){return this.add(qe[n](e,ve(t)?t:(i=t)&&{}),i)})},registerEase:function(e,t){ai[e]=di(t)},parseEase:function(e,t){return arguments.length?di(e,t):ai},getById:function(e){return Me.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var i,n,r=new Ai(e);for(r.smoothChildTiming=ge(e.smoothChildTiming),Me.remove(r),r._dp=0,r._time=r._tTime=Me._time,i=Me._first;i;)n=i._next,!t&&!i._dur&&i instanceof Ri&&i.vars.onComplete===i._targets[0]||At(r,i,i._start-i._delay),i=n;return At(Me,r,0),r},utils:{wrap:Nt,wrapYoyo:jt,distribute:Dt,random:St,snap:fo,normalize:Lt,getUnit:Mt,clamp:Ot,splitColor:$t,toArray:It,mapRange:Gt,pipe:Ft,unitize:Ut,interpolate:_o},install:ze,effects:qe,ticker:oi,updateRoot:Ai.updateRoot,plugins:je,globalTimeline:Me,core:{PropTween:Gi,globals:Fe,Tween:Ri,Timeline:Ai,Animation:gi,getCache:Xe}},Je("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Hi[e]=Ri[e]}),oi.add(Ai.updateRoot),Xt=Hi.to({},{duration:0}),Yi=function(e,t){var i,n,r,o=e._targets;for(i in t)for(n=o.length;n--;)(r=e._ptLookup[n][i])&&r.d.modifier&&r.d.modifier(t[i],e,o[n],i)},_o=function(e,r){return{name:e,rawVars:1,init:function(e,n,t){t._onInit=function(e){var t,i;if(de(n)&&(t={},Je(n,function(e){return t[e]=1}),n=t),r){for(i in t={},n)t[i]=r(n[i]);n=t}Yi(e,n)}}}},Hi.registerPlugin({name:"attr",init:function(e,t,i,n,r){for(var o in t)this.add(e,"setAttribute",(e.getAttribute(o)||0)+"",t[o],n,r,0,0,o),this._props.push(o)}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i],t[i])}},_o("roundProps",zt),_o("modifiers"),_o("snap",fo)),Ri.version=Ai.version=Hi.version="3.0.1",De=1,Ae()&&si(),ai.Power0,ai.Power1,ai.Power2,ai.Power3,ai.Power4,ai.Linear,ai.Quad,ai.Cubic,ai.Quart,ai.Quint,ai.Strong,ai.Elastic,ai.Back,ai.SteppedEase,ai.Bounce,ai.Sine,ai.Expo,ai.Circ,en=function(){return"undefined"!=typeof window},tn={},nn=180/Math.PI,rn=Math.PI/180,on=Math.atan2,sn=/([A-Z])/g,an=/[-+=\.]*\d+[\.e-]*\d*[a-z%]*/g,ln=/(?:left|right|width|margin|padding|x)/i,hn=/[\s,\(]\S/,un=function(e,t){return t.set(t.t,t.p,~~(1e4*(t.s+t.c*e))/1e4+t.u,t)},_n=function(e,t){return t.set(t.t,t.p,1===e?t.e:~~(1e4*(t.s+t.c*e))/1e4+t.u,t)},dn=function(e,t){return t.set(t.t,t.p,e?~~(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},fn=function(e,t){e=t.s+t.c*e;t.set(t.t,t.p,~~(e+(e<0?-.5:.5))+t.u,t)},pn=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},mn=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},vn=function(e,t,i){return e.style[t]=i},gn=function(e,t,i){return e.style.setProperty(t,i)},An=function(e,t,i){return e._gsap[t]=i},wn=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},yn=function(e,t,i,n,r){e=e._gsap;e.scaleX=e.scaleY=i,e.renderTransform(r,e)},bn=function(e,t,i,n,r){e=e._gsap;e[t]=i,e.renderTransform(r,e)},xn=(En="transform")+"Origin",Bn=function(e,t){t=Xi.createElementNS?Xi.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Xi.createElement(e);return t.style?t:Xi.createElement(e)},Tn=function(e,t){e=getComputedStyle(e);return e[t]||e.getPropertyValue(t.replace(sn,"-$1").toLowerCase())||e.getPropertyValue(t)},Mn=function(e,t){var i=(t||Zi).style,n=5,r="O,Moz,ms,Ms,Webkit".split(",");if(e in i)return e;for(e=e[0].toUpperCase()+e.substr(1);n--&&!(r[n]+e in i););return n<0?null:(3===n?"ms":0<=n?r[n]:"")+e},Rn=function e(t){var i,n=Bn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(Wi.appendChild(n),n.appendChild(this),this.style.display="block",t)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(e){}else this._gsapBBox&&(i=this._gsapBBox());return o?r.insertBefore(this,o):r.appendChild(this),Wi.removeChild(n),this.style.cssText=s,i},Qn=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},Cn=function(t){var i;try{i=t.getBBox()}catch(e){i=Rn.call(t,!0)}return!i||i.width||i.x||i.y?i:{x:+Qn(t,["x","cx","x1"]),y:+Qn(t,["y","cy","y1"]),width:0,height:0}},In=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Cn(e))},Dn=function(e,t){t&&(e=e.style,t in tn&&(t=En),e.removeProperty?("ms"!=t.substr(0,2)&&"webkit"!=t.substr(0,6)||(t="-"+t),e.removeProperty(t.replace(sn,"-$1").toLowerCase())):e.removeAttribute(t))},zn=function(e,t,i,n,r,o){o=new Gi(e._pt,t,i,0,1,o?mn:pn);return(e._pt=o).b=n,o.e=r,e._props.push(i),o},Sn={deg:1,rad:1,turn:1},Fn=function(e,t,i,n){var r,o=parseFloat(i),s=(i+"").substr((o+"").length)||"px",a=Zi.style,l=ln.test(t),h="svg"==e.tagName.toLowerCase(),c=(h?"client":"offset")+(l?"Width":"Height"),u="px"===n;return n===s||Sn[n]||Sn[s]?o:(i=e.getCTM&&In(e),"%"===n&&tn[t]?Ze(o/(i?e.getBBox()[l?"width":"height"]:e[c])*100):(a[l?"width":"height"]=100+(u?s:n),h="em"===n&&e.appendChild&&!h?e:e.parentNode,i&&(h=(e.ownerSVGElement||{}).parentNode),h&&h!==Xi&&h.appendChild||(h=Xi.body),(e=h._gsap)&&"%"===n&&e.width&&l&&e.time===oi.time?r=e.width*o/100:(h.appendChild(Zi),r=Zi[c],h.removeChild(Zi),l&&"%"===n&&((e=Xe(h)).time=oi.time,e.width=r/o*100)),Ze(u?r*o/100:100/r*o)))},Un=function(e,t,i,n){var r;return Ji||On(),t in cn&&~(t=cn[t]).indexOf(",")&&(t=t.split(",")[0]),tn[t]?(r=Jn(e,n),r="transformOrigin"!==t?r[t]:Zn(Tn(e,xn))+r.zOrigin+"px"):(r=e.style[t])&&"auto"!==r&&!n||(r=Tn(e,t)||We(e,t)),i?Fn(e,t,r,i)+i:r},Ln=function(e,t,i,n){var r,o,s,a,l,h,c,u,_,d,f=new Gi(this._pt,e.style,t,0,1,Ui),p=0,m=0;if(f.b=i,f.e=n,i+="","auto"==(n+="")&&(e.style[t]=n,n=Tn(e,t)||n,e.style[t]=i),ni(r=[i,n]),n=r[1],o=(i=r[0]).match(an)||[],(n.match(an)||[]).length){for(;h=an.exec(n);)u=h[0],c=n.substring(p,h.index),a?a=(a+1)%5:"rgba("==c.substr(-5)&&(a=1),u!==(l=o[m++]||"")&&(s=parseFloat(l)||0,_=l.substr((s+"").length),(d="="==u[1]?+(u[0]+"1"):0)&&(u=u.substr(2)),h=parseFloat(u),u=u.substr((h+"").length),p=an.lastIndex-u.length,u||(u=u||ne.units[t]||_,p===n.length&&(n+=u,f.e+=u)),_!==u&&(s=Fn(e,t,l,u)),f._pt={_next:f._pt,p:c||1===m?c:",",s:s,c:d?d*h:h-s,m:a&&a<4?Math.round:0});f.c=p<n.length?n.substring(p,n.length):""}else f.r="display"===t?mn:pn;return Be.test(n)&&(f.e=0),this._pt=f},Pn={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Nn=function(e){var t=e.split(" "),i=t[0],e=t[1]||"50%";return"top"!==i&&"bottom"!==i&&"left"!==e&&"right"!==e||(t=i,i=e,e=t),t[0]=Pn[i]||i,t[1]=Pn[e]||e,t.join(" ")},jn=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i,n,r,o=t.t,s=o.style,a=t.u;if("all"===a||!0===a)s.cssText="",n=1;else for(r=(a=a.split(",")).length;-1<--r;)i=a[r],tn[i]&&(n=1,i="transformOrigin"===i?xn:En),Dn(o,i);n&&(Dn(o,En),(n=o._gsap)&&(n.svg&&o.removeAttribute("transform"),delete n.x))}},qn={clearProps:function(e,t,i,n,r){t=e._pt=new Gi(e._pt,t,i,0,0,jn);return t.u=n,t.pr=-10,t.tween=r,e._props.push(i),1}},Gn=[1,0,0,1,0,0],Hn={},Yn=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},Vn=function(e){e=Tn(e,En);return Yn(e)?Gn:e.substr(7).match(Ee).map(Ze)},Xn=function(e,t){var i,n,r,o=e._gsap,s=e.style,a=Vn(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(a=[(n=e.transform.baseVal.consolidate().matrix).a,n.b,n.c,n.d,n.e,n.f]).join(",")?Gn:a:(a!==Gn||e.offsetParent||e===Wi||o.svg||(n=s.display,s.display="block",(o=e.parentNode)&&e.offsetParent||(r=1,i=e.nextSibling,Wi.appendChild(e)),a=Vn(e),n?s.display=n:Dn(e,"display"),r&&(i?o.insertBefore(e,i):o?o.appendChild(e):Wi.removeChild(e))),t&&6<a.length?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},Wn=function(e,t,i,n,r,o){var s,a=e._gsap,l=r||Xn(e,!0),h=a.xOrigin||0,c=a.yOrigin||0,u=a.xOffset||0,_=a.yOffset||0,d=l[0],f=l[1],p=l[2],m=l[3],v=l[4],g=l[5],A=t.split(" "),w=parseFloat(A[0])||0,r=parseFloat(A[1])||0;i?l!==Gn&&(s=d*m-f*p)&&(l=w*(-f/s)+r*(d/s)-(d*g-f*v)/s,w=w*(m/s)+r*(-p/s)+(p*g-m*v)/s,r=l):(w=(e=Cn(e)).x+(~A[0].indexOf("%")?w/100*e.width:w),r=e.y+(~(A[1]||A[0]).indexOf("%")?r/100*e.height:r)),n||!1!==n&&a.smooth?(v=w-h,g=r-c,a.xOffset+=v*d+g*p-v,a.yOffset+=v*f+g*m-g):a.xOffset=a.yOffset=0,a.xOrigin=w,a.yOrigin=r,a.smooth=!!n,a.origin=t,a.originIsAbsolute=!!i,o&&(zn(o,a,"xOrigin",h,w),zn(o,a,"yOrigin",c,r),zn(o,a,"xOffset",u,a.xOffset),zn(o,a,"yOffset",_,a.yOffset))},Jn=function(e,t){var i,n,r,o,s,a,l,h,c,u,_,d,f,p,m,v,g,A,w,y,b,E,x,k,B,T,M,O,R,Q,C,I,D=e._gsap||new vi(e);return"x"in D&&!t||(i=e.style,n=D.scaleX<0,C=D.xOrigin||0,v=D.yOrigin||0,r="deg",o=Tn(e,xn)||"0",s=a=l=u=_=d=f=p=0,h=c=1,D.svg=!(!e.getCTM||!In(e)),m=Xn(e,D.svg),D.svg&&Wn(e,o,D.originIsAbsolute,!1!==D.smooth,m),m!==Gn&&(w=m[0],y=m[1],b=m[2],E=m[3],s=x=m[4],a=k=m[5],6===m.length?(h=Math.sqrt(w*w+y*y),c=Math.sqrt(E*E+b*b),u=w||y?on(y,w)*nn:D.rotation||0,f=b||E?on(b,E)*nn+u:D.skewX||0,D.svg&&(s-=C-(C*w+v*b),a-=v-(C*y+v*E))):(I=m[6],Q=m[7],O=m[8],R=m[9],t=m[10],C=m[11],s=m[12],a=m[13],l=m[14],_=(v=on(I,t))*nn,v&&(B=x*(g=Math.cos(-v))+O*(A=Math.sin(-v)),T=k*g+R*A,M=I*g+t*A,O=x*-A+O*g,R=k*-A+R*g,t=I*-A+t*g,C=Q*-A+C*g,x=B,k=T,I=M),d=(v=on(-b,t))*nn,v&&(g=Math.cos(-v),C=E*(A=Math.sin(-v))+C*g,w=B=w*g-O*A,y=T=y*g-R*A,b=M=b*g-t*A),u=(v=on(y,w))*nn,v&&(B=w*(g=Math.cos(v))+y*(A=Math.sin(v)),T=x*g+k*A,y=y*g-w*A,k=k*g-x*A,w=B,x=T),_&&359.9<Math.abs(_)+Math.abs(u)&&(_=u=0,d=180-d),h=Ze(Math.sqrt(w*w+y*y+b*b)),c=Ze(Math.sqrt(k*k+I*I)),v=on(x,k),f=2e-4<Math.abs(v)?v*nn:0,p=C?1/(C<0?-C:C):0),D.svg&&(m=e.getAttribute("transform"),D.forceCSS=e.setAttribute("transform","")||!Yn(Tn(e,En)),m&&e.setAttribute("transform",m))),90<Math.abs(f)&&Math.abs(f)<270&&(n?(h*=-1,f+=u<=0?180:-180,u+=u<=0?180:-180):(c*=-1,f+=f<=0?180:-180)),D.x=((D.xPercent=s&&Math.round(e.offsetWidth/2)==Math.round(-s)?-50:0)?0:s)+"px",D.y=((D.yPercent=a&&Math.round(e.offsetHeight/2)==Math.round(-a)?-50:0)?0:a)+"px",D.z=l+"px",D.scaleX=Ze(h),D.scaleY=Ze(c),D.rotation=Ze(u)+r,D.rotationX=Ze(_)+r,D.rotationY=Ze(d)+r,D.skewX=f+r,D.skewY=0+r,D.transformPerspective=p+"px",(D.zOrigin=parseFloat(o.split(" ")[2])||0)&&(i[xn]=Zn(o)),D.xOffset=D.yOffset=0,D.force3D=ne.force3D,D.renderTransform=D.svg?rr:kn?nr:$n),D},Zn=function(e){return(e=e.split(" "))[0]+" "+e[1]},Kn=function(e,t,i){var n=Mt(t);return Ze(parseFloat(t)+parseFloat(Fn(e,"x",i+"px",n)))+n},$n=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,nr(e,t)},er="0deg",tr="0px",ir=") ",nr=function(e,t){var i=t||this,n=i.xPercent,r=i.yPercent,o=i.x,s=i.y,a=i.z,l=i.rotation,h=i.rotationY,c=i.rotationX,u=i.skewX,_=i.skewY,d=i.scaleX,f=i.scaleY,p=i.transformPerspective,m=i.force3D,v=i.target,g=i.zOrigin,A="",t="auto"===m&&e&&1!==e||!0===m;!g||c===er&&h===er||(e=Math.sin(i=parseFloat(h)*rn),m=Math.cos(i),o=Kn(v,o,e*(e=Math.cos(i=parseFloat(c)*rn))*-g),s=Kn(v,s,-Math.sin(i)*-g),a=Kn(v,a,m*e*-g+g)),(n||r)&&(A="translate("+n+"%, "+r+"%) "),!t&&o===tr&&s===tr&&a===tr||(A+=a!==tr||t?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+ir),p!==tr&&(A+="perspective("+p+ir),l!==er&&(A+="rotate("+l+ir),h!==er&&(A+="rotateY("+h+ir),c!==er&&(A+="rotateX("+c+ir),u===er&&_===er||(A+="skew("+u+", "+_+ir),1===d&&1===f||(A+="scale("+d+", "+f+ir),v.style[En]=A||"translate(0, 0)"},rr=function(e,t){var i,n,r,o,s,a=t||this,l=a.xPercent,h=a.yPercent,c=a.x,u=a.y,_=a.rotation,d=a.skewX,f=a.skewY,p=a.scaleX,m=a.scaleY,v=a.target,g=a.xOrigin,A=a.yOrigin,w=a.xOffset,y=a.yOffset,b=a.forceCSS,t=parseFloat(c),a=parseFloat(u),_=parseFloat(_),d=parseFloat(d);(f=parseFloat(f))&&(d+=f=parseFloat(f),_+=f),_||d?(d*=rn,i=Math.cos(_*=rn)*p,n=Math.sin(_)*p,r=Math.sin(_-d)*-m,o=Math.cos(_-d)*m,d&&(r*=s=Math.sqrt(1+(s=Math.tan(d-(f*=rn)))*s),o*=s,f&&(i*=s=Math.sqrt(1+(s=Math.tan(f))*s),n*=s)),i=Ze(i),n=Ze(n),r=Ze(r),o=Ze(o)):(i=p,o=m,n=r=0),(t&&!~(c+"").indexOf("px")||a&&!~(u+"").indexOf("px"))&&(t=Fn(v,"x",c,"px"),a=Fn(v,"y",u,"px")),(g||A||w||y)&&(t=Ze(t+g-(g*i+A*r)+w),a=Ze(a+A-(g*n+A*o)+y)),(l||h)&&(s=v.getBBox(),t=Ze(t+l/100*s.width),a=Ze(a+h/100*s.height)),s="matrix("+i+","+n+","+r+","+o+","+t+","+a+")",v.setAttribute("transform",s),b&&(v.style[En]=s)},or=function(e,t,i,n,r,o){var s=360,a=de(r),l=parseFloat(r)*(a&&~r.indexOf("rad")?nn:1),o=o?l*o:l-n,l=n+o+"deg";return a&&("short"===(r=r.split("_")[1])&&(o%=s)!=o%180&&(o+=o<0?s:-s),"cw"===r&&o<0?o=(o+36e9)%s-~~(o/s)*s:"ccw"===r&&0<o&&(o=(o-36e9)%s-~~(o/s)*s)),e._pt=o=new Gi(e._pt,t,i,n,o,_n),o.e=l,o.u="deg",e._props.push(i),o},sr=function(e,t,i){var n,r,o,s,a,l=Ki.style,h=i._gsap;for(r in l.cssText=getComputedStyle(i).cssText+";position:absolute;display:block;",l[En]=t,Xi.body.appendChild(Ki),n=Jn(Ki,1),tn)(o=h[r])!==(s=n[r])&&"perspective"!==r&&(o=Mt(o)!==(a=Mt(s))?Fn(i,r,o,a):parseFloat(o),s=parseFloat(s),e._pt=new Gi(e._pt,h,r,o,s-o,un),e._pt.u=a,e._props.push(r));Xi.body.removeChild(Ki)},_o={name:"css",register:On=function(){en()&&(Vi=window,Xi=Vi.document,Wi=Xi.documentElement,Zi=Bn("div")||{style:{}},Ki=Bn("div"),En=Mn(En),xn=Mn(xn),Zi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",kn=!!Mn("perspective"),Ji=1)},targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,n,r){var o,s,a,l,h,c,u,_,d,f,p,m,v,g=this._props,A=e.style;for(h in Ji||On(),t)if("autoRound"!==h&&(s=t[h],!je[h]||!Ei(h,t,i,n,e,r)))if(d=qn[h],"function"==(c=typeof s)&&(c=typeof(s=s.call(i,n,e,r))),"string"===c&&~s.indexOf("random(")&&(s=qt(s)),d)d(this,e,h,s,i)&&(v=1);else if("--"==h.substr(0,2))this.add(A,"setProperty",getComputedStyle(e).getPropertyValue(h)+"",s+"",n,r,0,0,h);else{if(o=Un(e,h),l=parseFloat(o),(_="string"===c&&"="==s[1]?+(s[0]+"1"):0)&&(s=s.substr(2)),a=parseFloat(s),h in cn&&("autoAlpha"===h&&(1===l&&"hidden"===Un(e,"visibility")&&a&&(l=0),zn(this,A,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&~(h=cn[h]).indexOf(",")&&(h=h.split(",")[0])),d=h in tn){if(f||(p=e._gsap,m=!1!==t.smoothOrigin&&p.smooth,(f=this._pt=new Gi(this._pt,A,En,0,1,p.renderTransform,p)).dep=1),"scale"===h){this._pt=new Gi(this._pt,e,"scale",l,_?_*a:a-l,0,0,wn),g.push("scale");continue}if("transformOrigin"===h){s=Nn(s),p.svg?Wn(e,s,0,m,0,this):((u=parseFloat(s.split(" ")[2]))!==p.zOrigin&&zn(this,p,"zOrigin",p.zOrigin,u),zn(this,A,h,Zn(o),Zn(s)));continue}if("svgOrigin"===h){Wn(e,s,1,m,0,this);continue}if(h in Hn){or(this,p,h,l,s,_);continue}if("smoothOrigin"===h){zn(this,p,"smooth",p.smooth,s);continue}if("force3D"===h){p[h]=s;continue}if("transform"===h){sr(this,s,e);continue}}if(d||(a||0===a)&&(l||0===l)&&!hn.test(s)&&h in A)(c=(o+"").substr((l+"").length))!==(u=(s+"").substr((a+"").length)||(h in ne.units?ne.units[h]:c))&&(l=Fn(e,h,o,u)),this._pt=new Gi(this._pt,d?p:A,h,l,_?_*a:a-l,"px"!==u||!1===t.autoRound||d?un:fn),this._pt.u=u||0,c!==u&&(this._pt.b=o,this._pt.r=dn);else if(h in A)Ln.call(this,e,h,o,s);else{if(!(h in e))continue;this.add(e,h,e[h],s,n,r)}g.push(h)}v&&qi(this)},get:Un,aliases:cn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},getSetter:function(e,t,i){return t in tn&&t!==xn&&(e._gsap.x||Un(e,"x"))?i&&$i===i?"scale"===t?wn:An:($i=i||{})&&("scale"===t?yn:bn):e.style&&!me(e.style[t])?vn:~t.indexOf("-")?gn:zi(e,t)}},Hi.utils.checkPrefix=Mn,uo=Je("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+(fo="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){tn[e]=1}),Je(fo,function(e){ne.units[e]="deg",Hn[e]=1}),cn[uo[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+fo,Je("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,9:rotateX,10:rotateY",function(e){e=e.split(":");cn[e[1]]=uo[e[0]]}),Je("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){ne.units[e]="px"}),Hi.registerPlugin(_o),ar=Hi.registerPlugin(_o)||Hi,fo=i(0),lr=i.n(fo),_o=i(1),hr=i.n(_o),fo=i(48),cr=i.n(fo),r(jo.prototype,[{key:"stopEventPropagation",value:function(e){e.stopPropagation()}},{key:"isIOS",value:function(){var e=navigator.userAgent.toLowerCase();return!!~e.indexOf("iphone")||!!~e.indexOf("ipad")||!!~e.indexOf("ipod")}},{key:"isAndroid",value:function(){return!!~navigator.userAgent.toLowerCase().indexOf("android")}},{key:"isSafari",value:function(){return!!~navigator.userAgent.indexOf("Safari")&&!~navigator.userAgent.indexOf("Chrome")}},{key:"isOrbitvu",value:function(){return navigator.userAgent.toLowerCase().startsWith("orbitvu")}},{key:"supports_pointer_events",value:function(){return window.PointerEvent||window.MSPointerEvent||window.navigator.msPointerEnabled||window.navigator.pointerEnabled}},{key:"_set_svg_color",value:function(e,t,i,n,r){var o,s,a;if("function"==typeof e.getElementById)for(o in i)if(i.hasOwnProperty(o)&&(s=i[o],a=e.getElementById(s))){if(a.style.setProperty)try{a.style.setProperty(t+"-opacity",r,null)}catch(e){a.style.setProperty(t+"-opacity",""+r,null)}else a.style[t+"-opacity"]=r;a.style[t]="#"+n}}},{key:"colorize_svg",value:function(e,t,i,n,r){var o=t.substr(6,2),o=""===o||i?1:hr()(o,16)/255,t=t.substr(0,6);this._set_svg_color(e,"fill",n,t,o),this._set_svg_color(e,"stroke",r,t,o)}},{key:"is_same_domain",value:function(e){return 0==e.replace("http://","").replace("https//","").replace("file://","").replace("//","").indexOf(window.location.host)}},{key:"do_nothing_handler",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"add_button_click_handler",value:function(t,i,e){if(this.sub_touch_callback=function(e){e.target.removeEventListener("mousedown",i,!1),t.removeEventListener("mousedown",i,!1),i(e),t.addEventListener("mousedown",i,!1)},this.supports_pointer_events())t.addEventListener("click",i,!1),window.PointerEvent?t.addEventListener("pointerdown",this.do_nothing_handler,!1):window.MSPointerEvent&&t.addEventListener("MSPointerDown",this.do_nothing_handler,!1);else{t.addEventListener("mousedown",i,!1),e||t.addEventListener("click",this.do_nothing_handler,!1);try{t.addEventListener("touchstart",this.sub_touch_callback,!1),t.addEventListener("touchend",this.do_nothing_handler,!1),t.addEventListener("touchmove",this.do_nothing_handler,!1)}catch(t){}}}},{key:"remove_button_click_handler",value:function(e,t){if(this.supports_pointer_events())e.removeEventListener("click",t,!1),window.PointerEvent?e.removeEventListener("pointerdown",this.do_nothing_handler,!1):e.removeEventListener("MSPointerDown",this.do_nothing_handler,!1);else{e.removeEventListener("mousedown",t,!1),e.removeEventListener("click",this.do_nothing_handler,!1);try{e.removeEventListener("touchstart",this.sub_touch_callback,!1),e.removeEventListener("touchend",this.do_nothing_handler,!1),e.removeEventListener("touchmove",this.do_nothing_handler,!1)}catch(e){}}self.sub_touch_callback=null}},{key:"handle_beacon",value:function(e){var t,i,n=!1;e&&(t=this.hash(e),n=!0,void 0===(i=window.orbitvu_beacons)&&(i={}),i[t]&&((new Date).getTime()-i[t])/1e3<5&&(n=!1),i[t]=new Date,window.orbitvu_beacons=i,n&&this.beacon({url:e}))}},{key:"beacon",value:function(e){var t,i,n,r;for(i in(e=e||{}).url=e.url||null,e.vars=e.vars||{},e.error=e.error||function(){},e.success=e.success||function(){},e.vars.cb=Math.floor(1e13*Math.random()),parent!==window&&(e.vars.referrer=document.referrer),t=[],e.vars)e.vars.hasOwnProperty(i)&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e.vars[i]));n=t.join("&"),e.url&&((r=new Image).onerror&&(r.onerror=e.error),r.onload&&(r.onload=e.success),r.src=e.url+"?"+n)}},{key:"hash",value:function(e){var t,i,n;if(Array.prototype.reduce)t=e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0);else{if((i=0)===e.length)return i;for(n=0;n<e.length;n++)i=(i<<5)-i+e.charCodeAt(n),i&=i}return(t=""+t).replace("-","a")}},{key:"has_webp_support",value:function(t,i){var n=new Image;n.onload=function(){var e=0<n.width&&0<n.height;i(t,e)},n.onerror=function(){i(t,!1)},n.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[t]}},{key:"request_interval",value:function(t,i){var n,r=cr.a,o=window.requestAnimationFrame,s=r();return o(function e(){!n&&r()-s>=i&&(s=r(),t()),n||o(e)}),{clear:function(){n=1}}}},{key:"request_timeout",value:function(t,i){var n,r=cr.a,o=window.requestAnimationFrame,s=r();return o(function e(){!n&&r()-s>=i&&(n=1,t()),n||o(e)}),{clear:function(){n=1}}}}]),ur=jo,_o=i(49),_r=i.n(_o),fo=i(12),dr=i.n(fo),_o=i(20),fr=i.n(_o),fo=[{key:"info_translation",value:function(e,t){var i={en:{center_view:"CENTER VIEW",zoom_in_out:"ZOOM IN/OUT",rotate:"ROTATE",fullscreen:"FULL SCREEN",maxzoom:"MAX ZOOM"},pl:{center_view:"CENTROWANIE",zoom_in_out:"POWIÄKSZENIE",rotate:"OBRĂT",fullscreen:"PEĹNY EKRAN",maxzoom:"PRZYBLIĹťENIE"},de:{center_view:"ZENTRIEREN",zoom_in_out:"ZOOM IN/OUT",rotate:"DREHEN",fullscreen:"FULL SCREEN",maxzoom:"MAX ZOOM"},es:{center_view:"CENTRAR VISTA",zoom_in_out:"ZOOM IN/OUT",rotate:"ROTAR",fullscreen:"PANTALLA COMP.",maxzoom:"ZOOM MAX"},ja:{center_view:"ăťăłăżăźăăĽăź",zoom_in_out:"ăşăźă ă¤ăł/ă˘ăŚă",rotate:"ĺčť˘",fullscreen:"ăăŤăšăŻăŞăźăł",maxzoom:"ćĺ¤§ăşăźă "}};return i[e]||(e="en"),i[e][t]}}],o((_o=No).prototype,[{key:"init",value:function(e){return this.locale=this.locales[e],this.locale||(this.locale=this.locales.en),this.locale}},{key:"get_locales",value:function(){var e={autorotation:"AUTOOTĂÄENĂ",move:"POSUĹ",zoomin:"ZVÄTĹ I",zoomout:"ZMENĹ I",fullscreen:"CELĂ OBRAZOVKA",info:"INFO",manualrotation:"MANUĂLNĂ OTĂÄENĂ",url:"https://orbitvu.cz"},t={autorotation:"AUTO ORBIT",move:"FLYT",zoomin:"ZOOM IND",zoomout:"ZOOM UD",fullscreen:"FULD SKĂRM",info:"INFO",manualrotation:"MANUAL ORBIT",url:"https://orbitvu.com"};return{ru:{autorotation:"ĐĐĐ˘ĐĐĐĐ˘ĐĐ§ĐĐĄĐĐĐ ĐĐ ĐĐŠĐĐĐĐ",move:"ĐĐĐĐŹĐ¨Đ",zoomin:"ĐĐŁĐĐĐĐ ĐĐĐĐ˘ĐŹ",zoomout:"ĐŁĐĐĐĐŹĐ¨ĐĐ˘ĐŹ",fullscreen:"ĐĐĐĐĐĐ­ĐĐ ĐĐĐĐŤĐ",info:"ĐĐĐ¤ĐĐ ĐĐĐŚĐĐŻ",manualrotation:"Đ ĐŁĐ§ĐĐĐ ĐĐ ĐĐŠĐĐĐĐ",url:"https://orbitvu.com"},fr:{autorotation:"AUTOROTATION",move:"DĂPLACER",zoomin:"AGRANDIR",zoomout:"DIMINUER",fullscreen:"PLEIN ĂCRAN",info:"INFO",manualrotation:"ROTATION MANUELLE",url:"https://orbitvu.com"},nl:{autorotation:"ROTEREN",move:"VERPLAATSEN",zoomin:"INZOOMEN",zoomout:"UITZOOMEN",fullscreen:"VOLLEDIG SCHERM",info:"INFO",manualrotation:"MANUAL ORBIT",url:"https://orbitvu.com"},cn:{autorotation:"čŞĺ¨ćč˝Ź",move:"ç§ťĺ¨",zoomin:"ćžĺ¤§",zoomout:"çźŠĺ°",fullscreen:"ĺ¨ĺąĺš",info:"čŽŻćŻ",manualrotation:"ćĺ¨ćč˝Ź",url:"https://orbitvu.com"},fi:{autorotation:"AUTOMAATTINEN PYĂRITYS",move:"SIIRTO",zoomin:"ZOOMAUS SUUREMMAKSI",zoomout:"ZOOMAUS PIENEMMĂKSI",fullscreen:"KOKO NĂYTTĂ",info:"INFO",manualrotation:"MANUAALINEN PYĂRITYS",url:"https://orbitvu.com"},dk:t,da:t,no:{autorotation:"AUTO ORBIT",move:"FLYTT",zoomin:"ZOOM INN",zoomout:"ZOOM UT",fullscreen:"FULLSKJERM",info:"INFORMASJON",manualrotation:"MANUAL ORBIT",url:"https://orbitvu.com"},se:{autorotation:"AUTO ORBIT",move:"FLYTTA",zoomin:"ZOOMA IN",zoomout:"ZOOMA UT",fullscreen:"FULL SKĂRM",info:"INFO",manualrotation:"MANUAL ORBIT",url:"https://orbitvu.com"},it:{autorotation:"AUTO ORBIT",move:"SPOSTA",zoomin:"AUMENTA ZOOM",zoomout:"RIDUCI ZOOM",fullscreen:"A TUTTO SCHERMO",info:"INFO",manualrotation:"ORBIT MANUALE",url:"https://orbitvu.it"},es:{autorotation:"AUTOGIRO",move:"MOVER",zoomin:"ACERCAR",zoomout:"ALEJAR",fullscreen:"PANTALLA COMPLETA",info:"INFO",manualrotation:"GIRO MANUAL",url:"https://orbitvu.es"},en:{autorotation:"AUTO ORBIT",move:"MOVE",zoomin:"ZOOM IN",zoomout:"ZOOM OUT",fullscreen:"FULLSCREEN",info:"INFO",manualrotation:"STEP ORBIT",url:"https://orbitvu.com"},ro:{autorotation:"AUTOROTATIE",move:"MISCA",zoomin:"ZOOM IN",zoomout:"ZOOM OUT",fullscreen:"ECRAN COMPLET",info:"INFO",manualrotation:"ROTATIE MANUALA",url:"https://orbitvu.com"},sk:{autorotation:"AUTOOTĂÄANIE",move:"POSUĹ",zoomin:"ZVĂÄĹ I",zoomout:"ZMENĹ I",fullscreen:"CELĂ OBRAZOVKA",info:"INFO",manualrotation:"MANUĂLNE OTĂÄANIE",url:"https://orbitvu.com"},cz:e,cs:e,de:{autorotation:"AUTO DREHEN",move:"VERSCHIEBEN",zoomin:"VERGRĂĂERN",zoomout:"VERKLEINERN",fullscreen:"VOLLBILDMODUS",info:"INFO",manualrotation:"MANUELL DREHEN",url:"https://orbitvu.de"},pl:{autorotation:"AUTOROTACJA",move:"PRZESUĹ",zoomin:"POWIÄKSZ",zoomout:"POMNIEJSZ",fullscreen:"PEĹNY EKRAN",info:"INFO",manualrotation:"MANUALNA ROTACJA",url:"https://orbitvu.pl"},pt:{autorotation:"AUTO-ROTAĂĂO",move:"MOVER",zoomin:"ZOOM IN",zoomout:"ZOOM OUT",fullscreen:"ECRĂ COMPLETO",info:"INFO",manualrotation:"ROTAĂĂO MANUAL",url:"https://orbitvu.com"},lt:{autorotation:"AUTOMATINIS PASUKIMAS",move:"PERKELTI",zoomin:"PADIDINTI",zoomout:"SUMAĹ˝INTI",fullscreen:"VISAS EKRANAS",info:"INFO",manualrotation:"VADOVAS ROTACIJOS",url:"https://orbitvu.com"},hu:{autorotation:"FORGATĂS",move:"MOZGATĂS",zoomin:"NAGYĂTĂS",zoomout:"KICSINYĂTĂS",fullscreen:"TELJES KĂPERNYĹ",info:"INFO",manualrotation:"KĂZI FORGATĂS",url:"https://orbitvu.com"},fy:{autorotation:"ROTEARJE",move:"FERPLEATSE",zoomin:"YNZOOME",zoomout:"UTZOOME",fullscreen:"FOLSLEIN SKERM",info:"YNFO",manualrotation:"HĂNSMJITTICH DRAAIE",url:"https://orbitvu.com"},sl:{autorotation:"SAMODEJNO VRTENJE",move:"PREMAKNI",zoomin:"PRIBLIĹ˝AJ",zoomout:"ODDALJI",fullscreen:"CELI EKRAN",info:"INFO",manualrotation:"ROÄNO VRTENJE",url:"https://orbitvu.com"},sr:{autorotation:"AUTO ROTACIJA",move:"POMERI",zoomin:"PRIBLIĹ˝I",zoomout:"ODALJI",fullscreen:"CEO EKRAN",info:"INFO",manualrotation:"RUÄNA ROTACIJA",url:"https://orbitvu.com"},ja:{autorotation:"čŞĺĺčť˘",move:"ç§ťĺ",zoomin:"ăşăźă ă¤ăł",zoomout:"ăşăźă ă˘ăŚă",fullscreen:"ăăŤăšăŻăŞăźăł",info:"ćĺ ą",manualrotation:"ćĺĺčť˘",url:"https://orbitvu.jp"},_:{autorotation:"",move:"",zoomin:"",zoomout:"",fullscreen:"",info:"",manualrotation:"",url:"http://www.orbitvu.com"}}}},{key:"trans",value:function(e){return this.locale?this.locale[e]:""}}]),o(_o,fo),pr=No,s(Po.prototype,[{key:"get_image_url",value:function(e,t,i,n,r){var o=this.images[e].name;return null==r&&(r=0),this.images[e].new_name&&(o=this.images[e].new_name+r+"_"+e),e=this.base_url+o+"_"+this.scales_map[t]+"_"+i+"_"+n+"."+this.images[e].ext,this.ovus_cache_modifier&&(e+="?ocm="+this.ovus_cache_modifier),e}},{key:"add_scale",value:function(e,t,i,n,r,o,s,a){this.scales_map[e]=a.replace("%","").replace(".",""),this.scales.push({value:+e,width:+t,height:+i,tile_width:+n,tile_height:+r,cols:+o,rows:+s}),this.scales.sort(function(e,t){return e.value-t.value})}},{key:"find_optimal_scale_index",value:function(e,t){var i,n,r=0;for(void 0===t&&(t=!1),i=0,n=this.scales.length;i<n;i++)if(t){if(1==this.scales[i].cols&&1==this.scales[i].rows&&(r<i&&(r=i),this.scales[i].value>=e))break}else if(r<i&&(r=i),this.scales[i].value>=e)break;return r}}]),mr=Po,_o=i(3),vr=i.n(_o),fo=i(8),gr=i.n(fo),_o=i(4),Ar=i.n(_o),l(Lo.prototype,[{key:"destroy",value:function(){var e,t=this;this.utils.isAndroid()||this.dialog.removeEventListener("mousedown",this.onMouseDown,!1),this.dialog.removeEventListener("touchstart",this.onMouseDown,!1),e=function(e){t.dialog&&t.dialog.parentNode&&t.dialog.parentNode.removeChild(t.dialog)},window.setTimeout(e,500),this.dialog.style.opacity="0",this.on_destroy_callback&&this.on_destroy_callback()}}]),wr=Lo,h(Uo.prototype,[{key:"render_info_popup",value:function(e){var t,i,n,r,o,s,a,l,h,c,u=this;this.canvas_context.fillStyle="#009bb0",this.canvas_context.arc(9,9,9,0,360,!1),this.canvas_context.fill(),this.canvas_context.arc(151,9,9,0,360,!1),this.canvas_context.fill(),this.canvas_context.fillRect(0,9,160,32),this.canvas_context.fillRect(9,0,151,9),this.canvas_context.fillStyle="#ffffff",this.canvas_context.fillRect(0,32,160,203),this.canvas_context.beginPath(),this.canvas_context.fillStyle="#009bb0",this.canvas_context.arc(9,227,9,0,360,!1),this.canvas_context.fill(),this.canvas_context.arc(151,227,9,0,360,!1),this.canvas_context.fill(),this.canvas_context.fillRect(0,203,160,227),this.canvas_context.fillRect(9,203,151,236),e?(this.canvas_context.beginPath(),this.canvas_context.moveTo(8,32),this.canvas_context.quadraticCurveTo(30,36,53,42),this.canvas_context.quadraticCurveTo(82,46,107,42),this.canvas_context.quadraticCurveTo(130,36,152,32),this.canvas_context.fill(),(t=new Image).onload=function(){u.canvas_context.drawImage(t,58,4)},t.src="data:image/jpeg;base64,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"):((i=new Image).onload=function(){u.canvas_context.drawImage(i,4,4)},i.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAAbABsDAREAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAABAUGBwj/xAAZAQACAwEAAAAAAAAAAAAAAAAEBQMGBwL/2gAMAwEAAhADEAAAAZRYc4spXaQJB6If57pisaogIXWCusmcbLmE3BftYS5SK3zPZ8rD7heDnq5hB+ov/8QAHRAAAgMAAwEBAAAAAAAAAAAABAUCAwYAARUTMf/aAAgBAQABBQLM5v1u2PlIR2+TGOonHuuWchGtJpHdoFvX5pq4Qe457X8HSk052eyrUBllTMJ5U7PpheRaTPn/xAApEQAABQMCBAcBAAAAAAAAAAAAAQIDBAUREhQhEDJRYSMxQXGhscHw/9oACAEDAQE/AaVS9Z4jnKXyJOhpyCybLfsJtHZkIzYLFQMjSdjFMSSYbdugqk9yOpKEt3v1/CBdxVUpTNct/bCiVBGGmcPf0E+HIkTG3G+VPX3EiUiG1m8e/wBh51T7inFeZ8ET5SCxS4YccW6eSzufD//EAB4RAAICAgMBAQAAAAAAAAAAAAECAAMEERATITEi/9oACAECAQE/AcrJ6vyv2V92QfGlOW6HT+iA79mSd2tuY1C2AktxikmlZm0HfYsotrrqZW+mV1G5tJEUIoUcGis+lYqhfF4//8QAKBAAAgEEAQIEBwAAAAAAAAAAAQIDAAQREiETMRAiUWEyM0FCUoGh/9oACAEBAAY/AjPPlbZTjj7jUfUs48MdQBGCaMtoggnxkAcBqKsMMOCKtAvbTNQxJaI+zeVpecn2H7rnvV2F/IH+ULGZtGX5ZP19qtJolTowgHLnjOa6lzIC2Ow7salnf4pG28NUu5QvptW8sjSN6sc+H//EACAQAQACAgIBBQAAAAAAAAAAAAEAESFBMXFREGGRobH/2gAIAQEAAT8hsBgDB8XUDiL6F5tZjoJXSTUW42xpnKIs7W2aZbcBXA3pll64YZqUgUo7Qv2srHU3aA/qM2gMIGtnxKbHhg9kRmcxVq5xKrcUWtdREr769P/aAAwDAQACAAMAAAAQPyo1jFmn/8QAIhEBAAECBgMBAQAAAAAAAAAAAREAITFBUWFxgRCRodHw/9oACAEDAQE/EJLbaN1pxrUzjKAAvt/aW2xIFh2TLrunBwlmijDd23aF/JZvlIwGcy7GxUoM1GGse0L9aiIwxOY5czhrQVEAyrSJZMdKuMg4Vsf0VjlK+/EDM5alr1Fl++P/xAAjEQEAAgIABAcAAAAAAAAAAAABABEhMRBBUbFhcYGhwdHw/9oACAECAQE/EKfM+0vbsZ3Utf3CAAaYiuqMEKMh8vpqNXiKD+yy3Kx39xSHJrpUotjsTSgHBuhflA6APDh//8QAHxABAQACAgMAAwAAAAAAAAAAAREAMSFBUWGBEHGh/9oACAEBAAE/EDnEjROUPQ4r7hnAA8RCoKoHl7zxsxUr1W6EkdmKQCDEGI/cAkAMds/ouJgXBwAsxIDFbBOcrGJRpe5hqCRZ+AuqhF1beiqebOs1Pg6ETy64m5nBA8hL1dgvwN5wEBdErD0ED9YKhGJpMFcSyB8Us+ZtIso/Vfx//9k="),this.viewer.is_android||this.viewer.ios?((n=new Image).onload=function(){u.canvas_context.drawImage(n,18,51)},n.src="data:image/jpeg;base64,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",this.canvas_context.beginPath(),this.canvas_context.fillStyle="#000000",this.canvas_context.fillText(pr.info_translation(this.viewer.params.lang,"zoom_in_out"),14,114),(r=new Image).onload=function(){u.canvas_context.drawImage(r,92,59)},r.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAAnAC0DAREAAhEBAxEB/8QAGwAAAgIDAQAAAAAAAAAAAAAABAYABQECBwP/xAAaAQACAwEBAAAAAAAAAAAAAAAEBQACAwEG/9oADAMBAAIQAxAAAAHs7LyoOmC4Ul6Uq9j68syCuK3UEO+KyYktMGG/LNob2SSRZLS5lSKbkV3tcTpIuFJmMVzJF0pQxCt5IPbJcKTkV0tMT//EACAQAAICAQQDAQAAAAAAAAAAAAMEAgUBAAYQExQVIyT/2gAIAQEAAQUCFuGbFjuS2MURVWdszsrOUcUNv7hPXrw+daVA7TRPpRt2yjwFrgMBc4HiFqJY3QSt7A1bOW6/i5+MeEPzP8MBiyBdp+AfBcZ0qiFLH//EADIRAAECAwQHBgcBAAAAAAAAAAECAwQRIQASMVEFEBMUYXGBIzJBkaHwFSAiJEJTscH/2gAIAQMBAT8BRpRbsSSlKriaSCZzPHLljnbSsa64hDbU0Xpkzoae+tLLZd0OpLqTdnWU8eGAz45giVouLUApptC55hM7aMj/AIgzfIkRjl01bm1vG9Civ7zz95CUdAIjbt4yKfZHWy+0gEqXUsmSgK4UIrmmtn46GiW9jJRv5AiY6ypnZnSDQQLrZSgUnhI+c+B4/IEXYtxlfdcE+FKEeUrIYdDbCrv1NmXTun/FdLKg7yH2vxX6EivrW0C8YiHQ4cfHngfXXpLsg3FfrPOhodcKNi++14TCs+9jyqNbrYebU2rA0sy9GIQlnZTUKE3hLnnXlbdYp8fcPS4Ip6mv8sxDNQ89mMccz1t//8QALBEAAgECBAQDCQAAAAAAAAAAAQIDABEEEBIhEyJBkSAxMkJRYXGBobHh8f/aAAgBAgEBPwE4YLGLkXPxrDQqCWbe1B1xQKmoohsxI71iIeA9suK2jh9KhmMN7daG0xA9ry/I+9JDJG2rbangYndrnwXvErDzWi66nHQ/39UJbFG6ipk0OVGcHNeP35ycyI307Zq2khhTJESX1bfKuJGnoXvTyNJ6q//EADIQAAECBAIGCAcBAAAAAAAAAAECAwAEERITIRAyQVFxoRQiMUJhYpGiICMkU1RysYH/2gAIAQEABj8CdIamejM1RhtMFRUfNu4RLMs4sql1K1uFSbV2p2Q2+hZQdct4twWMqjsGecOsNtTiXdjzUveIxCgocSbVZZV8NAmwCl6202mgVx3wyVG1bRqD4bR/sNLdGI5IuWujtqB1Ve3OOjhMw7jDqpbQpJWPAmmUJDco8zKpUGrykAIO6la/BNMLFWptq+myo6qh6WxIKt+dLqsVsqnVJ/ionmSRhTGY8pIz55wy6rXtov8AYZHnpl5z8dwFRp3Dkr+8tM+x3Lg+nbrdvNJ9dLjS9VaSkw3L9DvfbFqnVugI47+UfUzpbH25UW+45wrCRQqzUompVxMf/8QAJBABAAEDBAIBBQAAAAAAAAAAAREAIUEQMVFhkaGBIHHB0eH/2gAIAQEAAT8hnR3lAVRsxu54pDXyIArDuH1hpnmNg9C4EebSkRcnaIYF3thMea2Gr5T5L8bmjesjwHEeGP4VPvGu4rfMgtVqkFS7o35XpSfsU71iO18902gxOaEsBYWIn6FrHFYHlJUBm0S7J+wwdFQUVRC4J6PktT6jgJEWHwdbagb6H9NLVsWVGTCLDq41ek7NIatMC4sEFsuYmKR7xCYefk8Ioqmsgd2Xa//aAAwDAQACAAMAAAAQwe0eu0kH8k8gkn2//8QAHxEBAQACAgMBAQEAAAAAAAAAAREhMQBBUWFxEIEg/9oACAEDAQE/EF075JkFvIOhK6SMpgSGFY32Cy7UgtHyuhQiFyiegioCnoHUy7xcJ048zzzxNXsg5fGy09kXjCDBGMPCDY6vq3gHaIw5iMoUoCbp8UVF60KHrDZWn3wgI2BTEqIGHZyUnLN0WAJCJ0LSTIrv/ADlPlMhN3VJ/vMk1nMuaHpATuDc5UEFUxoBJrTXatLlqTRKIx0OsH9BBKKsV1czpv8AP15uYMqwYT2EPD+6olXxJzCe6NEQsrwFJS8M5FChNGu5jpOnNO3JKv0SrKyuKzn/xAAlEQEAAgAFBAIDAQAAAAAAAAABESEAMVFhcRBBobGBkSDh8PH/2gAIAQIBAT8QLMxSwA21nu5aa4iUaAhkl/04vNwWUhUxCN3m0xtojNIVp3GD+sVlkbNfn+vx0zK5TfbjSf7NmGCT27Jxi+YDKahbK0piwR3KiDuEs6VhLAosCsmoxFlhp+C8xkbw2P3JhsimTZyHv5YhTRdwa8VxgMuTXDZ463aeriyz1Hz1euwrts5pPrq2eBn6xUSrAU8dgjWcTs/e/gg94gpZZGQcBWP/xAAfEAEBAAICAgMBAAAAAAAAAAABESFBADEQgSBRYcH/2gAIAQEAAT8QRN0QnygxgmyODSiy5AoiHlKNolG+dHT19mMAUhcgdawioUjtPxhHILqFMDBVdiI12R0vA0NDozBwoyervAUlsPBy0RayJjVFk7zyySMj/ZcwQYDDBpIIoEjSr9shunwBFQrL38JPCJEYh2qL3y+2ZOGbMoA2l3yh4OKlTrTT+oFA18coNQfkBpGCLog+g9XktIlEkFwNLPI+lODu6Hp5qzygQqJmIJZzJ4ECg3NO/rmSwR9OlbOsqysnP//Z",this.canvas_context.fillText(pr.info_translation(this.viewer.params.lang,"rotate"),106,114),(o=new Image).onload=function(){u.canvas_context.drawImage(o,25,130)},o.src="data:image/jpeg;base64,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",this.canvas_context.textAlign="center","es"===this.viewer.params.lang?(l=pr.info_translation(this.viewer.params.lang,"center_view"),this.canvas_context.fillText(l.split(" ")[0],38,186),this.canvas_context.fillText(l.split(" ")[1],38,198)):this.canvas_context.fillText(pr.info_translation(this.viewer.params.lang,"center_view"),38,190),(s=new Image).onload=function(){u.canvas_context.drawImage(s,95,126)},s.src="data:image/jpeg;base64,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",this.canvas_context.fillText(pr.info_translation(this.viewer.params.lang,"fullscreen"),115,186),this.canvas_context.fillText(pr.info_translation(this.viewer.params.lang,"maxzoom"),115,198)):((a=new Image).onload=function(){u.canvas_context.drawImage(a,48,121)},a.src="data:image/jpeg;base64,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",this.canvas_context.beginPath(),this.canvas_context.fillStyle="#000000",l=this.canvas_context.measureText(pr.info_translation(this.viewer.params.lang,"center_view")),this.canvas_context.fillText(pr.info_translation(this.viewer.params.lang,"center_view"),80-l.width/2,180),(h=new Image).onload=function(){u.canvas_context.drawImage(h,94,54)},h.src="data:image/jpeg;base64,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",this.canvas_context.fillText(pr.info_translation(this.viewer.params.lang,"rotate"),101,114),(c=new Image).onload=function(){u.canvas_context.drawImage(c,28,50)},c.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAAwABoDAREAAhEBAxEB/8QAGgABAQEAAwEAAAAAAAAAAAAABgcFAQMECP/EABsBAAMAAwEBAAAAAAAAAAAAAAQFBgABAwIH/9oADAMBAAIQAxAAAAH6pzJozlqMtpu3XvE7gTpjMtQnqsRwFOn4NQfPbohv9jicQMSgGE5SllSdIWuwX+AQuXhOhhqTe4MPL6485t+vov/EAB8QAAIDAQABBQAAAAAAAAAAAAMEAQIFBgASFBUlNP/aAAgBAQABBQLxlw3vxWtYXmlsL5cW6Uak5WyAtvOeFDhXZ9TrSUO8unuBMpg6DqiDmYQr5NB34pP8nJ2+qKyUA2ZqDAQymLotJNZb19hUjBBOdFeIisf/xAAyEQACAQIFAgIGCwAAAAAAAAABAgMABBESITFRBWEQExRBUmJxwSIkMjNCcoGhseHw/9oACAEDAQE/Aalmk8/MzYMNvZHZvzftpSElQWGB8Lq9itMM+pOwG9HqiQ42/kb8tzz/AHVpexMRbkFGHqP+18Omp57PevuScOwFT6zP8TUsAn6cj/iVQQf0qG/jeJWbciun3NzDBpDmXE7HXfip7R3nJWN8D7utNcXHoxiigIULhi2mmHFQfdL8BXRz9Wy8E/zTSvGrorZVx19odhzm9XGtS4R2LYjD6Pyq3tJWhQ9hU0E9pMbi1GYN9pfmKN7AziV4Gzj3aZbjqZCyLki77mgMNBX/xAAnEQACAgEBBwQDAAAAAAAAAAABAgADERIEECExMnGhEyNBgSIzkf/aAAgBAgEBPwGKi6MAZHn67Q4zw3V0tbyg2Yv7mvxLaWHuZyN20HQBSOQidIivo2gj4Jj0MGIEvrrd+rBiWgJxYf2Cuv1NTPxz8R+oza/2ZgUMQSMnx99ov5XDvLLVDmK6WoK7OGORgpcDSHGO8Br2bipy27//xAAsEAACAQMCBAQGAwAAAAAAAAABAgMABBESIQUiMVETQUJhEBQycqGxcYHR/9oACAEBAAY/AqZ2maGdG0oBvCnZX+78bUhddDkbrnOPgok1PK/0RRjLNT2R4UAshJZJJhk570tm0clpOi4EU3Uj2Pn8Lnico1SyyFUz6EHlU5O58Rv3VtJ0uIbdZY5PMELmoXfZ2QE/zihp4ebm21th425uvamKWl6sTtqw0HMP9pre34ZKkKQ6DJcNpwuO1QfYP1Wj1JK6sOxzVzEkrW9v4nOrbzR59Kd9Xl/dS5QwqtueRjkjl6VbsBsY1P4qS9sE8eOXea2zjJ7ikuJeF3nzMYwCYNxSpNC1lw8HLK/1ye3tQA2Ar//EACMQAQACAgIABgMAAAAAAAAAAAEAESFBMVEQYXGhsfCBwfH/2gAIAQEAAT8hmpNhF5JvlcKs8vOdl78GE+ATEuAJJGbmNPq9QJrLegeAvSJ8rFA6jpLEV3lLUoWOKcvOoo6PzgQWB2CL7buX7KTW14C/0jGawSCt7LU+r6QLfJAa9yCdqEWE4PyLUVMRdIhO3UFzTL9EKXkqzs+/udBeKcPuV/fOFh9i68iNPvoZACgNT//aAAwDAQACAAMAAAAQiUCE8slBNdny/8QAJREBAAEDAwIHAQAAAAAAAAAAAREAMUEhUWEQcYGRobHB4fDR/9oACAEDAQE/EKnEugXJshm6fIqTEBJMw5JzG/QASshK7H9pxYjVAldTqGHum3FGnIC+gYXZ4t+hBZMllQBtz9tNQ3fcandGYggb8/eKdeAL3QWiQ2mIZJ3XoARlhUJwE68MlP1kAEBCclivxNignkd4ZPs04yyOrq6PiOfIpzAR6LKWQuXFGU0U9Dirg0SRLub7/OIn9QyPWOy2ltLT0SRTD1BMH7XAACAr/8QAIxEBAAICAgEDBQAAAAAAAAAAAQARIVExQbEQYaGRwdHh8f/aAAgBAgEBPxCVFgLdtvs+WYQhWb9LpxDlcBKYZnCLrWfBD0Bnk+516PwUF91zDRmjxH7sCdUtTgYFmYYhhMcbhcShWn6lCdVqyyu5858wPtIJ9IMyjG1d6bHeIWk2vI7zzBle3zHht/AxLf4EQdacH5Yqts//xAAdEAEBAQADAQEBAQAAAAAAAAABESEAMUEQYYGR/9oACAEBAAE/EOOpzdfeKmV2jr04Jc5SDFkNKdz4gJpRNmPRfWHhXOFkcWSrtNMsEZnAOUFgAovQ7dYsQX4ZrQq/SkxFO5+taakKqaLzOdEimnfwf2PYPAPg+QAN6q8u+zLnEmu2JMnDPKApFFINitTeWM4G1+mB49+fIibo+O6Kfz/blQFHhXcmyuF1g8fiY9kqBgyrrwxuiEYsXONA0Dge7B7TarlBxeDUAdQdvYulSVW+l5WgDtQo+7VDgE5BoAwA5//Z",this.canvas_context.fillText(pr.info_translation(this.viewer.params.lang,"zoom_in_out"),6,114))}},{key:"open",value:function(){var e,t,i,n,r=this;if(!this.opened){for(this.dialog_content||(this.dialog_content=document.createElement("p"),this.dialog_content.className="orbitvu-viewer-infobox",this.canvas=document.createElement("canvas"),this.canvas.width=160,this.canvas.height=236,this.dialog_content.appendChild(this.canvas),(e=document.createElement("p")).innerHTML="<div>ORBITVU VIEWER "+this.TYPE+" v."+this.VERSION+"</div>"+this.LICENSED_FOR,e.style.position="absolute",e.style.left="0",e.style.right="0",e.style.top="208px",e.style.lineHeight="12px",e.style.fontSize="8px",e.style.textAlign="center",e.style.color="#ffffff",e.style.fontFamily="sans-serif",e.style.marginTop="auto",e.style.marginBottom="auto",e.style.marginLeft="auto",e.style.marginRight="auto",this.dialog_content.appendChild(e),this.canvas_context=this.canvas.getContext("2d"),this.render_info_popup(!0)),e=function(){for(var e,t=r.about.dialog.getElementsByTagName("a"),i=0;i<t.length;i++)e=t[i],r.viewer.utils.remove_button_click_handler(e,r.viewer.utils.do_nothing_handler);r.opened=!1,r.viewer.dispatchEvent("info_dialog_closed"),r.close_callback&&r.close_callback()},this.about=new wr(this.container,this.dialog_content,this.extra_css,e),this.viewer.dispatchEvent("info_dialog_opened"),t=this.about.dialog.getElementsByTagName("a"),i=0;i<t.length;i++)n=t[i],this.viewer.utils.add_button_click_handler(n,this.viewer.utils.do_nothing_handler,!0);this.opened=!0,this.open_callback&&this.open_callback()}}},{key:"close",value:function(){this.about&&this.opened&&this.about.destroy()}}]),fo=Uo,function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=gr()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(Ar.a||function(e,t){return e.__proto__=t,e})(e,t)}(Fo,(c(mo.prototype,[{key:"handle_tooltip_on_action",value:function(){this.tooltip_timeout&&(window.clearTimeout(this.tooltip_timeout),this.tooltip_timeout=null),self.tooltip_hide_timeout&&(window.clearTimeout(self.tooltip_hide_timeout),self.tooltip_hide_timeout=null),this.button.classList.remove("hovered")}},{key:"set_button_content",value:function(e){this.button.innerHTML=e+'<span class="ovbuttonbefore"></span><span class="ovbuttonafter" style="visibility: hidden;"></span>'}},{key:"colorize_tooltip",value:function(e){var t=this.button.getElementsByClassName("ovbuttonafter");0<t.length&&(t[0].style.backgroundColor="#"+e.gui_background.substr(0,6),t[0].style.color="#"+e.gui_foreground.substr(0,6)),0<(t=this.button.getElementsByClassName("ovbuttonbefore")).length&&(t[0].style.borderTopColor="#"+e.gui_background.substr(0,6))}},{key:"set_label",value:function(e){var t=this.button.getElementsByClassName("ovbuttonafter");0<t.length&&(t[0].innerHTML=e)}},{key:"setup_svg_ids",value:function(e,t,i){var n,r,o;for(n in i)i.hasOwnProperty(n)&&(r=i[n],o=RegExp(r,"g"),e=e.replace(o,r+t));return e}},{key:"setup_tooltip",value:function(e){var i=this;this.button.className+=" button-hint",(e=this.viewer.ovlang.trans(e))&&(this.set_label(e),this.tooltip_timeout=null,this.handle_mouseover=function(e){var t;~i.button.className.indexOf("hovered")||((t=i.button.getElementsByClassName("ovbuttonafter"))&&(t[0].style.visibility=null),i.tooltip_timeout=window.setTimeout(function(){i.tooltip_timeout=null,i.viewer&&!i.viewer.is_destroyed&&(i.button.classList.add("hovered"),i.touchend_event&&(i.tooltip_hide_timeout=window.setTimeout(function(){i.handle_tooltip_on_action()},1e3)))},200))},this.handle_mouseout=function(){i.handle_tooltip_on_action()},this.button.addEventListener("mouseover",this.handle_mouseover,!1),this.button.addEventListener("mouseout",this.handle_mouseout,!1))}},{key:"destroy_tooltip",value:function(){this.handle_mouseout&&(this.button.removeEventListener("mouseover",this.handle_mouseover,!1),this.button.removeEventListener("mouseout",this.handle_mouseout,!1),this.handle_mouseout=null,this.handle_mouseover=null)}},{key:"do_nothing_handler",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"attach_handlers",value:function(t,i,n,e,r){var o=this;if(this.touchend_handler=function(e){n(e),e.pointerType&&"touch"===e.pointerType&&(o.touchend_event=!0,o.touchend_event_timeout=window.setTimeout(function(){o.touchend_event=!1},400))},window.PointerEvent)i&&t.addEventListener("pointerdown",i,!1),n&&t.addEventListener("pointerup",this.touchend_handler,!1),e&&t.addEventListener("pointerout",e,!1),r&&t.addEventListener("pointermove",r,!1);else if(window.MSPointerEvent)i&&t.addEventListener("MSPointerDown",i,!1),n&&t.addEventListener("MSPointerUp",this.touchend_handler,!1),e&&t.addEventListener("MSPointerOut",e,!1),r&&t.addEventListener("MSPointerMove",r,!1);else{if(t.addEventListener("click",this.do_nothing_handler,!1),i){t.addEventListener("mousedown",i,!1),this.sub_touchstart_callback=function(e){e.target.removeEventListener("mousedown",i,!1),t.removeEventListener("mousedown",i,!1),i(e),t.addEventListener("mousedown",i,!1)};try{t.addEventListener("touchstart",this.sub_touchstart_callback,!1)}catch(t){}}if(n){this.sub_touchend_callback=function(e){e.target.removeEventListener("mouseup",n,!1),t.removeEventListener("mouseup",n,!1),n(e),t.addEventListener("mouseup",n,!1),o.touchend_event=!0,o.touchend_event_timeout=window.setTimeout(function(){o.touchend_event=!1},400)},t.addEventListener("mouseup",n,!1);try{t.addEventListener("touchend",this.sub_touchend_callback,!1)}catch(t){}}if(e&&t.addEventListener("mouseout",e,!1),r){this.sub_touchmove_callback=function(e){e.target.removeEventListener("mousemove",r,!1),t.removeEventListener("mousemove",r,!1),r(e),t.addEventListener("mousemove",r,!1)},t.addEventListener("mousemove",r,!1);try{t.addEventListener("touchmove",this.sub_touchmove_callback,!1)}catch(t){}}}t.addEventListener("dblclick",function(e){return e.preventDefault(),e.stopPropagation(),!1},!1)}},{key:"detach_handlers",value:function(e,t,i,n,r){if(window.PointerEvent)t&&e.removeEventListener("pointerdown",t,!1),i&&e.removeEventListener("pointerup",this.touchend_handler,!1),n&&e.removeEventListener("pointerout",n,!1),r&&e.removeEventListener("pointermove",r,!1);else if(window.MSPointerEvent)t&&e.removeEventListener("MSPointerDown",t,!1),i&&e.removeEventListener("MSPointerUp",this.touchend_handler,!1),n&&e.removeEventListener("MSPointerOut",n,!1),r&&e.removeEventListener("MSPointerMove",r,!1);else{if(e.removeEventListener("click",this.do_nothing_handler,!1),t){e.removeEventListener("mousedown",t,!1);try{e.removeEventListener("touchstart",this.sub_touchstart_callback,!1)}catch(e){}}if(i){e.removeEventListener("mouseup",i,!1);try{e.removeEventListener("touchend",this.sub_touchend_callback,!1)}catch(e){}}if(n&&e.removeEventListener("mouseout",n,!1),r){e.removeEventListener("mousemove",r,!1);try{e.removeEventListener("touchmove",this.sub_touchmove_callback,!1)}catch(e){}}}this.sub_touchstart_callback=null,this.sub_touchend_callback=null,this.sub_touchmove_callback=null}}]),_o=mo)),u(Fo.prototype,[{key:"close",value:function(){this.info_window&&this.info_window.close()}},{key:"destroy",value:function(){this.close(),this.viewer.utils.remove_button_click_handler(this.info,this.onMouseDown),this.destroy_tooltip(),this.container&&this.container.contains(this.info)&&this.container.removeChild(this.info),this.info_window=null,this.viewer=null,this.container=null}}]),yr=Fo,function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=gr()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(Ar.a||function(e,t){return e.__proto__=t,e})(e,t)}(So,_o),d(So.prototype,[{key:"destroy",value:function(){this.detach_handlers(this.zoom_out,this.onMouseDown,this.onMouseUp,this.onMouseUp),this.destroy_tooltip(),this.viewer=null,this.container&&this.container.contains(this.zoom_out)&&this.container.removeChild(this.zoom_out),this.button=null,this.zoom_out=null,this.container=null}},{key:"zoomOut",value:function(){this.viewer.scale!=this.viewer.min_scale&&this.viewer.scaleDown()}},{key:"stop",value:function(){this.interval_dict.intervalId&&(clearInterval(this.interval_dict.intervalId),this.interval_dict.intervalId=null),this.interval_dict.timeoutId&&(clearTimeout(this.interval_dict.timeoutId),this.interval_dict.timeoutId=null),this.viewer.utils.colorize_svg(this.svg_element,this.viewer.params.gui_foreground,!1,this.paths_fill,this.paths_stroke)}},{key:"hide",value:function(){this.zoom_out&&(this.zoom_out.style.display="none")}},{key:"show",value:function(){this.zoom_out&&(this.zoom_out.style.display="inline-block")}}]),br=So,function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=gr()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(Ar.a||function(e,t){return e.__proto__=t,e})(e,t)}(zo,_o),m(zo.prototype,[{key:"destroy",value:function(){this.detach_handlers(this.zoom_in,this.onMouseDown,this.onMouseUp,this.onMouseUp),this.destroy_tooltip(),this.viewer=null,this.container&&this.container.contains(this.zoom_in)&&this.container.removeChild(this.zoom_in),this.button=null,this.zoom_in=null,this.container=null}},{key:"zoomIn",value:function(){this.viewer.scale!=this.viewer.max_scale&&this.viewer.scaleUp()}},{key:"hide",value:function(){this.zoom_in&&(this.zoom_in.style.display="none")}},{key:"show",value:function(){this.zoom_in&&(this.zoom_in.style.display="inline-block")}},{key:"stop",value:function(){this.interval_dict.intervalId&&(clearInterval(this.interval_dict.intervalId),this.interval_dict.intervalId=null),this.interval_dict.timeoutId&&(clearTimeout(this.interval_dict.timeoutId),this.interval_dict.timeoutId=null),this.viewer.utils.colorize_svg(this.svg_element,this.viewer.params.gui_foreground,!1,this.paths_fill,this.paths_stroke)}}]),Er=zo,function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=gr()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(Ar.a||function(e,t){return e.__proto__=t,e})(e,t)}(Do,_o),A(Do.prototype,[{key:"destroy",value:function(){this.viewer.utils.remove_button_click_handler(this.wrapper,this.onMouseDown),this.destroy_tooltip(),this.viewer=null,this.container&&this.container.contains(this.wrapper)&&this.container.removeChild(this.wrapper),this.button=null,this.wrapper=null,this.container=null}},{key:"on",value:function(){this.viewer.utils.colorize_svg(this.svg_element,this.viewer.params.gui_foreground_active,!1,this.paths_fill,this.paths_stroke)}},{key:"off",value:function(){this.viewer.utils.colorize_svg(this.svg_element,this.viewer.params.gui_foreground,!1,this.paths_fill,this.paths_stroke)}}]),xr=Do,function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=gr()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(Ar.a||function(e,t){return e.__proto__=t,e})(e,t)}(Io,_o),E(Io.prototype,[{key:"refresh_dragger",value:function(){var e;this.has_dragger&&(e=this.wrapper.getBoundingClientRect().width,this.button_width=this.button.getBoundingClientRect().width,this.panel_width=e-this.button_width,this.rotate_handler(this.current_hangle))}},{key:"setup_handlers",value:function(){var r=this;this.onMouseDown=function(e){return r.viewer.is_loaded&&(r.viewer.dispatchEvent("interaction_start"),r.viewer.dispatchEvent("activity_start"),r.handle_tooltip_on_action(),r.is_rotate?(r.viewer.set_forced_mode("drag"),r.switch_mode("drag")):(r.viewer.set_forced_mode("rotate"),r.switch_mode("rotate")),r.viewer.mode==r.viewer.MODE_AUTOROTATE&&(r.is_rotate?r.viewer.changeMode(r.viewer.MODE_ROTATE):r.viewer.changeMode(r.viewer.MODE_DRAG)),e.preventDefault(),e.stopPropagation()),!1},this.on_mousemove=function(e){var t,i,n=r.getRelativeX(e)-r.diff;if(n<0&&(n=0),n>r.panel_width&&(n=r.panel_width),r.pos=n,r.button.style.transform="translateX(".concat(n,"px"),r.dragger1.style.transform="scaleX("+n/(r.panel_width+r.button_width)+") translateY(-50%)",r.dragger2.style.transform="scaleX("+(r.panel_width-n)/(r.panel_width+r.button_width)+") translateY(-50%)",i=r.viewer.get_transformed_value("hangle"),t=r.viewer.get_transformed_value("vangle"),(n=hr()(n*(r.viewer.frames_no-1)/r.panel_width))!=i)if(r.viewer.is_partial_load)if(~r.viewer.pl_get_loaded_hangles(null).indexOf(n))r.viewer.rotateTo(n,t);else{if(null===r.frame_no)return void(r.frame_no=n);i=r.viewer.pl_find_loaded_frame(n),r.frame_no<=n?r.viewer.rotateTo(i.prev,t):r.viewer.rotateTo(i.next,t)}else r.viewer.rotateTo(n,t);e.preventDefault(),e.stopPropagation()},this.on_mousedown_drag=function(e){return r.viewer.mode==r.viewer.MODE_AUTOROTATE&&r.viewer.changeMode(r.viewer.MODE_ROTATE),r.viewer.events.removeEvents(),r.viewer.dispatchEvent("interaction_start"),r.viewer.dispatchEvent("activity_start"),r.attach_handlers(r.viewer.container,null,r.on_mouseup,null,r.on_mousemove),r.pos?r.diff=r.getRelativeX(e)-hr()(r.pos):r.diff=r.getRelativeX(e),r.is_dragging=!0,e.preventDefault(),e.stopPropagation(),!1},this.on_mouseup=function(e){r.detach_handlers(r.viewer.container,null,r.on_mouseup,null,r.on_mousemove),r.viewer.events.attachEvents(),r.is_dragging=!1,e.preventDefault(),e.stopPropagation()}}},{key:"detach_mousemove",value:function(e,t){window.PointerEvent?e.removeEventListener("pointermove",t,!1):window.MSPointerEvent?e.removeEventListener("MSPointerMove",t,!1):e.removeEventListener("mousemove",t,!1)}},{key:"render",value:function(){var e,t=this.button.children[0];"function"==typeof t.getElementById&&(e=t.getElementById("path_move"+this.container_id),t=t.getElementById("path_rotate"+this.container_id),this.has_dragger?(t.style.opacity="1",e.style.opacity="0",this.set_label("")):this.is_rotate?(t.style.opacity="0",e.style.opacity="1",this.set_label(this.viewer.ovlang.trans("move"))):(t.style.opacity="1",e.style.opacity="0",this.set_label(this.viewer.ovlang.trans("manualrotation"))))}},{key:"destroy",value:function(){this.has_dragger?(this.detach_handlers(this.button,this.on_mousedown_drag,null,null,this.on_mousemove),this.viewer.removeListener("rotate",this.rotate_handler)):this.viewer.utils.remove_button_click_handler(this.wrapper,this.onMouseDown),this.rotate_handler=null,this.destroy_tooltip(),this.viewer=null,this.container&&this.container.contains(this.wrapper)&&this.container.removeChild(this.wrapper),this.button=null,this.wrapper=null,this.container=null}},{key:"switch_mode",value:function(e){var t="rotate"===e;this.is_rotate!=t&&(this.is_rotate=t,this.render(),this.viewer.dispatchEvent("mode_changed",e))}},{key:"getRelativeX",value:function(e){var t=this.wrapper.getBoundingClientRect(),i=e.clientX;return e.touches&&(i=e.touches[0].clientX),i-t.left}},{key:"getRelativeY",value:function(e){var t=this.wrapper.getBoundingClientRect();return e.clientY-t.top}}]),kr=Io,function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=gr()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(Ar.a||function(e,t){return e.__proto__=t,e})(e,t)}(Co,_o),B(Co.prototype,[{key:"remove",value:function(){this.container.removeChild(this.fullscreen)}},{key:"destroy",value:function(){this.viewer.utils.remove_button_click_handler(this.fullscreen,this.onMouseDown),this.destroy_tooltip(),this.container&&this.container.contains(this.fullscreen)&&this.container.removeChild(this.fullscreen),this.viewer=null,this.container=null}},{key:"on",value:function(){this.viewer.utils.colorize_svg(this.svg_element,this.viewer.params.gui_foreground_active,!1,this.paths_fill,this.paths_stroke)}},{key:"off",value:function(){this.viewer.utils.colorize_svg(this.svg_element,this.viewer.params.gui_foreground,!1,this.paths_fill,this.paths_stroke)}},{key:"hide",value:function(){this.fullscreen.style.display="none"}},{key:"show",value:function(){this.fullscreen.style.display=this.display_style}}]),Br=Co,M(Qo.prototype,[{key:"show_zoom_buttons",value:function(){this.zoomin_button&&this.zoomin_button.show(),this.zoomout_button&&this.zoomout_button.show()}},{key:"hide_zoom_buttons",value:function(){this.zoomin_button&&this.zoomin_button.hide(),this.zoomout_button&&this.zoomout_button.hide()}},{key:"handle_resize",value:function(){this.drag_rotate_button&&this.drag_rotate_button.refresh_dragger()}},{key:"destroy",value:function(){this.zoomin_button&&this.zoomin_button.destroy(),this.zoomout_button&&this.zoomout_button.destroy(),this.fullscreen_button&&this.fullscreen_button.destroy(),this.autorotate_button&&this.autorotate_button.destroy(),this.drag_rotate_button&&this.drag_rotate_button.destroy(),delete this.zoomin_button,delete this.zoomout_button,delete this.fullscreen_button}},{key:"hide_fullscreen",value:function(){this.fullscreen_button&&this.fullscreen_button.hide()}},{key:"show_fullscreen",value:function(){this.fullscreen_button&&this.fullscreen_button.show()}},{key:"fullscreen_on",value:function(){this.fullscreen_button&&(this.fullscreen_button.show(),this.fullscreen_button.on())}},{key:"fullscreen_off",value:function(){this.fullscreen_button&&(this.fullscreen_button.show(),this.fullscreen_button.off())}},{key:"autorotate_on",value:function(){this.autorotate_button&&this.autorotate_button.on()}},{key:"autorotate_off",value:function(){this.autorotate_button&&this.autorotate_button.off()}},{key:"switch_drag_rotate",value:function(e){this.drag_rotate_button&&this.drag_rotate_button.switch_mode(e)}},{key:"stop",value:function(){this.zoomin_button&&this.zoomin_button.stop(),this.zoomout_button&&this.zoomout_button.stop()}}]),Tr=Qo,function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=gr()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(Ar.a||function(e,t){return e.__proto__=t,e})(e,t)}(Ro,fo),R(Ro.prototype,[{key:"open",value:function(){var e,t=this;this.opened||(this.dialog_content||(this.dialog_content=document.createElement("p"),this.dialog_content.className="orbitvu-viewer-infobox",this.canvas=document.createElement("canvas"),this.canvas.width=160,this.canvas.height=236,this.dialog_content.appendChild(this.canvas),this.canvas_context=this.canvas.getContext("2d"),this.render_info_popup(!1)),e=function(){t.opened=!1,t.viewer.dispatchEvent("initial_info_dialog_closed"),t.close_callback&&t.close_callback()},this.about=new wr(this.container,this.dialog_content,this.extra_css,e),this.viewer.dispatchEvent("initial_info_dialog_opened"),this.opened=!0,this.open_callback&&this.open_callback())}}]),Mr=Ro,Or=function t(e,i){(function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this),this.container=e,this.brandingLogo=e.appendChild(document.createElement("a")),this.brandingLogo.className="branding-logo zindexer";e=document.createElement("img");e.src=i.params.logo_src,this.brandingLogo.appendChild(e),i.params.logo_url&&(this.onMouseDown=function(e){document.location.href=i.params.logo_url,e.preventDefault(),e.stopPropagation()},this.brandingLogo.target="_blank",this.brandingLogo.href=i.params.logo_url,this.brandingLogo.addEventListener("mousedown",i.utils.stopEventPropagation,!1),this.brandingLogo.addEventListener("mouseup",i.utils.stopEventPropagation,!1),this.brandingLogo.addEventListener("touchstart",i.utils.stopEventPropagation,!0),this.brandingLogo.addEventListener("touchmove",i.utils.stopEventPropagation,!0),this.brandingLogo.addEventListener("touchend",i.utils.stopEventPropagation,!0))},C(Oo.prototype,[{key:"destroy",value:function(){this.brandingButton.removeEventListener("mouseover",this.onMouseOver,!1),this.brandingButton.removeEventListener("mouseout",this.onMouseOut,!1),this.brandingButton.removeEventListener("mousedown",this.orbitvu_viewer.utils.stopEventPropagation,!1),this.brandingButton.removeEventListener("mouseup",this.orbitvu_viewer.utils.stopEventPropagation,!1),this.brandingButton.removeEventListener("touchstart",this.orbitvu_viewer.utils.stopEventPropagation,!0),this.brandingButton.removeEventListener("touchmove",this.orbitvu_viewer.utils.stopEventPropagation,!0),this.brandingButton.removeEventListener("touchend",this.orbitvu_viewer.utils.stopEventPropagation,!0)}}]),Rr=Oo,I(Mo.prototype,[{key:"resize",value:function(){var e=+this.viewer.height,t=+this.viewer.width,e=e;t<e&&(e=t),e=25*e/100,this.el_hint.style.width=e+"px",this.el_hint.style.height=e+"px"}},{key:"hide",value:function(){var e=this;this.is_enabled&&(this.viewer.dimensions_changed&&(this.timeout_time=400),""+this.el_hint.style.opacity!="0"&&(this.el_hint.style.opacity="0"),this.show_timeout&&window.clearTimeout(this.show_timeout),this.show_timeout=window.setTimeout(function(){e.show()},this.timeout_time))}},{key:"show",value:function(){this.is_enabled&&(this.resize(),this.viewer.min_scale>=this.viewer.scale&&(this.el_hint.style.opacity="1",this.show_timeout=null,this.timeout_time=5e3))}},{key:"destroy",value:function(){this.show_timeout&&window.clearTimeout(this.show_timeout),this.show_timeout=null,this.container.removeChild(this.el_hint),this.viewer=null,this.container=null,this.el_hint=null}}]),Qr=Mo,fo=i(68),Cr=i.n(fo),Ir=[["mousedown",!1],["mouseup",!1],["touchstart",!0],["touchmove",!0],["touchend",!0],["MSPointerDown",!1]],Dr=function e(t,i){var n=this;z(this,e),this.element=t.appendChild(document.createElement("div")),this.element.className="ov-social-share-button ov-social-share-main-button zindexer",this.button=document.createElement("div"),this.button.innerHTML='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg id="svg17539" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="15.078" width="21.005" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><metadata id="metadata17544"><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/><dc:title/></cc:Work></rdf:RDF></metadata><g id="layer1" transform="translate(0.50000003,-1037.7842)"><g id="g7724" transform="matrix(0.74074074,0,0,-0.74074074,14.818235,1048.6488)"><path id="path7726" fill-rule="nonzero" fill="#231f20" d="m0,0c0.068624-1.889-1.9374-3.4429-3.7498-2.9056-1.8357,0.40593-2.8426,2.7147-1.8882,4.3356,0.83594,1.6792,3.3121,2.1011,4.6551,0.79066,0.62112-0.5587,0.98821-1.385,0.9829-2.2207z"/></g><g id="g7728" transform="matrix(0.74074074,0,0,-0.74074074,9.6330493,1043.4636)"><path id="path7730" fill-rule="nonzero" fill="#231f20" d="m0,0c0.068624-1.889-1.9374-3.4429-3.7498-2.9056-1.8357,0.40593-2.8426,2.7147-1.8882,4.3356,0.83594,1.6792,3.3121,2.1011,4.6551,0.79066,0.62112-0.5587,0.98821-1.385,0.9829-2.2207z"/></g><g id="g7732" transform="matrix(0.74074074,0,0,-0.74074074,4.4478641,1050.1303)"><path id="path7734" fill-rule="nonzero" fill="#231f20" d="m0,0c0.068624-1.889-1.9374-3.4429-3.7498-2.9056-1.8357,0.40593-2.8426,2.7147-1.8882,4.3356,0.83594,1.6792,3.3121,2.1011,4.6551,0.79066,0.62112-0.5587,0.98821-1.385,0.9829-2.2207z"/></g><path id="path7738" d="m20.003,1040.5c0.05083,1.3993-1.4351,2.5503-2.7776,2.1523-1.3598-0.3007-2.1056-2.0109-1.3986-3.2116,0.61922-1.2439,2.4534-1.5564,3.4482-0.5857,0.46002,0.4139,0.73194,1.0259,0.72801,1.645z" fill-rule="nonzero" fill="#231f20"/><g id="g7740" transform="matrix(0.74074074,0,0,-0.74074074,2.2256419,1050.2236)"><path id="path7742" stroke-linejoin="miter" d="m0,0c2.3333,3.042,4.6667,6.084,7,9.126,2.3333-2.3333,4.6667-4.6667,7-7,2.3333,3.6667,4.6667,7.3333,7,11" stroke="#231f20" stroke-linecap="butt" stroke-miterlimit="4" stroke-dasharray="none" stroke-width="2" fill="none"/></g></g></svg>',this.button.style.styleFloat=this.button.style.cssFloat="right",this.viewer=i,this.paths_fill=["path7738","path7730","path7726","path7734"],this.paths_stroke=["path7742"],this.viewer.utils.colorize_svg(this.button.children[0],this.viewer.params.gui_foreground,!1,this.paths_fill,this.paths_stroke),this.element.addEventListener("mouseout",function(){n.viewer.utils.colorize_svg(n.button.children[0],n.viewer.params.gui_foreground,!1,n.paths_fill,n.paths_stroke)}),this.element.addEventListener("mouseover",function(){n.viewer.utils.colorize_svg(n.button.children[0],n.viewer.params.gui_foreground_active,!1,n.paths_fill,n.paths_stroke)}),this.element.appendChild(this.button)},zr=function e(t,i){var n=this;z(this,e),this.viewer=i,this.element=t.appendChild(document.createElement("a")),this.element.className="ov-social-share-button ov-social-share-facebook zindexer",t=(t=i.params.social_url)||encodeURIComponent(window.location.href),this.url="http://www.facebook.com/sharer/sharer.php?u="+t,this.element.href=this.url,this.element.target="_blank",this.button=document.createElement("div"),this.button.innerHTML='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg id="svg10289" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="22.427" width="11.391" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><metadata id="metadata10294"><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/><dc:title/></cc:Work></rdf:RDF></metadata><g id="layer1" transform="translate(-374.07938,-521.64965)"><path id="path10306" fill="#000" d="m377.23,538.53,0-5.0508-1.3258,0-1.3258,0,0-1.7678,0-1.7678,1.3097,0,1.3097,0,0.0617-2.115c0.0744-2.5529,0.26724-3.2066,1.2404-4.2057,1.1296-1.1597,2.6958-1.5976,5.1384-1.4368l1.2943,0.0852-0.00076,0.5847c-0.00041,0.32158-0.0373,1.0535-0.0819,1.6264l-0.0811,1.0417h-1.3112c-1.5036,0-2.1197,0.18545-2.314,0.69659-0.069,0.1815-0.12546,1.0934-0.12546,2.0264v1.6964h1.9759,1.9759l-0.0811,1.0417c-0.0446,0.57294-0.0814,1.3684-0.0818,1.7678l-0.00076,0.72604h-1.894-1.894v5.0508,5.0508h-1.894-1.894v-5.0508z"/></g></svg>',S(this.element,i),this.button.style.position="absolute",this.button.style.top="2.3px",this.button.style.left="7.8px",this.paths_fill=["path10306"],this.paths_stroke=[],this.viewer.utils.colorize_svg(this.button.children[0],this.viewer.params.gui_foreground,!1,this.paths_fill,this.paths_stroke),this.element.addEventListener("mouseout",function(){n.viewer.utils.colorize_svg(n.button.children[0],n.viewer.params.gui_foreground,!1,n.paths_fill,n.paths_stroke)}),this.element.addEventListener("mouseover",function(){n.viewer.utils.colorize_svg(n.button.children[0],n.viewer.params.gui_foreground_active,!1,n.paths_fill,n.paths_stroke)}),this.element.appendChild(this.button)},Sr=function e(t,i){var n=this;z(this,e),this.viewer=i,this.element=t.appendChild(document.createElement("a")),this.element.className="ov-social-share-button ov-social-share-twitter zindexer",t=(t=i.params.social_url)||encodeURIComponent(window.location.href),this.url="http://twitter.com/home?status=See this: "+t,this.element.href=this.url,this.element.target="_blank",this.button=document.createElement("div"),this.button.innerHTML='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\x3c!-- Created with Inkscape (http://www.inkscape.org/) --\x3e<svg id="svg10203" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="19.617" width="14.872" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><metadata id="metadata10208"><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/><dc:title/></cc:Work></rdf:RDF></metadata><g id="layer1" transform="translate(-239.03503,-590.48953)"><path id="path10250" fill="#000" d="m245.55,609.58c-0.0982-0.0205-0.38988-0.0801-0.64814-0.13233-1.922-0.38881-3.929-2.0382-4.7994-3.9442-0.53559-1.1728-0.52622-1.054-0.55789-7.0744-0.0325-6.1781-0.0512-5.9653,0.58784-6.6727,0.41345-0.45763,0.91041-0.7031,1.5388-0.76008,0.89489-0.0811,1.8421,0.50869,2.2566,1.4053,0.16573,0.35842,0.18966,0.61081,0.22171,2.3382l0.0359,1.9364,3.5394,0.0278c3.0122,0.0237,3.5859,0.0491,3.8519,0.17055,1.0973,0.50112,1.6357,1.789,1.1722,2.8037-0.21349,0.46739-0.8854,1.0776-1.3191,1.1981-0.21719,0.0603-1.6238,0.0957-3.8124,0.0961l-3.4682,0.0005,0.0316,1.2723c0.0297,1.1954,0.0457,1.2939,0.26555,1.6295,0.42919,0.65508,0.89743,0.97137,1.6417,1.109,0.29338,0.0542,1.6371,0.0973,3.072,0.0983,2.8639,0.002,2.9566,0.0194,3.5938,0.66488,0.50101,0.50761,0.65379,0.88616,0.64975,1.61-0.004,0.71324-0.19163,1.1597-0.68065,1.6195-0.66,0.62053-0.60088,0.61117-3.9587,0.62681-1.6696,0.008-3.1161-0.003-3.2143-0.0232z"/></g></svg>',this.button.style.position="absolute",this.button.style.top="3.7px",this.button.style.left="6.0px",S(this.element,i),this.paths_fill=["path10250"],this.paths_stroke=[],this.viewer.utils.colorize_svg(this.button.children[0],this.viewer.params.gui_foreground,!1,this.paths_fill,this.paths_stroke),this.element.addEventListener("mouseout",function(){n.viewer.utils.colorize_svg(n.button.children[0],n.viewer.params.gui_foreground,!1,n.paths_fill,n.paths_stroke)}),this.element.addEventListener("mouseover",function(){n.viewer.utils.colorize_svg(n.button.children[0],n.viewer.params.gui_foreground_active,!1,n.paths_fill,n.paths_stroke)}),this.element.appendChild(this.button)},Fr=function e(t,i){var n=this;z(this,e),this.viewer=i,this.element=t.appendChild(document.createElement("a")),this.element.className="ov-social-share-button ov-social-share-email zindexer",t=(t=i.params.social_url)||encodeURIComponent(window.location.href),this.url="mailto:friend@email?subject=See this&body="+t,this.element.href=this.url,this.element.target="_blank",this.button=document.createElement("div"),this.button.innerHTML='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg id="svg17677" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="13.334" width="20" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><metadata id="metadata17682"><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/><dc:title/></cc:Work></rdf:RDF></metadata><g id="layer1" transform="translate(-359.99969,-529.029)"><g id="g5782" transform="matrix(0.83331611,0,0,-0.83331611,369.9999,536.81967)"><path id="path5784" fill-rule="nonzero" fill="#000" d="M0,0,11.178,9.313c-0.058,0.011-0.113,0.036-0.178,0.036h-22c-0.06,0-0.115-0.025-0.176-0.036l11.176-9.313z"/></g><g id="g5786" transform="matrix(0.83331611,0,0,-0.83331611,379.99969,529.86265)"><path id="path5788" fill-rule="nonzero" fill="#000" d="m0,0c0,0.105-0.029,0.202-0.059,0.298l-7.925-6.604,7.937-7.937c0.021,0.08,0.047,0.157,0.047,0.243v14z"/></g><g id="g5790" transform="matrix(0.83331611,0,0,-0.83331611,360.05219,529.61366)"><path id="path5792" fill-rule="nonzero" fill="#000" d="m0,0c-0.03-0.096-0.063-0.192-0.063-0.299v-14c0-0.087,0.03-0.164,0.051-0.244l7.938,7.938-7.926,6.605z"/></g><g id="g5794" transform="matrix(0.83331611,0,0,-0.83331611,372.70409,535.65353)"><path id="path5796" fill-rule="nonzero" fill="#000" d="m0,0-2.925-2.435c-0.092-0.078-0.205-0.116-0.32-0.116-0.113,0-0.227,0.038-0.318,0.116l-2.922,2.434-8.002-8c0.08-0.021,0.158-0.05,0.242-0.05h22c0.088,0,0.166,0.029,0.246,0.05l-8.001,8.001z"/></g></g></svg>',this.button.style.position="absolute",this.button.style.left="3px",this.button.style.top="5px",this.paths_stroke=[],this.paths_fill=["path5784","path5788","path5792","path5796"],S(this.element,i),this.viewer.utils.colorize_svg(this.button.children[0],this.viewer.params.gui_foreground,!1,this.paths_fill,this.paths_stroke),this.element.addEventListener("mouseout",function(){n.viewer.utils.colorize_svg(n.button.children[0],n.viewer.params.gui_foreground,!1,n.paths_fill,n.paths_stroke)}),this.element.addEventListener("mouseover",function(){n.viewer.utils.colorize_svg(n.button.children[0],n.viewer.params.gui_foreground_active,!1,n.paths_fill,n.paths_stroke)}),this.element.appendChild(this.button)},D(To.prototype,[{key:"colorize",value:function(e){e.style.backgroundColor=this.orbitvu_viewer.hexToRgb(this.orbitvu_viewer.params.gui_background);try{e.style.backgroundColor=this.orbitvu_viewer.hexToRgba(this.orbitvu_viewer.params.gui_background)}catch(e){}}}]),Ur=To,F(Bo.prototype,[{key:"destroy",value:function(){var e=this;this.loader_container&&(window.setTimeout(function(){e.loader_container.style.display="none"},300),this.loader_container.style.opacity="0")}},{key:"setText",value:function(e){this.ovvloader_text_percent.innerHTML=e}},{key:"hide",value:function(){this.loader_container.style.opacity="0"}},{key:"show",value:function(){this.loader_container.style.display="block",this.loader_container.style.opacity="1"}}]),Lr=Bo,U(ko.prototype,[{key:"hide",value:function(){this.loader_container.style.display="none",this.is_loading=!1}},{key:"show",value:function(){this.is_loading&&(this.loader_container.style.display="block")}},{key:"isLoading",value:function(){return this.is_loading}},{key:"setProgress",value:function(e){this.loader_container.style.width=e}}]),Pr=ko,function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=gr()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(Ar.a||function(e,t){return e.__proto__=t,e})(e,t)}(xo,_o),Nr=xo,N(Eo.prototype,[{key:"_load",value:function(t,i){var e,n=this;this.xhr.onload=function(){t(this)},this.xhr.onerror=function(e){n.load_failures+=1,n.load_failures<=self.retry_count?(n.xhr=null,n._load(t,i)):i()},e=this.url,0<this.load_failures&&(e=this.url+"?lf="+this.load_failures),this.xhr.open("GET",e,!0),this.responseType&&(this.xhr.responseType=this.responseType),void 0!==this.headers&&this.headers.length&&this.headers.map(function(e){n.xhr.setRequestHeader(e.name,e.value)}),this.xhr.send()}},{key:"load",value:function(){var i=this;return this.xhr||(this.xhr=new XMLHttpRequest),new dr.a(function(e,t){i._load(e,t)})}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}}]),jr=Eo,j(bo.prototype,[{key:"load",value:function(){var r=this,o=this;return new dr.a(function(i,n){var e=[{name:"Accept",value:"image/*"+(r.webp_support?", image/webp":"")}];new jr(r.url,"arraybuffer",10,e).load().then(function(e){var t=new Blob([e.response]),e=r.target_image||new Image;e.onload=function(e){i(this)},e.onerror=function(e){n()},e.src=o.winURL.createObjectURL(t)}).catch(function(e){var t=new Image;t.onload=function(e){i(this)},t.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})})}}]),qr=bo,q(yo.prototype,[{key:"preload_frame",value:function(n,r){var o=this,s=this.sequence.get_image_url(this.frame_divider*r,this.base_scale,0,0,n);return new dr.a(function(t,i){var e=new qr(s,null,o.webp_support);o.currently_loading+=1,e.load().then(function(e){o.is_destroyed&&i(),--o.currently_loading,t({image_data:e,url:s,vangle:n,hangle:r})},function(e){--o.currently_loading,i(e)})})}},{key:"init_frames_preload",value:function(e,t){this.load_queue=e,this.frame_callback=t}},{key:"preload_frames",value:function(){var e,t=this;if(!this.is_destroyed)for(;(this.currently_loading<8||this.is_partial_load)&&0<this.load_queue.length;)(e=this.load_queue.pop())?e.should_load?this.preload_frame(e.vangle,e.hangle).then(function(e){t.preload_frames(),t.frame_callback(e)},function(e){}):this.frame_callback(e):(this.preload_frames(),this.frame_callback())}},{key:"destroy",value:function(){this.is_destroyed=!0}}]),Gr=yo,G(wo.prototype,[{key:"addTiledScale",value:function(e,t,i,n,r,o,s){var a,l,h,c,u,_={};for(_.cols=i,_.rows=n,_.tile_width=r,_.tile_height=o,_.width=e,_.height=t,_.scale=s,a=e/this.width*1e3,(s=t/this.height*1e3)<(a=a)&&(a=s),_.real_scale=a,_.is_tiled=1<i||1<n,l=Math.round(r),h=Math.round(o),_.is_tiled||(this.max_single_image_width=Math.max(this.max_single_image_width,e),this.max_single_image_height=Math.max(this.max_single_image_height,t)),_.images=Array(i),c=0;c<i;c++)for(_.images[c]=Array(n),u=0;u<n;u++)_.images[c][u]={},_.images[c][u].imageElement=new Image,_.images[c][u].x=l*c,_.images[c][u].y=h*u,_.images[c][u].w=l,_.images[c][u].h=h,_.images[c][u].cc=c,_.images[c][u].rr=u;this.scales[this.scale_no]=_,this.scale_no++}},{key:"sort_by_scale",value:function(){this.scales.sort(function(e,t){return e.scale<t.scale?-1:e.scale>t.scale?1:0})}},{key:"find_optimal_scale_index",value:function(e,t){var i,n,r,o=0;if(void 0===t&&(t=!1),0===e&&t&&(e=9999),i=(e*=this.devicePixelRatio)+"_"+t,this._optimal_scale_cache[i])return this._optimal_scale_cache[i];for(n=0,r=this.scales.length;n<r;n++)if(t){if(1==+this.scales[n].cols&&1==+this.scales[n].rows&&(o<n&&(o=n),this.scales[n].real_scale>=e))break}else if(o<n&&(o=n),this.scales[n].real_scale>=e)break;return this._optimal_scale_cache[i]=o}},{key:"destroy",value:function(){var e,t,i,n,r;if(this.container)for(e=0;e<this.scale_no;e++)for(t=this.scales[e],i=0;i<t.images.length;i++)for(n=t.images[i];0<n.length;n++)(r=n[0]).image&&(this.container.removeChild(r.image),delete r.image);this.container=null}}]),Hr=wo,H(Ao.prototype,[{key:"attachWheelEvents",value:function(){this.viewer.mousewheel_enabled&&this.container.addEventListener("wheel",this.onMouseWheel,!1)}},{key:"attachEvents",value:function(){this.attachWheelEvents(),this.viewer.ios||this.container.addEventListener("keydown",this.doKeyDown,!1),window.PointerEvent?this.container.addEventListener("pointerdown",this.onMSPointerDown,!1):window.MSPointerEvent?this.container.addEventListener("MSPointerDown",this.onMSPointerDown,!1):(this.viewer.is_android||this.container.addEventListener("mousedown",this.onMouseDown,!1),this.container.addEventListener("gesturestart",this.onGestureStart,!1),this.container.addEventListener("gesturechange",this.onGestureChange,!1),this.container.addEventListener("gestureend",this.onGestureEnd,!1),this.container.addEventListener("touchstart",this.onTouchStart,!1)),this.viewer.is_android||this.container.addEventListener("dblclick",this.onMouseDblClick,!1)}},{key:"removeWheelEvents",value:function(){this.viewer.mousewheel_enabled&&this.container.removeEventListener("wheel",this.onMouseWheel,!1)}},{key:"removeEvents",value:function(){this.removeWheelEvents(),this.viewer.ios||this.container.removeEventListener("keydown",this.doKeyDown,!0),window.PointerEvent?this.container.removeEventListener("pointerdown",this.onMSPointerDown,!1):window.MSPointerEvent?this.container.removeEventListener("MSPointerDown",this.onMSPointerDown,!1):(this.viewer.is_android||this.container.removeEventListener("mousedown",this.onMouseDown,!1),document.body.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),document.body.removeEventListener("mouseout",this.onMouseOut,!1),this.container.removeEventListener("gesturestart",this.onGestureStart,!1),this.container.removeEventListener("gesturechange",this.onGestureChange,!1),this.container.removeEventListener("gestureend",this.onGestureEnd,!1),this.container.removeEventListener("touchstart",this.onTouchStart,!1),this.container.removeEventListener("touchmove",this.onTouchMove,!1),this.container.removeEventListener("touchend",this.onTouchEnd,!1)),this.viewer.is_android||this.container.removeEventListener("dblclick",this.onMouseDblClick,!1)}}]),Yr=Ao,_o=i(21),Vr=i.n(_o),X(go.prototype,[{key:"on_activity_end",value:function(){var e=this;this.viewer_action_stopped_timeout&&window.clearTimeout(this.viewer_action_stopped_timeout),this.viewer_action_stopped_timeout=window.setTimeout(function(){e.viewer_activity_end()},this.viewer_action_stopped_timeout_time)}},{key:"viewer_activity_end",value:function(){this.viewer_action_stopped_timeout=null,this.is_destroyed||this.is_panning||this.rotating||this.scalling||this.pointer_down_pressed||this.dispatchEvent("activity_end")}},{key:"get_base_scale_obj",value:function(e,t){t=e+"_"+t;return void 0!==this.base_scales_upsized[t]?this.base_scales_upsized[t]:this.base_scale_obj}},{key:"pl_get_vangle_pack_index",value:function(){var e,t,i=0,n=0,r=!1;if(this.pl_vangles_loaded.push(this.pl_current_vangle_pack_index),this.pl_vangles_loaded.length!==this.vangles_no){for(e=this.pl_initial_vangle_pack_index,t=this.pl_initial_vangle_pack_index;0<t&&(t--,n++,~this.pl_vangles_loaded.indexOf(t)||!(0<=t)););for(;e<this.vangles_no&&(e++,i++,~this.pl_vangles_loaded.indexOf(e)||!(e<this.vangles_no)););r=i<=n?!~this.pl_vangles_loaded.indexOf(e)&&e<this.vangles_no?e:t:!~this.pl_vangles_loaded.indexOf(t)&&0<=t?t:e}return!1!==r&&(this.pl_current_pack_index=0),r}},{key:"initialize_params",value:function(e){var t,i;e.ovus_folder&&("/"===e.ovus_folder[e.ovus_folder.length-1]&&(e.ovus_folder=e.ovus_folder.replace(/\/$/g,"")),this.params.ovus_folder=e.ovus_folder),this.params.use_config_url="no"!==e.use_config_url,e.content_data&&(this.params.content_data=e.content_data),e.config_url?this.params.config_url=e.config_url:this.params.config_url=this.join_path(e.ovus_folder,"config.xml"),!(t=e.ovus_folder)&&e.base&&(t=e.base),this.params.folder_path=t,i="content.xml",this.params.content2="no",e.content2&&"yes"===e.content2&&(i="content2.xml",this.params.content2="yes"),this.params.xml_url||(this.params.xml_url=this.join_path(t,i)),this.params.dialog_content=e.dialog_content,e.ovus_cache_modifier&&(this.params.ovus_cache_modifier=e.ovus_cache_modifier,e.webp_support&&"yes"===e.ovus_cache_modifier_webp&&(this.params.ovus_cache_modifier+="1")),0===e.border_frame||e.border_frame||(e.border_frame=e.first_frame)}},{key:"join_path",value:function(e,t){if(!e)return t;var i="/";return"/"!=e[0|e.length-1]&&"/"!=t[0]||(i=""),e+i+t}},{key:"parse_params",value:function(e){var t,i=/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3}|[A-Fa-f0-9]{8})$/i,n=this.params.background_color;for(t in e)e.hasOwnProperty(t)&&(this.params[t]=e[t]);"get-from-config"===e.hotspot_images_background_color&&(this.params.hotspot_images_background_color=n),n=this.params.folder_path,this.params.image_folder||(this.params.image_folder=this.join_path(n,"images")),"/"!=this.params.image_folder[0|this.params.image_folder.length-1]&&(this.params.image_folder+="/"),void 0!==this.params.rotate_dir&&void 0===this.params.auto_rotate_dir&&(this.params.auto_rotate_dir=this.params.rotate_dir),this.params.background_color=this.params.background_color.replace("0x","#"),i.test(this.params.background_color)||(n=hr()(this.params.background_color),this.params.background_color=isNaN(n)?"#FFFFFF":"#"+("00000"+(0|n).toString(16)).substr(-6)),this.params.hotspot_images_background_color?(this.params.hotspot_images_background_color=this.params.hotspot_images_background_color.replace("0x","#"),i.test(this.params.hotspot_images_background_color)||(this.params.hotspot_images_background_color="#00000000")):this.params.hotspot_images_background_color=this.params.background_color,9===this.params.background_color.length&&(this.params.background_color_opacity=this.params.background_color.substr(7,9),this.params.background_color=this.params.background_color.substr(0,7)),"yes"===this.params.border&&(this.params.border_color=this.params.border_color.replace("0x","#"),i.test(this.params.border_color)||(this.params.border_color="#FFFFFF")),"yes"!==this.params.auto_rotate||"no"!==this.params.teaser&&this.params.teaser||(this.params.teaser="autorotate"),"autorotate"===this.params.teaser?this.params.auto_rotate="yes":("play"===this.params.teaser||"playonerotation"===this.params.teaser||this.params.teaser,this.params.auto_rotate="no"),this.viewer_base=this.params.viewer_base,this.auto_rotate_dir="left"===this.params.auto_rotate_dir?1:-1,this.rotate_dir="left"===this.params.rotate_dir?1:-1,this.vmove_dir="down"===this.params.vmove_dir?-1:1,this.vmove="yes"===this.params.vmove,this.auto_drag_switch=!0,this.auto_drag_switch=!this.is_mobile,this.auto_drag_switch=!("no"===this.params.auto_drag_switch),this.auto_rotate_speed=+this.params.frame_rate,this.mousewheel_enabled="no"!==this.params.mousewheel,this.canvas.style.backgroundColor=this.params.background_color,"zoomin"===this.params.teaser&&(this.vport.style.backgroundColor=this.params.background_color),this.params.lang&&"auto"===this.params.lang&&"undefined"!=typeof navigator&&navigator.languages?(2<(i=navigator.languages[0]).length&&(i=i.substr(0,2)),this.ovlang.init(i)):this.ovlang.init(this.params.lang),this.params.background_color_opacity&&(this.canvas.style.backgroundColor=this.hexToRgba(this.params.background_color.substr(1,6)+this.params.background_color_opacity),"zoomin"===this.params.teaser&&(this.vport.style.backgroundColor=this.hexToRgba(this.params.background_color.substr(1,6)+this.params.background_color_opacity))),"yes"===this.params.border?this.border_style=this.vport.style.border="1px solid "+this.params.border_color:this.border_style=this.vport.style.border="none","desktop"===this.params.buttons_type?this.use_mobile_buttons=!1:"mobile"===this.params.buttons_type?this.use_mobile_buttons=!0:this.use_mobile_buttons=this.is_mobile,"no"===this.params.hires_support&&(this.devicePixelRatio=1),this.params.teaser&&"yes"===this.params.lazy_partial_load&&"autorotate"===this.params.teaser&&(this.params.lazy_partial_load="no"),this.params.teaser&&"yes"===this.params.partial_load&&~["onerotation","onerotationslow","playonerotation","playonerotationslow"].indexOf(this.params.teaser)&&(this.params.partial_load="no")}},{key:"load_config_xml",value:function(){var a=this;return this.params.use_config_url?new jr(this.params.config_url,null,0).load().then(function(e){var t,i,n,r,o,e=e.responseXML,s=null;if(e&&1===(t=e.getElementsByTagName("sequence-config")).length&&1!==(s=t[0].getElementsByTagName("viewer-params")).length&&(s=null),s)for(n=s[i=0].childNodes.length;i<n;i++)"image_folder"!==s[0].childNodes[i].nodeName&&"xml_url"!==s[0].childNodes[i].nodeName&&(void 0===(o=(r=s[0].childNodes[i]).textContent)&&(o=r.text),"continuous"===r.nodeName?a.params.continous=o:("gui_background"!==r.nodeName&&"gui_foreground"!==r.nodeName&&"gui_foreground_active"!==r.nodeName||o.length)&&(a.params[r.nodeName]=o));return a.is_in_page(a.container)}):dr.a.resolve(!0)}},{key:"load_content_xml",value:function(){var t=this;return this.params.content_data?dr.a.resolve(!0):new jr(this.params.xml_url,null,0).load().then(function(e){e=e.responseXML;return!!t.is_in_page(t.container)&&e})}},{key:"_parse_content_data",value:function(){var e,t,i,n,r,o,s,a=this.params.content_data;for(this.max_width=a.max_width,this.max_height=a.max_height,this.vangles_no=+a.vangles,this.tiled_image=new Hr(this.max_width,this.max_height,this.sequence,this.tiles_obj,this.devicePixelRatio),t=0,i=(e=a.scales).length;t<i;t++)n=e[t],this.sequence.add_scale(10*n.value,n.width,n.height,n.tile_width,n.tile_height,n.cols,n.rows,""+n.value),this.tiled_image.addTiledScale(n.width,n.height,n.cols,n.rows,n.tile_width,n.tile_height,10*n.value);for(this.tiled_image.sort_by_scale(),r=a.images.length,o=0;o<r;o++)s=a.images[o],this.sequence.images.push(s),this.frames_no++}},{key:"_parse_content_xml",value:function(e){var t,i,n,r,o,s,a,l,h,c,u,_,d,f,p,m,e=e.getElementsByTagName("sequence");if(1!==e.length)return!1;if(this.max_width=+e[0].getAttribute("maxWidth"),this.max_height=+e[0].getAttribute("maxHeight"),0===(t=e[0].getElementsByTagName("img")).length)return!1;if(1!==(e=t[0].getElementsByTagName("scales")).length)return!1;if(0===(i=e[0].getElementsByTagName("scale")).length)return!1;for(this.tiled_image=new Hr(this.max_width,this.max_height,this.sequence,this.tiles_obj,this.devicePixelRatio),n=0,r=i.length;n<r;n++)o=i[n].getAttribute("width"),s=i[n].getAttribute("height"),a=i[n].getAttribute("name"),l=i[n].getAttribute("value"),h=i[n].getAttribute("tile_width"),c=i[n].getAttribute("tile_height"),u=i[n].getAttribute("rows"),_=i[n].getAttribute("cols"),this.sequence.add_scale(10*l,+o,+s,+h,+c,+_,+u,a),this.tiled_image.addTiledScale(+o,+s,+_,+u,+h,+c,10*l);for(this.tiled_image.sort_by_scale(),d=0,f=t.length;d<f;d++)p=t[d].getAttribute("name"),m=t[d].getAttribute("ext"),this.sequence.images[d]={name:p,ext:m},this.frames_no++;return!(this.vangles_no=1)}},{key:"_parse_content2_xml",value:function(e){function t(e){if(0===e.length)throw w;return e[0]}var i,n,r,o,s,a,l,h,c,u,_,d,f,p,m,v,g,A,w={};try{for(n=t((i=t(t(e.getElementsByTagName("orbitvu")).getElementsByTagName("sequence3d"))).getElementsByTagName("images")),r=t(i.getElementsByTagName("scales")).getElementsByTagName("scale"),o=n.getAttribute("name"),s=n.getAttribute("ext"),a=+i.getAttribute("hangles"),t(r),this.max_width=+n.getAttribute("maxWidth"),this.max_height=+n.getAttribute("maxHeight"),this.vangles_no=+i.getAttribute("vangles"),this.tiled_image=new Hr(this.max_width,this.max_height,this.sequence,this.tiles_obj,this.devicePixelRatio),l=0,h=r.length;l<h;l++)c=r[l].getAttribute("width"),u=r[l].getAttribute("height"),d=""+(_=r[l].getAttribute("value")),f=r[l].getAttribute("tile_width"),p=r[l].getAttribute("tile_height"),m=r[l].getAttribute("rows"),v=r[l].getAttribute("cols"),this.sequence.add_scale(10*_,+c,+u,+f,+p,+v,+m,d),this.tiled_image.addTiledScale(+c,+u,+v,+m,+f,+p,10*_);for(this.tiled_image.sort_by_scale(),g=0;g<a;g++)A=o+"0_"+g,this.sequence.images.push({new_name:o,num:g,name:A,ext:s}),this.frames_no++}catch(e){if(e!==w)throw e;return!1}return!0}},{key:"setup_viewer",value:function(){var e,t,i;this.sequence.base_url=this.params.image_folder,this.viewer_api=null,(i=V())&&(this.viewer_api=new i(this)),this.create_sizer_object(this.container),t=e=null,"%"!==(i=this.params.width)[i.length-1]&&(e=hr()(i)),"%"!==(i=this.params.height)[i.length-1]&&(t=hr()(i)),this.init_width=e,this.init_height=t,this.run_viewer_delayed()}},{key:"create_sizer_object",value:function(e){var t=this,i=this;this.resize_listener=function(e){e=e.target||e.srcElement;e.__resizeRAF__&&cancelAnimationFrame(e.__resizeRAF__),e.__resizeRAF__=requestAnimationFrame(function(){t.is_loaded&&!t.is_doing_fullscreen&&(!t.has_html5_fullscreen()&&null!==t.resize_handler&&t.fullscreen?t.resize_handler():t.resizeViewport())})},"undefined"==typeof ResizeObserver?(this.resize_obj=document.createElement("object"),this.resize_obj.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),this.resize_obj.__resizeElement__=e,this.resize_obj.onload=function(e){i.sizer_object_data_set&&(this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.removeEventListener("resize",i.resize_listener),this.contentDocument.defaultView.addEventListener("resize",i.resize_listener))},this.resize_obj.type="text/html",e.appendChild(this.resize_obj),this.resize_obj.data="about:blank",this.sizer_object_data_set=!0):(this.resize_observer=new ResizeObserver(function(e){t.resize_listener(e[0])}),this.resize_observer.observe(e))}},{key:"switch_sizer_object",value:function(e){this.resize_observer?(this.resize_observer.disconnect(),this.resize_observer.observe(e)):this.resize_obj&&(this.resize_obj.parentNode.removeChild(this.resize_obj),e.appendChild(this.resize_obj))}},{key:"conditionally_resize_viewport",value:function(e,t){this.is_doing_fullscreen||this.is_doing_html5_fullscreen||this.resizeViewport(e,t)}},{key:"setup_fullscreen",value:function(e,t){var i=this.has_html5_fullscreen();""+this.params.style=="4"||"no"===this.params.fullscreen_enabled||!i&&window!==window.top?(this.control_panel.hide_fullscreen(),"fullscreen"===this.doubletap_mode&&(this.doubletap_mode="zoom")):(this.control_panel.show_fullscreen(),"fullscreen"!==this.doubletap_mode&&(this.params.doubletap_mode?this.doubletap_mode=this.params.doubletap_mode:this.doubletap_mode="fullscreen"))}},{key:"handle_first_frame_preloaded",value:function(){this.queue_obj.hangle=this.hangle=this.params.first_frame,this.queue_obj.vangle=this.vangle=this.params.first_row,this.container.style.backgroundImage="",this.render_frame(this.params.first_row,this.params.first_frame,!0,!0),"play"===this.params.teaser||"playonerotation"===this.params.teaser||"playonerotationslow"===this.params.teaser?(this.loader&&this.loader.destroy(),this.teaser_play=new Nr(this,this.preloader_start)):this.preloader_start()}},{key:"handle_all_frames_preloaded",value:function(){var e,t,i,n,r,o,s,a,l=this;if(this.is_in_page(this.container)&&(e=this.base_frames.counter,t=this.frames_no,e===this.vangles_no*t&&!this.is_loaded)){for(this.changeMode(this.MODE_ROTATE),i=0;i<this.vangles_no;i++)for(n=0;n<this.frames_no;n++)i===+this.params.first_row&&n===+this.params.first_frame||this.render_frame(i,n,!1,!1);if("yes"===this.params.loader&&this.loader.destroy(),this.events.attachEvents(),window.setTimeout(function(){var e,t;l.is_destroyed||("yes"===l.params.auto_rotate&&1<l.frames_no&&l.changeMode(l.MODE_AUTOROTATE),"onerotation"===l.params.teaser&&1<l.frames_no?l.changeMode(l.MODE_ONEROTATION):"onerotationslow"===l.params.teaser&&1<l.frames_no?l.changeMode(l.MODE_ONEROTATION_SLOW):"play"===l.params.teaser?1<l.frames_no&&l.changeMode(l.MODE_AUTOROTATE):"playonerotation"===l.params.teaser?1<l.frames_no&&l.changeMode(l.MODE_ONEROTATION):"playonerotationslow"===l.params.teaser?1<l.frames_no&&l.changeMode(l.MODE_ONEROTATION_SLOW):"zoomin"===l.params.teaser&&(l.vport.classList.add("zoomin"),e=null,e=function(){l.vport.classList.remove("zoomin"),l.vport.style.backgroundColor="",l.removeListener("interaction_start",e)},l.addListener("interaction_start",e)),("all"===(t=l.params.html5_initial_info)||"touch"===t&&(l.ios||l.is_android)||"desktop"===t&&!l.ios&&!l.is_android)&&(l.initial_info_window=new Mr(l,l.vport,l.params.dialog_content,"initial",null,function(){l.initial_info_window=null}),l.initial_info_window.open()))},300),this.is_loaded=!0,this.transform({scale:0}),this.utils.handle_beacon(this.params.beacon_url),this.params.external_access_init&&this.viewer_api&&(a=this.params.external_access_init,window[a]&&window[a](this.viewer_api)),this.dispatchEvent("initialized"),this.resizeViewport(),this.is_partial_load){for(r in this.pl_frames_count=0,this.pl_progress_bar=0,this.pl_initial_vangle_pack_index=this.params.first_row,this.pl_current_vangle_pack_index=this.pl_initial_vangle_pack_index,this.pl_current_pack_index=0,this.pl_frames_renderer=[],this.pl_vangles_loaded=[],this.pl_frames_pack)if(this.pl_frames_pack.hasOwnProperty(r))for(o in this.pl_frames_pack[r])if(this.pl_frames_pack[r].hasOwnProperty(o))for(s in this.pl_frames_pack[r][o])this.pl_frames_pack[r][o].hasOwnProperty(s)&&(this.pl_frames_pack[r][o][s]={vangle:r,hangle:this.pl_frames_pack[r][o][s],should_load:!0},this.pl_frames_count++);this.dispatchEvent("partial_loading",0),this.partialLoader=new Pr(this.vport,this.hexToRgb(this.params.gui_background)),this.partial_loader_timeout=this.utils.request_timeout(function(){l.partialLoader.show()},1e3),this.lazy_partial_load?(a=function e(){l.pl_set_frames_pack_load(),l.removeListener("interaction_start",e)},this.addListener("interaction_start",a)):this.pl_set_frames_pack_load()}else this.dispatchEvent("viewer_initialized",this.viewer_api)}}},{key:"setup_handlers",value:function(){var c=this;this.handle_image_data_loaded=function(e){var t=e.image_data,i=e.vangle,e=e.hangle;c.container&&c.is_in_page(c.container)&&(c.base_frames[i]||(c.base_frames[i]=[]),c.base_frames[i][e]||(c.base_frames[i][e]=t,0===c.base_frames.counter&&c.dispatchEvent("loading",0),c.base_frames.counter+=1,e=Math.round(c.base_frames.counter/(c.frames_no*c.vangles_no)*100),1===c.base_frames.counter?(0<e&&c.dispatchEvent("loading",e),c.handle_first_frame_preloaded()):c.is_partial_load?t&&(c.pl_base_frames_loaded++,e=Math.round(c.pl_base_frames_loaded/c.pl_base_frames_to_load*100),"yes"===c.params.loader&&c.loader.setText(e+"%"),c.dispatchEvent("loading",e)):("yes"===c.params.loader&&c.loader.setText(e+"%"),c.dispatchEvent("loading",e)),e=c.frames_no*c.vangles_no,c.base_frames.counter===e&&(c.is_partial_load&&c.dispatchEvent("partially_initialized",c.viewer_api),c.handle_all_frames_preloaded())))},this.handle_partial_frames_image_data_loaded=function(e){var t,i=e.image_data,n=e.vangle,e=e.hangle;if(c.base_frames[n]||(c.base_frames[n]=[]),c.base_frames[n][e])i=null;else{if(c.base_frames.counter+=1,c.pl_frames_renderer.push({hangle:e,vangle:n,image:i}),c.pl_progress_bar++,i=Math.round(100*c.pl_progress_bar/c.pl_frames_count),c.base_frames.counter==c.pl_current_pack_length){for(t in c.pl_current_pack_index++,c.pl_frames_renderer)c.pl_frames_renderer.hasOwnProperty(t)&&(c.base_frames[c.pl_frames_renderer[t].vangle][c.pl_frames_renderer[t].hangle]=c.pl_frames_renderer[t].image);c.pl_frames_renderer=[],c.pl_set_frames_pack_load()}c.dispatchEvent("partial_loading",i),c.partialLoader.setProgress(i+"%"),null===c.pl_frames_renderer&&c.dispatchEvent("viewer_initialized",c.viewer_api)}},this.preloader_start=function(){var e,t,i,n,r,o,s,a,l,h;for("yes"!==c.params.loader||c.is_loaded||c.loader.show(),c.vangle_loop=0,c.hangle_loop=0,"yes"===c.params.partial_load&&5<c.frames_no&&(c.is_partial_load=!0,"yes"===c.params.lazy_partial_load&&(c.lazy_partial_load=!0)),e=[],t=0;t<c.vangles_no;t++)for(i=0;i<c.frames_no;i++)c.base_frames[t]&&c.base_frames[t][i]?e.push({vangle:t,hangle:i,should_load:!1}):e.push({vangle:t,hangle:i,should_load:!c.is_partial_load});if(c.is_partial_load)for(r=0;r<c.vangles_no;r++){if(c.pl_frames_tree=[{level:0,value:c.frames_no}],c.pl_get_frames_tree(c.pl_frames_tree),n=c.pl_get_frames_pack(),r===+c.params.first_row)for(o in e)e.hasOwnProperty(o)&&(void 0!==n[0]&&~n[0].indexOf(e[o].hangle)&&e[o].vangle===r&&(e[o].should_load=!0,s=n[0].indexOf(e[o].hangle),n[0].splice(s,1),0===n[0].length&&(n[0]=[])),void 0!==n[1]&&~n[1].indexOf(e[o].hangle)&&e[o].vangle===r&&(e[o].should_load=!0,a=n[1].indexOf(e[o].hangle),n[1].splice(a,1),0===n[1].length&&(n[1]=[])),void 0!==n[2]&&~n[2].indexOf(e[o].hangle)&&e[o].vangle===r&&(e[o].should_load=!0,a=n[2].indexOf(e[o].hangle),n[2].splice(a,1),0===n[2].length&&(n[2]=[])));for(h in l=[],n)n.hasOwnProperty(h)&&(n[h].length?l.push(n[h]):c.pl_base_frames_to_load++);l.length&&c.pl_frames_pack.push(l)}c.orbitvu_img_loader.init_frames_preload(e,c.handle_image_data_loaded),c.orbitvu_img_loader.preload_frames()}}},{key:"pl_set_frames_pack_load",value:function(){var e,t=this,i=this.getAutoRotateFramePeriod();if(i!==this.auto_rotate_frame_period&&null!=this.auto_rotate_timer&&(this.auto_rotate_timer.clear(),this.auto_rotate_frame_period=i,this.auto_rotate_timer=this.utils.request_interval(function(){t.autorotate_frame()},i)),this.base_frames.counter=0,this.pl_current_pack_index===this.pl_frames_pack[this.pl_current_vangle_pack_index].length&&(e=this.pl_current_vangle_pack_index,this.pl_current_vangle_pack_index=this.pl_get_vangle_pack_index()),!1===this.pl_current_vangle_pack_index&&this.pl_current_pack_index===this.pl_frames_pack[e].length)return setTimeout(function(){t.is_destroyed||t.partialLoader&&(t.partial_loader_timeout&&t.partial_loader_timeout.clear(),t.partialLoader.hide())},200),this.pl_frames_count=null,this.pl_progress_bar=null,this.pl_initial_vangle_pack_index=null,this.pl_current_vangle_pack_index=null,this.pl_current_pack_index=null,this.pl_frames_renderer=null,void(this.pl_vangles_loaded=null);this.pl_current_pack_length=this.pl_frames_pack[this.pl_current_vangle_pack_index][this.pl_current_pack_index].length,this.orbitvu_img_loader.init_frames_preload(this.pl_frames_pack[this.pl_current_vangle_pack_index][this.pl_current_pack_index],this.handle_partial_frames_image_data_loaded),this.orbitvu_img_loader.preload_frames()}},{key:"pl_get_frames_tree",value:function(e){var t,i;for(i in e)e.hasOwnProperty(i)&&1<=e[i].value/2&&(t=[{value:(t=e[i].value/2)%1==0?t:Math.floor(t),level:e[i].level+1},{value:t%1==0?t:Math.ceil(t),level:e[i].level+1}],this.pl_frames_tree=this.pl_frames_tree.concat(t),this.pl_get_frames_tree(t))}},{key:"pl_get_frames_pack",value:function(){var e,t,i,n,r=[];for(n in this.pl_frames_tree)this.pl_frames_tree.hasOwnProperty(n)&&(void 0===r[e=this.pl_frames_tree[n].level]&&(r[e]=[]),t=this.pl_frames_tree[n].value,0!=(i=r[e].length)&&(0!=this.params.first_frame?t+=r[e][i-1]-this.params.first_frame:t+=r[e][i-1]),0!=this.params.first_frame&&(t+=this.params.first_frame),t>this.frames_no-1&&(t-=this.frames_no),~r[e].indexOf(t)||r[e].push(t));return r=this.pl_check_frames_pack_length(r),this.pl_remove_duplicates(r)}},{key:"pl_check_frames_pack_length",value:function(e){for(var t,i=0;i<e.length;i++)if(Math.pow(2,i)!=e[i].length)for(e[i]=[],t=0;t<this.frames_no;t++)e[i].push(t);return e}},{key:"pl_remove_duplicates",value:function(e){for(var t,i,n,r=[],o=0,s=e.length-1;0<s;s--)for(t=0;t<e[s].length;t++)~e[s-1].indexOf(e[s][t])&&(e[s][t]=null);for(i=0;i<e.length;i++){for(n=0;n<e[i].length;n++)null!==e[i][n]&&(void 0===r[o]&&(r[o]=[]),r[o].push(e[i][n]));void 0!==r[o]&&o++}return r}},{key:"render_frame",value:function(e,t,i,n){var r,o,s,a=this.base_frames[e][t];if(a){if(o=a.naturalWidth,s=a.naturalHeight,r=this.get_base_scale_obj(e,t),r=this.get_translate(r,r.images[0][0],{}),n){if(i&&(this.is_initializing=!0),this.is_destroyed)return;o=o*r.scale,s=s*r.scale,this.canvas_context.drawImage(a,r.coords.x*this.devicePixelRatio,r.coords.y*this.devicePixelRatio,Math.round(o*this.devicePixelRatio),Math.round(s*this.devicePixelRatio)),i&&this.should_tiles_fade_in(a),this.base_frames[e][t]=a,this.current_frame_coords={x:r.coords.x,y:r.coords.y,scale:r.scale}}return a}this.base_frames[e][t]=null}},{key:"init_ui",value:function(){var e,t;this.params.first_frame=hr()(this.params.first_frame),isNaN(this.params.first_frame)&&(this.params.first_frame=0),0<this.params.first_frame&&--this.params.first_frame,this.params.first_frame>=this.frames_no&&(this.params.first_frame=0),0<this.params.border_frame&&--this.params.border_frame,this.params.border_frame>=this.frames_no&&(this.params.border_frame=0),this.params.first_row=hr()(this.params.first_row),isNaN(this.params.first_row)&&(this.params.first_row=0),0<this.params.first_row&&--this.params.first_row,this.params.first_row>=this.vangles_no&&(this.params.first_row=0),this.doubletap_mode=this.params.doubletap_mode,1<this.vangles_no&&(this.vport.style.touchAction="none",this.tiles_obj.style.touchAction="none"),this.events=new Yr(this.vport,this,{doubletap_mode:this.doubletap_mode}),"yes"===this.params.loader&&(this.loader=new Lr(this.vport,this.id,this.width/2,this.height/2,this)),this.params.branding&&(this.brandingButton=new Rr(this.vport,this)),"yes"===this.params.social&&(this.social=new Ur(this.vport,this)),this.params.logo_src&&(this.brandingLogo=new Or(this.vport,this)),this.html5_hint=new Qr(this.vport,this),this.control_panel=new Tr(this),this.update_zoom_buttons(),this.setup_fullscreen(),"undefined"!=typeof OVDebugger&&(this.ov_debugger=new OVDebugger(this.vport,this.params.dialog_content,this)),this.base_frames.counter=0,this.tiled_image.frame_divider=this.frame_divider,this.tiled_image.blank_url=this.viewer_base+"blank.gif",this.params.viewer_api_init&&this.viewer_api&&(t=this.params.viewer_api_init,window[t]&&window[t](this.viewer_api)),this.nosize&&(e=this.vport.clientWidth*this.devicePixelRatio,t=this.vport.clientHeight*this.devicePixelRatio,+this.canvas.width==e&&+this.canvas.height==t||(this.canvas.width=e,this.canvas.height=t)),this.orbitvu_img_loader=new Gr(this.frame_divider,this.base_scale,this.sequence,this),this.orbitvu_img_loader.preload_frame(this.params.first_row,this.params.first_frame).then(this.handle_image_data_loaded,function(e){})}},{key:"run_viewer",value:function(){this.init_viewer(this.init_width,this.init_height),this.setup_handlers(),this.init_ui(),this.refreshAnimationFrame()}},{key:"run_viewer_delayed",value:function(){var i,e,n=this,t=this.container;!(this.init_width&&this.init_height||0!==t.offsetWidth||0!==t.offsetHeight||void 0===t.style.animationName)?(this.style_animation=document.createElement("style"),i="ov_display_detector_"+hr()(99999999*Math.random()),this.style_animation.innerHTML="@keyframes "+i+" {  from {  outline: 1px solid transparent  } to {  outline: 0px solid transparent }  }\n#"+this.id+" { animation-duration: 0.001s; animation-name: "+i+";}",e=function e(t){t.animationName===i&&(t.target.removeEventListener("animationstart",e,!1),document.head.removeChild(n.style_animation),n.style_animation=null,n.run_viewer())},t.addEventListener("animationstart",e,!1),document.head.appendChild(this.style_animation)):this.run_viewer()}},{key:"emperor",value:function(){var e=this;this.emperor_timeout&&(this.emperor_timeout.clear(),this.emperor_timeout=null),(document.contains?document:document.body).contains(this.container)?this.emperor_timeout=this.utils.request_timeout(function(){e.emperor()},5e3):this.destroy()}},{key:"destroy",value:function(){this.viewer_action_stopped_timeout&&window.clearTimeout(this.viewer_action_stopped_timeout),this.emperor_timeout&&this.emperor_timeout.clear(),this.auto_rotate_timer&&this.auto_rotate_timer.clear(),this.partial_loader_timeout&&this.partial_loader_timeout.clear(),this.auto_rotate_physics_timer&&this.auto_rotate_physics_timer.clear(),this.rebuild_tiles_timeout&&window.clearTimeout(this.rebuild_tiles_timeout),this.scalling_timeout&&window.clearTimeout(this.scalling_timeout),this.centering_timeout&&window.clearTimeout(this.centering_timeout),this.orbitvu_img_loader&&(this.orbitvu_img_loader.destroy(),this.orbitvu_img_loader=null),this.is_destroyed||(this.is_destroyed=!0,this.events&&this.events.removeEvents(),this.resize_observer&&(this.resize_observer.disconnect(),this.resize_observer=null),this.resize_obj&&(this.resize_obj=null),this.resize_handler=null,this.orientation_change_handler=null,this.rotation_obj&&ar.killTweensOf(this.rotation_obj),this.frameObj&&ar.killTweensOf(this.frameObj),this.fullscreen_event_handler&&Vr.a.removeEventListener("fullscreenchange",this.fullscreen_event_handler),delete this.viewer_api,this.tiled_image&&(this.tiled_image.destroy(),delete this.tiled_image),this.control_panel&&this.control_panel.destroy(),this.container&&(this.container.innerHTML=""),this.base_frames=null,this.container=null,this.canvas=null,this.canvas_context=null,this.tiles_obj=null,this.tiles_obj_context=null)}},{key:"is_in_page",value:function(e){return e!==document.body&&document.body.contains(e)}},{key:"parseGuiColors",value:function(){this.params.gui_background=this.params.gui_background.substr(2,8),this.params.gui_foreground=this.params.gui_foreground.substr(2,8),this.params.gui_foreground_active=this.params.gui_foreground_active.substr(2,8),this.params.teaserplay_overlay_color=this.params.teaserplay_overlay_color.substr(2,8)}},{key:"getAutoRotateFramePeriod",value:function(){if(this.is_partial_load&&this.partialLoader.isLoading()){var e=this.pl_get_loaded_hangles();return 1e3<(e=1/(this.auto_rotate_speed*e.length/this.frames_no)*1e3)&&(e=1e3),e}return 1/this.auto_rotate_speed*1e3}},{key:"changeMode",value:function(e){var o=this;e===this.MODE_AUTOROTATE?(null!==this.auto_rotate_physics_timer&&(this.auto_rotate_physics_timer.clear(),this.auto_rotate_physics_timer=null),this.auto_rotate_frame_period=this.getAutoRotateFramePeriod(),this.auto_rotate_timer=this.utils.request_interval(function(){o.autorotate_frame()},this.auto_rotate_frame_period),this.rotating=!0):e===this.MODE_AUTOROTATE_PHYSICS?(this.rotating=!0,this.auto_rotate_physics_timer=this.utils.request_timeout(function e(){var t,i,n,r;o.is_destroyed||(0===(r=Math.round(o.auto_rotate_physics_speed))&&(r=1),t=null,i="left"===o.auto_rotate_physics_dir?(t=o.get_transformed_value("hangle")-r*o.rotate_dir,-1*o.rotate_dir):(t=o.get_transformed_value("hangle")+r*o.rotate_dir,o.rotate_dir),n=!1,"yes"!==o.params.continous&&(r=o.get_closest_frame(t,o.vangle),o.get_rotate_to_dir(o.get_transformed_value("hangle"),r.hangle,"no",o.params.border_frame,o.frames_no)!==i&&(n=!0)),n?(o.changeMode(o.MODE_ROTATE),o.rotating=!1,o.transform({})):(o.transform({hangle:t}),o.auto_rotate_physics_speed/=o.SLOWDOWN_FACTOR,o.auto_rotate_physics_speed/=1.01,o.auto_rotate_physics_speed<1?.05<o.auto_rotate_physics_speed?o.auto_rotate_physics_timer=o.utils.request_timeout(e,1/o.auto_rotate_physics_speed*10):(o.changeMode(o.MODE_ROTATE),o.rotating=!1,o.transform({})):o.auto_rotate_physics_timer=o.utils.request_timeout(e,10)))},10)):e===this.MODE_ONEROTATION?(this.rotating=!0,this.oneRotation()):e===this.MODE_ONEROTATION_SLOW?(this.rotating=!0,this.oneRotationSlow()):e===this.MODE_ROTATE?(null!==this.auto_rotate_physics_timer&&(this.auto_rotate_physics_timer.clear(),this.auto_rotate_physics_timer=null),null!==this.auto_rotate_timer&&(this.auto_rotate_timer.clear(),this.auto_rotate_timer=null)):e===this.MODE_DRAG&&(null!==this.auto_rotate_physics_timer&&(this.auto_rotate_physics_timer.clear(),this.auto_rotate_physics_timer=null),null!==this.auto_rotate_timer&&(this.auto_rotate_timer.clear(),this.auto_rotate_timer=null),this.rotating=!1),e===this.MODE_AUTOROTATE?(this.rotating=!0,this.dispatchEvent("autorotate_start"),this.control_panel&&this.control_panel.autorotate_on()):this.mode===this.MODE_AUTOROTATE&&e!==this.MODE_AUTOROTATE&&(this.rotating=!1,this.control_panel&&this.control_panel.autorotate_off(),this.dispatchEvent("autorotate_stop"),this.on_activity_end()),this.mode=e}},{key:"autorotate_frame",value:function(){var e,t,i;this.is_destroyed||(t=(e=this.get_transformed_value("hangle"))+ +this.auto_rotate_dir,"no"===this.params.continous&&((t>=this.frames_no||t<0)&&(t=-1===this.auto_rotate_dir?this.frames_no-1:0),t=this.get_closest_frame(t,this.vangle).hangle,i=this.get_closest_frame(this.params.border_frame,this.vangle).hangle,0<this.auto_rotate_dir?i===t&&(this.auto_rotate_dir=-1*this.auto_rotate_dir,t=e):i===e&&(this.auto_rotate_dir=-1*this.auto_rotate_dir,t=e)),this.transform({hangle:t}))}},{key:"pl_find_loaded_frame",value:function(e){var t,i,n,r,o,s,a,l,h={prev:-1,next:-1},c=this.pl_get_loaded_hangles(e);if(3<=c.length){for(t=e+1;t<this.frames_no;t++)if(-1!==(i=c.indexOf(t))){c.splice(i,1),h.next=t;break}if(-1===h.next)for(n=0;n<e;n++)if(-1!==(r=c.indexOf(n))){c.splice(r,1),h.next=n;break}for(o=e-1;0<=o;o--)if(-1!==(s=c.indexOf(o))){c.splice(s,1),h.prev=o;break}if(-1===h.prev)for(a=this.frames_no-1;e<a;a--)if(-1!==(l=c.indexOf(a))){c.splice(l,1),h.prev=a;break}if(-1!==h.prev&&-1!==h.next)return h}return!1}},{key:"find_frame",value:function(e,t,i,n){var r=t+i,i=t-i;return r>=this.frames_no&&(r-=this.frames_no),i<0&&(i=this.frames_no+i),"next"!==n&&"both"!==n||!this.base_frames[e][r]?"prev"!==n&&"both"!==n||!this.base_frames[e][i]?null:{hangle:i,vangle:e}:{hangle:r,vangle:e}}},{key:"is_vangle_loaded",value:function(e){return!!this.base_frames[e]&&0<this.base_frames[e].filter(function(e){return null!==e}).length}},{key:"get_closest_frame",value:function(e,t){var i,n,r,o=t,s=e;for(s>=this.frames_no&&(s-=this.frames_no),o>=this.vangles_no&&(o-=this.vangles_no);!this.is_vangle_loaded(o);)(o+=1)>=this.vangles_no&&(o=0);if(this.base_frames[o][s])return{hangle:s,vangle:o};for(i=1,n=(t=Math.max(s,this.hangle))-(e=Math.min(s,this.hangle))<this.frames_no-t+e?"next":"prev",s===e&&"next"===n&&(n="prev"),r=this.find_frame(o,s,i,n);!r&&i<this.frames_no;)i+=1,r=this.find_frame(o,s,i,n);return r}},{key:"pl_get_loaded_hangles_count",value:function(){var e;return null!==this.pl_frames_count?(e=this.base_frames[this.vangle])?e.filter(function(e){return null!=e}).length:0:this.frames_no}},{key:"pl_get_last_loaded_frame_no",value:function(){if(null===this.pl_frames_count)return this.frames_no-1;for(var e=this.frames_no-1;0<=e;e--)if(this.base_frames[this.vangle]&&null!==this.base_frames[this.vangle][e])return e;return 0}},{key:"pl_get_first_loaded_frame_no",value:function(){if(null===this.pl_frames_count)return 0;for(var e=0;e<this.frames_no;e++)if(this.base_frames[this.vangle]&&null!==this.base_frames[this.vangle][e])return e;return 0}},{key:"pl_get_loaded_hangles",value:function(e){for(var t=[],i=this.base_frames,n=this.vangle,r=0;r<this.frames_no;r++)r!==e&&i[n][r]&&t.push(r);return t}},{key:"pl_get_frames_distance",value:function(){var e=this.pl_get_loaded_hangles(null);return e&&1<e.length?e[1]-e[0]:1}},{key:"get_transformed_value",value:function(e){return this.queue_obj[e]}},{key:"addListener",value:function(e,t,i){var n=this._events;(n[e]=n[e]||[]).push([t,i])}},{key:"removeListener",value:function(e,t){var i,n,r=this._events[e];if(r)for(i=0,n=r.length;i<n;i++)r[i]&&r[i][0]===t&&this._events[e].splice(i,1)}},{key:"dispatchEvent",value:function(e,t){var i,n,r=this._events[e];if(r)for(i=0,n=r.length;i<n;i++)r[i]&&("string"==typeof r[i][0]?window[r[i][0]](t):r[i][0].call(r[i][1]))}},{key:"transform",value:function(e){var t,i,n=this;this.is_loaded&&-1!==this.scale&&(t=!1,void 0===e.centerx&&void 0===e.centery||(t=!0),i={scale:(void 0!==e.scale?e:this.queue_obj).scale,centerx:(void 0!==e.centerx?e:this.queue_obj).centerx,centery:(void 0!==e.centery?e:this.queue_obj).centery,hangle:(void 0!==e.hangle?e:this.queue_obj).hangle,vangle:(void 0!==e.vangle?e:this.queue_obj).vangle,force_zoom_complete:void 0!==e.scale},this.apply_constraints(i),(e=this.get_closest_frame(i.hangle,i.vangle))&&(i.hangle=e.hangle,i.vangle=e.vangle,i.is_centering=t,this.queue_obj=i,this.refresh=!0,this.html5_hint.hide(),window.requestAnimationFrame(function(){n.on_refresh()})))}},{key:"init_viewer",value:function(e,t){var i;this.setup_width_and_height(e,t),this.canvas.width=this.width*this.devicePixelRatio,this.canvas.height=this.height*this.devicePixelRatio,this.tiles_obj.width=this.width*this.devicePixelRatio,this.tiles_obj.height=this.height*this.devicePixelRatio,this.calculate_min_max_scales(this.width,this.height,!1),this.scale=this.queue_obj.scale=this.min_scale,this.centerx=this.queue_obj.centerx=this.max_width/2,this.centery=this.queue_obj.centery=this.max_height/2,i=this.scale,(hr()(this.params.preload_width)||hr()(this.params.preload_height))&&(e=hr()(this.params.preload_width)?hr()(this.params.preload_width):0,t=hr()(this.params.preload_height)?hr()(this.params.preload_height):0,e=Math.min(e,this.tiled_image.max_single_image_width),t=Math.min(t,this.tiled_image.max_single_image_height),isNaN(e)&&(e=this.width),isNaN(t)&&(t=this.height),this.calculate_min_max_scales(Math.max(this.width,e),Math.max(this.height,t),!0),i=this.min_scale),this.calculate_optimal_scale(!0,i),this.base_scale_obj=this.optimal_scale_obj,this.base_scale=this.optimal_scale,this.base_scale_index=this.optimal_scale_index,this.calculate_optimal_scale(!1,i),this.tiles_scale=this.optimal_scale,this.tiles_scale_obj=this.optimal_scale_obj,this.tiles_scale_index=this.optimal_scale_index}},{key:"setup_width_and_height",value:function(e,t){var i=this.vport;"auto"===e&&null!=this.params.width&&(e="",this.params.width=""+i.clientWidth),e=e||((!(e=i.style.width)||!~(""+e).indexOf("px"))&&(!this.params.width||!this.force_size||~(e=this.params.width).indexOf("%"))?i.clientWidth:e.replace("px","")),this.width!==e&&(this.dimensions_changed=!0),this.base_width=this.width=e,"auto"===t&&null!=this.params.height&&(t=null,this.params.height=""+i.clientHeight),t=t||((!(t=i.style.height)||!~(""+t).indexOf("px"))&&(!this.params.height||!this.force_size||~(t=this.params.height).indexOf("%"))?i.clientHeight:t.replace("px","")),this.height!=t&&(this.dimensions_changed=!0),this.base_height=this.height=t}},{key:"resizeViewport",value:function(e,t){this.is_in_page(this.container)&&(this.control_panel&&this.control_panel.handle_resize(),this.setup_width_and_height(e,t),this.setup_fullscreen(e,t),this.calculate_min_max_scales(this.width,this.height,!1),this.x=0,this.y=0,this.dimensions_changed&&(-1!==this.scale&&this.transform({scale:this.min_scale,centerx:this.max_width/2,centery:this.max_height/2}),this.dispatchEvent("resize")))}},{key:"calculate_optimal_scale",value:function(e,t){this.tiled_image&&(e=this.tiled_image.find_optimal_scale_index(1e3*t,e),this.base_scale_index&&e<this.base_scale_index&&(e=this.base_scale_index),this.optimal_scale_index=e,this.optimal_scale_obj=this.tiled_image.scales[this.optimal_scale_index],this.optimal_scale=this.optimal_scale_obj.scale)}},{key:"calculate_min_max_scales",value:function(e,t,i){var n=e/this.max_width,r=t/this.max_height,o=this.params.max_scale;return void 0===o&&(o=this.SCALE_MAX),r=(i?e<t:r<n)?r:n,0==+o?0==this.max_scale?(o=r,this.max_scale=o):o=0==+o?r:this.max_scale:this.max_scale=o,n="no"===this.params.hires_forced_zoom?this.devicePixelRatio:1,this.max_scale=o=o===r?o:o/n,this.min_scale=Math.min(r,o),this.update_zoom_buttons(),{min:this.min_scale,max:o}}},{key:"update_zoom_buttons",value:function(e){this.control_panel&&(this.min_scale<this.max_scale?this.control_panel.show_zoom_buttons():this.control_panel.hide_zoom_buttons())}},{key:"hexToRgba",value:function(e){var t=[];return t.push(hr()(e.substr(0,2),16)),t.push(hr()(e.substr(2,2),16)),t.push(hr()(e.substr(4,2),16)),e.substr(6,2)?t.push(hr()(e.substr(6,2),16)/255):t.push(1),"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"}},{key:"hexToRgb",value:function(e){var t=[];return t.push(hr()(e.substr(0,2),16)),t.push(hr()(e.substr(2,2),16)),t.push(hr()(e.substr(4,2),16)),"rgb("+t[0]+","+t[1]+","+t[2]+")"}},{key:"get_translate",value:function(e,t,i){var n,r="c_"+e.real_scale+"_"+this.scale+"_"+this.centerx+"_"+this.centery+"_";return r+=t.cc+"_"+t.rr+"_"+t.w+"_"+t.h+"_"+this.base_width+"_"+this.base_height,this.translates_cache[r]||(i={scale:n=this.get_local_scale(e.real_scale),coords:this.get_tile_position(e,t,n,i),cache_key:r},this.translates_cache[r]=i)}},{key:"calculate_position",value:function(e,t,i){var n=e.width,r=e.height,o=e.real_scale,s=n+"_"+r+"_"+o+"_"+t.x+"_"+t.y+"_"+i;return s+="_"+this.centerx+"_"+this.centery+"_"+this.width+"_"+this.height,this._position_cache[s]||(e=this.get_offsets(o,i),n=n*i,r=r*i,n=(this.width-n)/2,r=(this.height-r)/2,n-=e.x,r-=e.y,t.x&&(n+=t.x*(o/1e3)*i),t.y&&(r+=t.y*(o/1e3)*i),r={x:n,y:r},this._position_cache[s]=r)}},{key:"calculate_reverse_position",value:function(e,t,i){var n,r,o=e.width,s=e.height,a=e.real_scale,l=o+"_"+s+"_"+a+"_"+t.x+"_"+t.y+"_"+i;return l+="_"+this.centerx+"_"+this.centery+"_"+this.width+"_"+this.height,this._position_cache[l]||(e=this.get_offsets(a,i),o=o*i,s=s*i,o=(this.width-o)/2,s=(this.height-s)/2,o-=e.x,s-=e.y,t.x&&(n=(t.x-o)/(a/1e3*i)),t.y&&(r=(t.y-s)/(a/1e3*i)),r={x:n,y:r},this._position_cache[l]=r)}},{key:"get_local_scale",value:function(e){return Math.round(this.scale/(e/1e3)*1e5)/1e5}},{key:"get_tile_position",value:function(e,t,i,n){var r,o,s,a;return n.has_cache?(r=n.trans_x,o=n.trans_y):(s=e.width,a=e.height,e=e.real_scale,e=this.get_offsets(e,i),s=s*i,a=a*i,r=(this.width-s)/2,o=(this.height-a)/2,r-=e.x,o-=e.y,n.trans_x=r,n.trans_y=o,n.has_cache=!0),(i=this.get_tile_coords(t,i)).x&&(r+=i.x),i.y&&(o+=i.y),{x:Math.round(r),y:Math.round(o),w:i.w,h:i.h}}},{key:"get_offsets",value:function(e,t){return{x:(this.params.transform_hpos&&this.scale===this.min_scale?(this.params.transform_hpos<-1&&(this.params.transform_hpos=-1),1<this.params.transform_hpos&&(this.params.transform_hpos=1),this.centerx-this.max_width/2*(1+this.params.transform_hpos)):this.centerx-this.max_width/2)*(e/1e3)*t,y:(this.params.transform_vpos&&this.scale===this.min_scale?(this.params.transform_vpos<-1&&(this.params.transform_vpos=-1),1<this.params.transform_vpos&&(this.params.transform_vpos=1),this.centery-this.max_height/2*(1-this.params.transform_vpos)):this.centery-this.max_height/2)*(e/1e3)*t}}},{key:"get_tile_coords",value:function(e,t){var i=Math.round(e.w*t),t=Math.round(e.h*t);return{x:i*e.cc,y:t*e.rr,w:i,h:t}}},{key:"pre_fullscreen_setup",value:function(){void 0===this.container_width_style&&(this.container_width_style=this.container.style.width),void 0===this.container_height_style&&(this.container_height_style=this.container.style.height),void 0===this.canvas_width&&(this.canvas_width=this.canvas.width),void 0===this.canvas_height&&(this.canvas_height=this.canvas.height),void 0===this.document_body_overflow&&(this.document_body_overflow=document.body.style.overflow),void 0===this.document_html_overflow&&(this.document_html_overflow=this.html_element.style.overflow),this.nosize&&(void 0===this.nosize_position&&(this.nosize_position=this.nosize.style.position),void 0===this.nosize_padding_bottom&&(this.nosize_padding_bottom=this.nosize.style.paddingBottom))}},{key:"on_fullscreen_enter",value:function(){var e=this;this.control_panel&&this.control_panel.infoButton&&this.control_panel.infoButton.close(),this.force_size=!1,this.canvas.style.opacity="0",this.tiles_obj.style.opacity="0",this.fullscreen&&"4"!=this.params.style&&"no"!=this.params.fullscreen_enabled&&this.control_panel.fullscreen_on(),this.has_html5_fullscreen()?(this.container.style.backgroundColor=this.canvas.style.backgroundColor,this.container.style.width="100%",this.container.style.height="100%"):(this.handle_fullscreen_resize_viewport(),this.is_doing_fullscreen=!1),this.nosize&&(this.nosize.style.position="static",this.nosize.style.paddingBottom="0"),this.vport.style.border="none",window.setTimeout(function(){e.is_destroyed||(e.has_html5_fullscreen()&&e.resizeViewport(),e.dispatchEvent("fullscreen_on"))},300),window.setTimeout(function(){e.is_destroyed||(e.has_html5_fullscreen()?e.is_doing_html5_fullscreen=!1:e.is_doing_fullscreen=!1,e.tiles_obj.style.opacity="1",e.fade_in(e.canvas))},350)}},{key:"on_fullscreen_cancel",value:function(){var e=this;this.canvas.style.opacity="0",this.tiles_obj.style.opacity="0",this.force_size=!0,this.fullscreen||"4"==this.params.style||"no"==this.params.fullscreen_enabled||this.control_panel.fullscreen_off(),this.has_html5_fullscreen()?this.is_doing_html5_fullscreen=!0:this.is_doing_fullscreen=!0,this.vport.style.border=this.border_style,this.container.style.width=this.container_width_style,this.container.style.height=this.container_height_style,this.has_html5_fullscreen()&&(this.container.style.backgroundColor="transparent"),this.nosize&&(this.nosize.style.position=this.nosize_position,this.nosize.style.paddingBottom=this.nosize_padding_bottom),window.setTimeout(function(){e.is_destroyed||(e.resizeViewport(),e.dispatchEvent("fullscreen_off"))},300),window.setTimeout(function(){e.is_destroyed||(e.has_html5_fullscreen()?e.is_doing_html5_fullscreen=!1:e.is_doing_fullscreen=!1,e.tiles_obj.style.opacity=1,e.fade_in(e.canvas))},350)}},{key:"toggle_fullscreen_mode",value:function(){var t=this;this.is_doing_fullscreen||"no"===this.params.fullscreen_enabled||(this.pre_fullscreen_setup(),this.has_html5_fullscreen()?(this.fullscreen_eventname_bound||(this.fullscreen_eventname_bound=!0,this.fullscreen_event_handler=function(e){t.handle_html5_fullscreen_event(e)},Vr.a.addEventListener("fullscreenchange",this.fullscreen_event_handler)),this.fullscreen?this.cancel_html5_fullscreen():(this.is_doing_html5_fullscreen=!0,this.enable_html5_fullscreen(this.container))):(this.is_doing_fullscreen=!0,this.switch_no_html5_fullscreen()))}},{key:"switch_no_html5_fullscreen",value:function(){var e,t,i,n,r,o=this,s=document.querySelector('meta[name="viewport"]');for(null===this.resize_handler&&(this.resize_handler=function(e){o.handle_fullscreen_resize_viewport()}),null===this.orientation_change_handler&&(this.orientation_change_handler=function(e){o.fullscreen&&!o.is_doing_fullscreen&&o.switch_no_html5_fullscreen()}),this.fullscreen=!this.fullscreen,t=0,i=(e=this.container.getElementsByClassName("zindexer")).length;t<i;t++)this.changeElementZIndex(e[t],this.fullscreen);this.changeElementZIndex(this.vport,this.fullscreen),this.fullscreen?(s?(this.viewport_content=s.content,s.content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"):(r=document.createElement("meta"),n=document.getElementsByTagName("head"),r.name="viewport",r.content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1",n&&n[0]&&n[0].appendChild(r)),r=this.container.getBoundingClientRect(),this.container_top=r.top,this.container_left=r.left,this.container_zindex=this.container.style.zIndex,this.document_body_position=document.body.style.position,this.document_body_left=document.body.style.left,this.document_body_right=document.body.style.right,this.document_body_top=document.body.style.top,this.document_body_bottom=document.body.style.bottom,this.document_body_padding=document.body.style.padding,this.document_body_margin=document.body.style.margin,this.document_body_scroll_top=document.body.scrollTop,this.document_body_scroll_left=document.body.scrollLeft,this.document_body_width=document.body.clientWidth,this.document_body_height=document.body.clientHeight,this.window_width=window.innerWidth,this.window_height=window.innerHeight,document.body.style.position="fixed",document.body.style.left="0",document.body.style.right="0",document.body.style.top="0",document.body.style.bottom="0",document.body.style.margin="0",document.body.style.padding="0",this.container_parent=this.container.parentNode,this.container.style.position="fixed",this.container.style.left=r.left+"px",this.container.style.top=r.top+"px",this.container.style.zIndex="9999999",this.container_parent.removeChild(this.container),document.body.insertBefore(this.container,document.body.firstChild),this.events.removeEvents(),this.events.attachEvents(),this.switch_sizer_object(document.body),window.addEventListener("orientationchange",this.orientation_change_handler),this.container.style.left="0",this.container.style.top="0",void 0===this.container_parent_style_width&&(this.container_parent_style_width=this.container_parent.style.width),void 0===this.container_parent_style_height&&(this.container_parent_style_height=this.container_parent.style.height),this.container_parent.style.width="0",this.container_parent.style.height="0",this.on_fullscreen_enter()):(this.viewport_content?s&&(s.content=this.viewport_content):(s.content="",s.parentNode.removeChild(s)),window.removeEventListener("orientationchange",this.orientation_change_handler),document.body.style.overflow=this.document_body_overflow,this.html_element.style.overflow=this.document_html_overflow,document.body.style.position=this.document_body_position,document.body.style.left=this.document_body_left,document.body.style.right=this.document_body_right,document.body.style.top=this.document_body_top,document.body.style.bottom=this.document_body_bottom,document.body.style.padding=this.document_body_padding,document.body.style.margin=this.document_body_margin,window.innerWidth===this.window_width&&window.innerHeight===this.window_height||(s=r=1,0!==this.document_body_scroll_left&&(r=document.body.clientWidth/this.document_body_width,this.document_body_scroll_left=hr()(r*this.document_body_scroll_left)),0!==this.document_body_scroll_top&&(s=document.body.clientHeight/this.document_body_height,this.document_body_scroll_top=hr()(s*this.document_body_scroll_top))),document.body.scrollLeft=this.document_body_scroll_left,document.body.scrollTop=this.document_body_scroll_top,this.container.style.top=this.container_top+"px",this.container.style.left=this.container_left+"px",this.container.style.zIndex=this.container_zindex,document.body.removeChild(this.container),this.switch_sizer_object(this.container),this.container_parent.style.width=this.container_parent_style_width,this.container_parent.style.height=this.container_parent_style_height,this.container_parent.appendChild(this.container),this.container.style.top="0px",this.container.style.left="0px",this.container.style.position="relative",this.canvas.style.backgroundColor=this.params.background_color,this.params.background_color_opacity&&(this.canvas.style.backgroundColor=this.hexToRgba(this.params.background_color.substr(1,6)+this.params.background_color_opacity)),this.resizeViewport(),this.on_fullscreen_cancel())}},{key:"handle_fullscreen_resize_viewport",value:function(){var e=this.width,t=this.height;document.body&&document.body.scrollWidth&&(e=document.body.scrollWidth,t=document.body.scrollHeight),"CSS1Compat"===document.compatMode&&document.documentElement&&document.documentElement.scrollWidth&&(e=document.documentElement.scrollWidth,t=document.documentElement.scrollHeight),window.innerWidth&&window.innerHeight&&(e=window.innerWidth,t=window.innerHeight),this.container.style.width=e+"px",this.container.style.height=t+"px",this.resizeViewport(e,t),this.events.removeEvents(),this.events.attachEvents()}},{key:"cancel_html5_fullscreen",value:function(){Vr.a.exitFullscreen()}},{key:"enable_html5_fullscreen",value:function(e){Vr.a.requestFullscreen(e)}},{key:"has_html5_fullscreen",value:function(){return void 0===this.fullscreen_supported&&(this.fullscreen_supported=Vr.a.fullscreenEnabled),this.fullscreen_supported}},{key:"handle_html5_fullscreen_event",value:function(e){this.fullscreen=!this.fullscreen,this.fullscreen?this.on_fullscreen_enter():this.on_fullscreen_cancel()}},{key:"changeElementZIndex",value:function(e,t){var i=e.style.zIndex||document.defaultView.getComputedStyle(e).getPropertyValue("z-index");t?i*=1e3:i/=1e3,e.style.zIndex=i}},{key:"apply_constraints",value:function(e){var t,i,n,r;e.scale=Math.max(this.min_scale,e.scale),e.scale=Math.min(this.max_scale,e.scale),n=(t=this.width/e.scale)/2,r=(i=this.height/e.scale)/2,e.centerx=Math.max(e.centerx,n),this.max_width-e.centerx<n&&(e.centerx=this.max_width-n),this.max_width<t&&(e.centerx=this.max_width/2),e.centery=Math.max(e.centery,r),this.max_height-e.centery<r&&(e.centery=this.max_height-r),this.max_height<i&&(e.centery=this.max_height/2),e.hangle<0?e.hangle=this.pl_get_last_loaded_frame_no():e.hangle>=this.frames_no&&(e.hangle=this.pl_get_first_loaded_frame_no()),null!==e.vangle&&(e.vangle>=this.vangles_no?e.vangle=this.vangles_no-1:e.vangle<0&&(e.vangle=0))}},{key:"on_refresh",value:function(){this.refresh&&(this.refresh=!1,this.refresh_view_task())}},{key:"rebuild_tiles",value:function(){var e=this;this.rebuild_tiles_timeout=window.setTimeout(function(){e.is_destroyed||(e.scalling&&(e.scalling=!1,e.is_button_scalling=!1),e.rebuild_tiles_task())},this.rebuild_tiles_time)}},{key:"clear_rebuild_tiles_timeout",value:function(){this.rebuild_tiles_timeout&&(window.clearTimeout(this.rebuild_tiles_timeout),this.rebuild_tiles_timeout=null)}},{key:"refresh_view_task",value:function(){var e,t,i,n,r,o,s,a,l,h,c,u,_,d,f,p,m,v,g,A,w,y,b,E,x,k,B,T,M;if(this.container){if(f=this.queue_obj,e=this.scale!=f.scale||this.scalling,i=(t=this.hangle!=f.hangle||this.vangle!=f.vangle)||this.rotating,p=(this.centerx!=f.centerx||this.centery!=f.centery)&&f.scale>this.min_scale,y=this.dimensions_changed,r=!(n=.4),o={scale:this.scale,centerx:this.centerx,centery:this.centery,hangle:this.hangle,vangle:this.vangle,mode:this.mode},!(e||t||p||this.is_rotate_to||y))return this.dispatch_events(o,t,e,p,1e3*n),this.is_panning=!1,void this.on_activity_end();for(s in this.fading_tiles)this.fading_tiles.hasOwnProperty(s)&&(this.fading_tiles[s]=null);if(this.request_rebuild_tiles=!0,o.scale!==this.max_scale||f.scale!==o.scale||ar.isTweening(this.frameObj)||this.is_mobile||this.is_panning||(e=!1),a=this.vport.clientWidth,l=this.vport.clientHeight,0!==a&&0!==l&&(a=a*this.devicePixelRatio,l=l*this.devicePixelRatio,this.canvas.width==a&&this.canvas.height==l||(this.canvas.width=a,this.canvas.height=l,ar.killTweensOf(this.frameObj),r=!0),this.tiles_obj.width=this.canvas.width,this.tiles_obj.height=this.canvas.height),h={},u=(c=this.tiles_scale_obj).scale,_=c.cols,d=c.rows,this.scale=f.scale,this.centerx=f.centerx,this.centery=f.centery,this.hangle=f.hangle,this.vangle=f.vangle,this.curr_scale=this.scale,this.prev_scale=o.scale,(f=this.base_frames[this.vangle][this.hangle])||(t&&!this.rotating&&(i=t=!1),!~this.pl_vangles_loaded.indexOf(this.vangle)&&this.base_frames[o.vangle][this.hangle]||(this.hangle=o.hangle),this.vangle=o.vangle,f=this.base_frames[this.vangle][this.hangle]),(i||y||this.is_rotate_to)&&this.clear_tiles_buffer(_,d),e&&this.calculate_optimal_scale(!1,this.scale),this.tiles_scale!=this.optimal_scale&&(this.clear_tiles_buffer(_,d),this.tiles_scale=this.optimal_scale,this.tiles_scale_index=this.optimal_scale_index,this.tiles_scale_obj=this.tiled_image.scales[this.tiles_scale_index]),y=this.should_tween(e,p,i,y),this.dispatch_events(o,t,e,p,1e3*n),this.is_panning=!1,this.dimensions_changed=!1,p=this.get_base_scale_obj(this.vangle,this.hangle),this.set_transform(f,p,p.images[0][0],{}),this.tiles_buffer)for(m=c.scale,v={},g=0;g<_;g++)for(A=0;A<d;A++)(w=c.images[g][A]).buffered&&(w=this.set_transform(w.imageElement,c,c.images[g][A],v),h[m+"_"+g+"_"+A+"_x"]=w.coords.x,h[m+"_"+g+"_"+A+"_y"]=w.coords.y,h[m+"_"+g+"_"+A+"_scale"]=w.scale);if(y&&this.scale==o.scale&&ar.isTweening(this.frameObj)&&(void 0===this.tween_speed?this.tween_speed=n:(this.tween_speed-=.005,n=this.tween_speed),this.tween_speed<=0&&(ar.killTweensOf(this.frameObj),y=!1,this.tween_speed=void 0,this.scalling=!1,this.is_button_scalling=!1,this.on_activity_end())),y)ar.isTweening(this.frameObj)&&this.tween.kill(),fr()(this.frameObj,this.current_frame_coords),this.frameObj.image=f,(y=fr()({x:f.current_translates.coords.x,y:f.current_translates.coords.y,scale:f.current_translates.scale,ease:this.animating?"sine.inOut":"sine.out"},h)).onStart=this.tween_onstart,y.onStartParams=[e,i],y.onUpdate=this.tween_onupdate,y.onUpdateParams=[r,f,_,d],y.onComplete=this.tween_oncomplete,y.onCompleteParams=[e,i],y.immediateRender=!0,y.duration=n,this.tween=ar.to(this.frameObj,y);else{if(this.frameObj&&ar.killTweensOf(this.frameObj),this.canvas_context.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawOnCanvas(f,f.current_translates.coords.x,f.current_translates.coords.y,f.width*f.current_translates.scale,f.height*f.current_translates.scale,ar.isTweening(this.frameObj)),this.tiles_buffer)for(b=0;b<_;b++)for(E=0;E<d;E++)(x=c.images[b][E]).buffered&&(k=h[u+"_"+b+"_"+E+"_x"],B=h[u+"_"+b+"_"+E+"_y"],T=Math.round(x.imageElement.width*h[u+"_"+b+"_"+E+"_scale"]),M=Math.round(x.imageElement.height*h[u+"_"+b+"_"+E+"_scale"]),this.tiles_fade_in_effect||this.canvas_context.clearRect(k*this.devicePixelRatio,B*this.devicePixelRatio,T*this.devicePixelRatio,M*this.devicePixelRatio),this.canvas_context.drawImage(x.imageElement,k*this.devicePixelRatio,B*this.devicePixelRatio,T*this.devicePixelRatio,M*this.devicePixelRatio));this.current_frame_coords=fr()({x:f.current_translates.coords.x,y:f.current_translates.coords.y,scale:f.current_translates.scale},h)}this.rotate_to(i),this.on_activity_end()}}},{key:"compare_tweens",value:function(e,t){for(var i in e)if(e.hasOwnProperty(i)){if("duration"===i||"ease"===i||"image"===i)continue;if(null!=e[i]&&(void 0===t[i]||t[i]!==e[i]))return!1}return!0}},{key:"set_animation_data",value:function(e,t){fr()(e,t),delete e.image}},{key:"rebuild_tiles_task",value:function(){var l,h,n,r,o,c,s,u,_,d,e,f=this,p={};if(this.tiles_scale_obj.scale!=this.base_scale_obj.scale)for(this.request_rebuild_tiles=!1,_=this.width*this.devicePixelRatio,d=this.height*this.devicePixelRatio,s=this.tiles_scale_obj,u=s.images,c=s.scale,l=s.cols,h=s.rows,this.tiles_buffer||(this.tiles_buffer=!0,this.tiles_obj.style.opacity="1"),r=0;r<l;r++)for(e=function(){var a,e,t,i;n=u[r][o],e=f.set_transform(n.imageElement,s,n,p).coords,t=f.optimal_scale_index,i="tc_"+c+"_"+r+"_"+o+"_"+f.vangle+"_"+f.hangle,0<e.x+e.w&&e.x<_&&0<e.y+e.h&&e.y<d&&(f.tiles_cache[i]||f.load_tile(n,c,t,function(e,t,i){var n,r,o,s=e.imageElement;0===s.naturalWidth&&0===s.naturalHeight||(1===l&&1===h&&(n=f.vangle+"_"+f.hangle,r=f.base_scale_obj,f.base_scales_upsized[n]&&(r=f.base_scales_upsized[n]),i=f.tiled_image.scales[i],r.scale<c&&(f.base_scales_upsized[n]=i,f.base_frames[f.vangle][f.hangle]=e.imageElement,i=f.get_translate(i,i.images[0][0],{}),f.current_frame_coords={x:i.coords.x,y:i.coords.y,scale:i.scale})),a=e.imageElement.current_translates,f.tiles_buffer&&(f.refresh||f.request_rebuild_tiles||(f.tiles_cache["tc_"+t+"_"+e.cc+"_"+e.rr+"_"+f.vangle+"_"+f.hangle]=!0,f.current_frame_coords[t+"_"+e.cc+"_"+e.rr+"_x"]=a.coords.x,f.current_frame_coords[t+"_"+e.cc+"_"+e.rr+"_y"]=a.coords.y,f.current_frame_coords[t+"_"+e.cc+"_"+e.rr+"_scale"]=a.scale,e.buffered=!0,f.tiles_fade_in_effect?(o=f.fading_tiles.push({opacity:0,img:s,canvas:document.createElement("canvas")})-1,f.tile_fade_in(o,a.coords.x,a.coords.y,s.naturalWidth*a.scale,s.naturalHeight*a.scale)):(o=Math.round(s.naturalWidth*a.scale),s=Math.round(s.naturalHeight*a.scale),f.canvas_context.clearRect(a.coords.x*f.devicePixelRatio,a.coords.y*f.devicePixelRatio,o*f.devicePixelRatio,s*f.devicePixelRatio),f.canvas_context.drawImage(e.imageElement,a.coords.x*f.devicePixelRatio,a.coords.y*f.devicePixelRatio,o*f.devicePixelRatio,s*f.devicePixelRatio)))))}))},o=0;o<h;o++)e()}},{key:"should_tiles_fade_in",value:function(e){var t,i,n,r=document.createElement("canvas"),o=r.getContext("2d"),s=0,a=e.width,l=e.height;for(r.width=a,r.height=l,o.drawImage(e,0,0,a*this.devicePixelRatio,l*this.devicePixelRatio),t=o.getImageData(0,0,a,l).data,i=0;i<l;++i)for(n=0;n<a&&(t[4*(i*a+n)+3]<255&&s++,!(100<s));++n);100<s&&(this.tiles_fade_in_effect=!1)}},{key:"tile_fade_in",value:function(t,i,n,r,o,e){var s,a=this;if(this.fading_tiles&&this.fading_tiles[t]){if(1<=(s=this.fading_tiles[t]).opacity||this.is_destroyed)return s.opacity=1,void(this.fading_tiles[t]=null);0==s.opacity&&(s.canvas.width=r*this.devicePixelRatio,s.canvas.height=o*this.devicePixelRatio,s.time={start:performance.now(),total:50}),void 0!==e&&(s.time.elapsed=e-s.time.start,200<s.time.elapsed&&(s.opacity=1)),window.requestAnimationFrame(function(e){a.tile_fade_in(t,i,n,r,o,e)}),(e=s.canvas.getContext("2d")).clearRect(0,0,r*this.devicePixelRatio,o*this.devicePixelRatio),e.save(),e.globalAlpha=s.opacity,e.drawImage(s.img,0,0,Math.round(r)*this.devicePixelRatio,Math.round(o)*this.devicePixelRatio),e.restore(),this.tiles_obj_context.clearRect(i*this.devicePixelRatio,n*this.devicePixelRatio,r*this.devicePixelRatio,o*this.devicePixelRatio),this.tiles_obj_context.drawImage(s.canvas,i*this.devicePixelRatio,n*this.devicePixelRatio,Math.round(r)*this.devicePixelRatio,Math.round(o)*this.devicePixelRatio),s.opacity+=.5<s.opacity?.125:.1}}},{key:"fade_in",value:function(e){var t=this;1<_r()(e.style.opacity)?e.style.opacity=1:(window.requestAnimationFrame(function(){t.fade_in(e)}),e.style.opacity=""+(_r()(e.style.opacity)+.1))}},{key:"refresh_position",value:function(){var e=this.container;if(this.x=0,this.y=0,e.offsetParent)for(;this.x+=e.offsetLeft,this.y+=e.offsetTop,e=e.offsetParent;);}},{key:"get_mode",value:function(e,t){var i,n;if(1==this.frames_no||this.gesture_scalling)return this.MODE_DRAG;if("drag"===this.forced_mode)return this.MODE_DRAG;if(i=this.mode,this.auto_drag_switch){if(i=this.MODE_ROTATE,t&&(i=t),e&&(n=this.min_scale>=this.scale,t?t===this.MODE_ROTATE&&0!==e.dy&&this.vmove&&!n&&0===e.dx&&(i=this.MODE_DRAG):i=0!==e.dy&&this.vmove&&!n&&Math.abs(e.dy)>Math.abs(e.dx)?this.MODE_DRAG:this.MODE_ROTATE),"rotate"===this.forced_mode)return i;if(n=this.scale-this.min_scale,!this.forced_mode)if("2"==this.params.style||"3"==this.params.style){if(this.scale>this.min_scale)return this.MODE_DRAG}else if(this.max_width*n>2*this.width)return this.MODE_DRAG}else if("rotate"===this.forced_mode&&(i=this.MODE_ROTATE,t&&(i=t)),this.forced_mode||(this.forced_mode="rotate"),e&&(n=this.min_scale>=this.scale,t?t==this.MODE_ROTATE&&0!=e.dy&&this.vmove&&!n&&0==e.dx&&(i=this.MODE_DRAG):(t=Math.abs(e.dy)>Math.abs(e.dx),i=0!=e.dy&&this.vmove&&!n&&t?this.MODE_DRAG:this.MODE_ROTATE)),"rotate"===this.forced_mode)return i;return i}},{key:"next_frame",value:function(e,t){var i=this.rotate_dir;e&&(i=this.auto_rotate_dir),e=this.hangle,t||(e=this.get_transformed_value("hangle")),this.can_rotate(e,1,i)&&this.transform({hangle:e+ +i})}},{key:"prev_frame",value:function(e,t){var i=this.rotate_dir;e&&(i=this.auto_rotate_dir),e=this.hangle,t||(e=this.get_transformed_value("hangle")),this.can_rotate(e,-1,i)&&this.transform({hangle:e-+i})}},{key:"can_rotate",value:function(e,t,i){if("yes"!==this.params.continous)if(i=this.get_closest_frame(e+t*i,this.vangle),i=this.get_rotate_to_dir(e,i.hangle,this.params.continous,this.params.border_frame,this.frames_no),t<0){if(this.rotate_dir<0){if(i<=0)return!1}else if(0<=i)return!1}else if(this.rotate_dir<0){if(0<=i)return}else if(i<=0)return;return!0}},{key:"should_tween",value:function(e,t,i,n){return this.is_initializing?this.is_initializing=!1:!(this.is_mobile&&!this.is_panning&&!this.animating&&!this.is_button_scalling||this.is_doing_html5_fullscreen||this.is_doing_fullscreen||!(e||t||n)||i||this.gesture_scalling||this.mode==this.MODE_DRAG&&!e&&!this.is_panning||this.is_doing_html5_fullscreen||(this.supports_ms_pointer&&this.gesture_scalling,0))}},{key:"dispatch_events",value:function(e,t,i,n,r){var o,s,a=this,l=this.queue_obj,h=e.scale<l.scale;t&&this.dispatchEvent("rotate"),(l.scale==e.scale&&e.centerx==l.centerx&&e.centery==l.centery||l.scale==this.min_scale&&l.scale==e.scale)&&l.force_zoom_complete&&(this.dispatchEvent("zoom_started"),this.dispatchEvent("zoom_complete")),i&&(this.dispatchEvent("zoom_started"),h?this.dispatchEvent("zoom_in_started"):this.dispatchEvent("zoom_out_started"),this.auto_drag_switch&&this.forced_mode&&(this.forced_mode=null),l.scale==e.scale&&e.centerx==l.centerx&&e.centery==l.centery||l.scale==this.min_scale&&l.scale==e.scale?this.dispatchEvent("zoom_complete"):(o=function(e){e?a.dispatchEvent("zoom_in"):a.dispatchEvent("zoom_out"),a.dispatchEvent("zoom_complete")},this.scalling_timeout&&(window.clearTimeout(this.scalling_timeout),this.scalling_timeout=null),this.scalling_timeout=window.setTimeout(function(){a.is_destroyed||o(h)},r))),(n||this.queue_obj.is_centering)&&(s=function(){e.mode==a.MODE_DRAG?a.dispatchEvent("move_end"):a.dispatchEvent("center_change_complete")},this.centering_timeout&&(window.clearTimeout(this.centering_timeout),this.centering_timeout=null),!n&&this.queue_obj.is_centering&&(r=0),this.centering_timeout=window.setTimeout(function(){a.is_destroyed||s()},r),this.is_panning||this.animating?this.dispatchEvent("center_change"):i||this.dispatchEvent("move"))}},{key:"set_transform",value:function(e,t,i,n){n=this.get_translate(t,i,n);return e.current_translates=n}},{key:"scaleUp",value:function(){this.dispatchEvent("interaction_start"),this.dispatchEvent("activity_start"),this.is_button_scalling=!0,this.transform({scale:Math.round(this.scale*this.SCALE_FACTOR*1e5)/1e5})}},{key:"scaleDown",value:function(e){e=e||this.SCALE_FACTOR,this.dispatchEvent("interaction_start"),this.dispatchEvent("activity_start"),this.is_button_scalling=!0,this.transform({scale:Math.round(this.scale/e*1e5)/1e5})}},{key:"clear_tiles_buffer",value:function(e,t){var i,n,r=this.tiles_scale_obj;for(this.tiles_obj.style.opacity="0",this.tiles_buffer=!1,this.tiles_cache={},i=0;i<e;i++)for(n=0;n<t;n++)r.images[i][n].buffered=!1,delete r.images[i][n].imageElement,r.images[i][n].imageElement=new Image}},{key:"load_tile",value:function(t,i,n,r){var o=this,e=this.sequence.get_image_url(this.frame_divider*this.hangle,this.optimal_scale,t.cc,t.rr,this.vangle);new qr(e,t.imageElement,this.webp_support).load().then(function(e){o.is_destroyed||r(t,i,n)})}},{key:"resize_canvas",value:function(e,t,i){var n,r=e.width/2,o=e.height/2;return r<t||o<i||t<1||i<1?e:((n=document.createElement("canvas")).width=r,n.height=o,n.getContext("2d").drawImage(e,0,0,r,o),this.resize_canvas(n,t,i))}},{key:"drawOnCanvas",value:function(e,t,i,n,r,o){var s,a;this.clear_rebuild_tiles_timeout(),(r=e[n="resized_image_"+(s=Math.round(n*this.devicePixelRatio))+"_"+(a=Math.round(r*this.devicePixelRatio))])||(r=this.resize_canvas(e,s,a)).width===e.width&&r.height===e.height||(e[n]=r),this.canvas_context.drawImage(r,t*this.devicePixelRatio,i*this.devicePixelRatio,s,a),o||this.rebuild_tiles()}},{key:"set_panning",value:function(e){this.panning_enabled=e}},{key:"set_forced_mode",value:function(e){this.forced_mode=e}},{key:"get_loaded_frames",value:function(){for(var e,t=[],i=0;i<this.base_frames.length;i++)if(this.base_frames[i])for(e=0;e<this.base_frames[i].length;e++)this.base_frames[i][e]&&t.push(i+"_"+e);return t}},{key:"frames_distance",value:function(e,t,i,n,r){var o=Math.max(e,t),e=Math.min(e,t),t=o-e,r=r-o+e;return"yes"===i?Math.min(t,r):n<=o&&e<n?r:t}},{key:"rotate_to",value:function(e){if(this.rotating&&this.is_rotate_to){if(this.hangle===this.rotate_to_hangle&&this.vangle===this.rotate_to_vangle)return this.rotate_to_hangle=null,this.rotate_to_vangle=null,this.is_rotate_to=!1,this.rotating=!1,this.dispatchEvent("animator_rotate"),!1;this.hangle===this.rotate_to_hangle&&(this.rotate_to_dir=0),this.vangle===this.rotate_to_vangle&&(this.rotate_to_vdir=0),this.transform({hangle:this.find_rotate_to_frame(),vangle:this.vangle+this.rotate_to_vdir})}return e}},{key:"rotateTo",value:function(e,t){var i=0,n=this.get_transformed_value("hangle"),r=this.get_transformed_value("vangle");this.rotate_to_hangle=void 0!==e?e:n,this.rotate_to_vangle=void 0!==t?t:r,void 0!==e&&e!==n||void 0!==t&&t!==r?(this.is_rotate_to=!0,this.rotating=!0,this.rotate_rate=1,70<this.frames_no&&36<(i=this.frames_distance(this.hangle,this.rotate_to_hangle,this.params.continous,this.params.border_frame,this.frames_no))&&(this.rotate_rate=Math.round(i/36)),this.rotate_to_dir=this.get_rotate_to_dir(n,this.rotate_to_hangle,this.params.continous,this.params.border_frame,this.frames_no),this.rotate_to_vdir=0,this.rotate_to_vangle>r?this.rotate_to_vdir=1:this.rotate_to_vangle<r&&(this.rotate_to_vdir=-1),this.transform({hangle:this.find_rotate_to_frame(),vangle:r+this.rotate_to_vdir})):this.dispatchEvent("animator_rotate")}},{key:"find_rotate_to_frame",value:function(){var e=this.get_transformed_value("hangle"),t=e+this.rotate_to_dir*Math.ceil(this.rotate_rate);return(e<this.rotate_to_hangle&&this.rotate_to_hangle<t||e>this.rotate_to_hangle&&this.rotate_to_hangle>t)&&(t=this.rotate_to_hangle),t}},{key:"get_rotate_to_dir",value:function(e,t,i,n,r){var o;return t===e?0:(o=1,"yes"!==i?e<t?e<n&&n<=t&&(o=-1):o=t<n&&n<=e?1:-1:e<t?r/2<t-e&&(o=-1):e-t<r/2&&(o=-1),o)}},{key:"get_rotation_hangle",value:function(){return this._rotation_hangle}},{key:"set_rotation_hangle",value:function(e){this.mode!==this.MODE_ONEROTATION&&this.mode!==this.MODE_ONEROTATION_SLOW||(e=Math.round(e),(e=this.rotation_start_hangle+e*this.auto_rotate_dir)>=this.frames_no?e-=this.frames_no:e<0&&(e+=this.frames_no),e===(e=this.get_closest_frame(e,this.vangle).hangle)&&this.transform({hangle:e}))}},{key:"oneRotation",value:function(e){var t=this;this.rotation_start_hangle=this.get_transformed_value("hangle"),this._rotation_hangle=0,e=e||1,this.rotation_obj={rotation_hangle:this._rotation_hangle},ar.to(this.rotation_obj,{rotation_hangle:this.frames_no,ease:"sine.inOut",duration:e,onUpdate:function(){t.set_rotation_hangle(t.rotation_obj.rotation_hangle)},onComplete:function(){t.dispatchEvent("animator_rotate"),t.rotating=!1,t.transform({})}})}},{key:"oneRotationSlow",value:function(){this.oneRotation(4)}},{key:"refreshAnimationFrame",value:function(){var e=this;window.requestAnimationFrame(function(){e.on_refresh()})}},{key:"ovlog",value:function(e){this.ov_debugger&&this.ov_debugger.log(e)}}]),Xr=go,J(vo.prototype,[{key:"parse_size",value:function(e,t){return"auto"==(e=""+e)?"100%":void 0===e?t:~e.indexOf("%")||~e.indexOf("px")?e:hr()(e)+"px"}},{key:"cleanup_container",value:function(e){var t=1;if(e&&e.hasChildNodes())for(;e.childNodes.length>=t;)"script"!=e.firstChild.nodeName.toLowerCase()?e.removeChild(e.firstChild):t++}},{key:"setup_container_element",value:function(e,t,i){var n;return e.classList.add("orbitvu-container"),e.style.width=t.width,e.style.height=t.height,e.style.margin="0 auto","static"===getComputedStyle(e).position&&(e.style.position="relative"),"yes"!==t.disable_nosize&&0===e.scrollHeight&&0<e.scrollWidth&&~(""+e.style.height).indexOf("%")?((n=document.createElement("div")).className="ov-nosize ov-sixteen-nine",n.style.position="relative",n.style.height="0",t.nosize_ratio?2===(t=t.nosize_ratio.split("/")).length&&(n.style.paddingBottom=100*hr()(t[1],10)/hr()(t[0],10)+"%"):n.style.paddingBottom="56.25%",e.appendChild(n),{elem:n,nosize:!0}):{elem:e,nosize:!1}}},{key:"apply_sizing_css",value:function(e,t){e=e.style;e.margin="0",e.padding="0",e.boxSizing="border-box",e.lineHeight="0",t&&(e.position="absolute",e.top="0",e.left="0",e.height="100%",e.width="100%")}},{key:"inject_viewer_html5",value:function(e){var t,i,n,r,o,s,a,l,h,c,u=document.getElementById(this.container_id);if((c=u.dataset?u.dataset.objuid:u.getAttribute("data-objuid"))&&window[c]&&window[c].destroy(),s=e.container_parameters,e.container_parameters=null,delete e.container_parameters,this.cleanup_container(u),t=(a=this.setup_container_element(u,e,s)).elem,i=a.nosize,l=document.getElementById(this.container_id+"-info"),u)return i&&(t.id=this.container_id+"-obj-nosize"),n=this.container_id+"-obj-ovvvport",r=this.container_id+"-obj-canvas",o=this.container_id+"-obj-tiles",c=document.createElement("div"),s=document.createElement("canvas"),a=document.createElement("canvas"),s.width=0,s.height=0,a.width=0,a.height=0,this.apply_sizing_css(c,i),this.apply_sizing_css(s,i),this.apply_sizing_css(a,i),s.style.width="100%",a.style.width="100%",s.style.height="100%",a.style.height="100%",s.style.display="block",a.style.display="block",a.style.position="absolute",a.style.zIndex="30",a.style.top="0",a.style.left="0",c.id=n,c.style.overflow="hidden",c.className="ovvvport",s.id=r,s.className="orbitvu-viewer-object-canvas zindexer",a.id=o,a.className="ovvtiles zindexer",t.appendChild(c),c.appendChild(s),c.appendChild(a),e.dialog_content=l||null,window.orbitvu_global_styles||(window.orbitvu_global_styles=[]),window.orbitvu_global_images||(window.orbitvu_global_images=[]),e.viewer_base&&(l=(l=(l=e.viewer_base+"viewer5.css").replace("http:","")).replace("https:",""),~window.orbitvu_global_styles.indexOf(l)||(window.orbitvu_global_styles.push(l),(h=document.createElement("link")).rel="stylesheet",h.type="text/css",h.href=l,document.body.appendChild(h))),u.setAttribute("tabindex","999999"),h="ovc"+hr()(99999999*Math.random()),u.dataset?u.dataset.objuid=h:u.setAttribute("data-objuid",h),window[h]=new Xr(this.container_id,e),window[h]}},{key:"inject_orbitvu",value:function(){var e,t,i=this,n={};for(e in this.orbitvuargs)this.orbitvuargs.hasOwnProperty(e)&&(n[e]=this.orbitvuargs[e]);if(n.width=this.parse_size(n.width,"400px"),n.height=this.parse_size(n.height,"300px"),void 0===n.iecachefix&&(n.iecachefix="no"),t=this.orbitvu_path,"yes"===n.iecachefix&&(t+="?un="+Math.round(1e4*Math.random())),void 0===n.viewer_base&&~t.lastIndexOf("/")&&(n.viewer_base=t.slice(0,t.lastIndexOf("/")+1)),"yes"!==n.social||n.social_url||(n.social_url=encodeURIComponent(window.location.href)),t=new ur,"file:"===window.location.protocol&&""===window.location.host.split(":")[0]&&!t.isIOS()&&!t.isOrbitvu())return"yes"===n.report_bugs&&alert("[ORBITVU VIEWER] Your web browser blocked ORBITVU VIEWER because you're using file:// protocol. Please upload presentation to ORBITVU SUN or some HTTP server."),void(document.getElementById(this.container_id).innerHTML='<div style="max-width: 100%; max-height: 100%; overflow: auto; padding: 5px; color: #444444; font-family: sans-serif; text-align: center; line-height: 2em;"><div style="font-size: 0.8em;">[ORBITVU VIEWER]</div><div style="font-weight: bold;">Your web browser blocked ORBITVU VIEWER because you\'re running it directly from your hard drive (using <strong>file://</strong> protocol).</div><div style="font-size: 0.9em; color: #666666;">Please upload 360&deg; presentation to <a style="color: #00B6A7; text-decoration: none;" href="https://orbitvu.co">ORBITVU SUN</a> or use some HTTP server.</div></div>');t.has_webp_support("lossy",function(e,t){n.webp_support=!!t,i.inject_viewer_html5(n)}),t=null}}]),Wr=vo,i.d(t,"inject_orbitvu",function(){return K}),i.d(t,"inject_viewer_html5",function(){return $}),i.d(t,"get_orbitvu_gsap",function(){return ee})}]));